!function(){function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequiref017;e.register("pXY6n",function(n,r){let i;t(n.exports,"diagram",function(){return N});var o=e("cdveo"),s=e("2O8Km"),a=e("2y0iR"),c=e("apqLh");let u={},d=()=>Object.keys(u),l={get:t=>u[t],set:(t,e)=>{u[t]=e},keys:d,size:()=>d().length},h=t=>t.append("circle").attr("class","start-state").attr("r",(0,s.c)().state.sizeUnit).attr("cx",(0,s.c)().state.padding+(0,s.c)().state.sizeUnit).attr("cy",(0,s.c)().state.padding+(0,s.c)().state.sizeUnit),f=t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",(0,s.c)().state.textHeight).attr("class","divider").attr("x2",2*(0,s.c)().state.textHeight).attr("y1",0).attr("y2",0),g=(t,e)=>{let n=t.append("text").attr("x",2*(0,s.c)().state.padding).attr("y",(0,s.c)().state.textHeight+2*(0,s.c)().state.padding).attr("font-size",(0,s.c)().state.fontSize).attr("class","state-title").text(e.id),r=n.node().getBBox();return t.insert("rect",":first-child").attr("x",(0,s.c)().state.padding).attr("y",(0,s.c)().state.padding).attr("width",r.width+2*(0,s.c)().state.padding).attr("height",r.height+2*(0,s.c)().state.padding).attr("rx",(0,s.c)().state.radius),n},p=(t,e)=>{let n=function(t,e,n){let r=t.append("tspan").attr("x",2*(0,s.c)().state.padding).text(e);n||r.attr("dy",(0,s.c)().state.textHeight)},r=t.append("text").attr("x",2*(0,s.c)().state.padding).attr("y",(0,s.c)().state.textHeight+1.3*(0,s.c)().state.padding).attr("font-size",(0,s.c)().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),i=r.height,o=t.append("text").attr("x",(0,s.c)().state.padding).attr("y",i+.4*(0,s.c)().state.padding+(0,s.c)().state.dividerMargin+(0,s.c)().state.textHeight).attr("class","state-description"),a=!0,c=!0;e.descriptions.forEach(function(t){a||(n(o,t,c),c=!1),a=!1});let u=t.append("line").attr("x1",(0,s.c)().state.padding).attr("y1",(0,s.c)().state.padding+i+(0,s.c)().state.dividerMargin/2).attr("y2",(0,s.c)().state.padding+i+(0,s.c)().state.dividerMargin/2).attr("class","descr-divider"),d=o.node().getBBox(),l=Math.max(d.width,r.width);return u.attr("x2",l+3*(0,s.c)().state.padding),t.insert("rect",":first-child").attr("x",(0,s.c)().state.padding).attr("y",(0,s.c)().state.padding).attr("width",l+2*(0,s.c)().state.padding).attr("height",d.height+i+2*(0,s.c)().state.padding).attr("rx",(0,s.c)().state.radius),t},v=(t,e,n)=>{let r;let i=(0,s.c)().state.padding,o=2*(0,s.c)().state.padding,a=t.node().getBBox(),c=a.width,u=a.x,d=t.append("text").attr("x",0).attr("y",(0,s.c)().state.titleShift).attr("font-size",(0,s.c)().state.fontSize).attr("class","state-title").text(e.id),l=d.node().getBBox().width+o,h=Math.max(l,c);h===c&&(h+=o);let f=t.node().getBBox();e.doc,r=u-i,l>c&&(r=(c-h)/2+i),Math.abs(u-f.x)<i&&l>c&&(r=u-(l-c)/2);let g=1-(0,s.c)().state.textHeight;return t.insert("rect",":first-child").attr("x",r).attr("y",g).attr("class",n?"alt-composit":"composit").attr("width",h).attr("height",f.height+(0,s.c)().state.textHeight+(0,s.c)().state.titleShift+1).attr("rx","0"),d.attr("x",r+i),l<=c&&d.attr("x",u+(h-o)/2-l/2+i),t.insert("rect",":first-child").attr("x",r).attr("y",(0,s.c)().state.titleShift-(0,s.c)().state.textHeight-(0,s.c)().state.padding).attr("width",h).attr("height",3*(0,s.c)().state.textHeight).attr("rx",(0,s.c)().state.radius),t.insert("rect",":first-child").attr("x",r).attr("y",(0,s.c)().state.titleShift-(0,s.c)().state.textHeight-(0,s.c)().state.padding).attr("width",h).attr("height",f.height+3+2*(0,s.c)().state.textHeight).attr("rx",(0,s.c)().state.radius),t},y=t=>(t.append("circle").attr("class","end-state-outer").attr("r",(0,s.c)().state.sizeUnit+(0,s.c)().state.miniPadding).attr("cx",(0,s.c)().state.padding+(0,s.c)().state.sizeUnit+(0,s.c)().state.miniPadding).attr("cy",(0,s.c)().state.padding+(0,s.c)().state.sizeUnit+(0,s.c)().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",(0,s.c)().state.sizeUnit).attr("cx",(0,s.c)().state.padding+(0,s.c)().state.sizeUnit+2).attr("cy",(0,s.c)().state.padding+(0,s.c)().state.sizeUnit+2)),b=(t,e)=>{let n=(0,s.c)().state.forkWidth,r=(0,s.c)().state.forkHeight;if(e.parentId){let t=n;n=r,r=t}return t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",r).attr("x",(0,s.c)().state.padding).attr("y",(0,s.c)().state.padding)},m=(t,e,n,r)=>{let i=0,o=r.append("text");o.style("text-anchor","start"),o.attr("class","noteText");let a=t.replace(/\r\n/g,"<br/>");a=a.replace(/\n/g,"<br/>");let c=a.split(s.f.lineBreakRegex),u=1.25*(0,s.c)().state.noteMargin;for(let t of c){let r=t.trim();if(r.length>0){let t=o.append("tspan");if(t.text(r),0===u){let e=t.node().getBBox();u+=e.height}i+=u,t.attr("x",e+(0,s.c)().state.noteMargin),t.attr("y",n+i+1.25*(0,s.c)().state.noteMargin)}}return{textWidth:o.node().getBBox().width,textHeight:i}},_=(t,e)=>{e.attr("class","state-note");let n=e.append("rect").attr("x",0).attr("y",(0,s.c)().state.padding),r=e.append("g"),{textWidth:i,textHeight:o}=m(t,0,0,r);return n.attr("height",o+2*(0,s.c)().state.noteMargin),n.attr("width",i+2*(0,s.c)().state.noteMargin),n},x=function(t,e){let n=e.id,r={id:n,label:e.id,width:0,height:0},i=t.append("g").attr("id",n).attr("class","stateGroup");"start"===e.type&&h(i),"end"===e.type&&y(i),("fork"===e.type||"join"===e.type)&&b(i,e),"note"===e.type&&_(e.note.text,i),"divider"===e.type&&f(i),"default"===e.type&&0===e.descriptions.length&&g(i,e),"default"===e.type&&e.descriptions.length>0&&p(i,e);let o=i.node().getBBox();return r.width=o.width+2*(0,s.c)().state.padding,r.height=o.height+2*(0,s.c)().state.padding,l.set(n,r),r},w=0,k=function(t,e,n){e.points=e.points.filter(t=>!Number.isNaN(t.y));let r=e.points,i=(0,c.l)().x(function(t){return t.x}).y(function(t){return t.y}).curve(s.G),a=t.append("path").attr("d",i(r)).attr("id","edge"+w).attr("class","transition"),u="";if((0,s.c)().state.arrowMarkerAbsolute&&(u=(u=(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),a.attr("marker-end","url("+u+"#"+function(t){switch(t){case o.d.relationType.AGGREGATION:return"aggregation";case o.d.relationType.EXTENSION:return"extension";case o.d.relationType.COMPOSITION:return"composition";case o.d.relationType.DEPENDENCY:return"dependency"}}(o.d.relationType.DEPENDENCY)+"End)"),void 0!==n.title){let r=t.append("g").attr("class","stateLabel"),{x:i,y:o}=(0,s.A).calcLabelPosition(e.points),a=(0,s.f).getRows(n.title),c=0,u=[],d=0,l=0;for(let t=0;t<=a.length;t++){let e=r.append("text").attr("text-anchor","middle").text(a[t]).attr("x",i).attr("y",o+c),n=e.node().getBBox();d=Math.max(d,n.width),l=Math.min(l,n.x),(0,s.l).info(n.x,i,o+c),0===c&&(c=e.node().getBBox().height,(0,s.l).info("Title height",c,o)),u.push(e)}let h=c*a.length;if(a.length>1){let t=(a.length-1)*c*.5;u.forEach((e,n)=>e.attr("y",o+n*c-t)),h=c*a.length}let f=r.node().getBBox();r.insert("rect",":first-child").attr("class","box").attr("x",i-d/2-(0,s.c)().state.padding/2).attr("y",o-h/2-(0,s.c)().state.padding/2-3.5).attr("width",d+(0,s.c)().state.padding).attr("height",h+(0,s.c)().state.padding),(0,s.l).info(f)}w++},E={},S=function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},T=t=>t?t.length*i.fontSizeFactor:1,C=(t,e,n,r,o,c,u)=>{let d=new a.G({compound:!0,multigraph:!0}),l,h=!0;for(l=0;l<t.length;l++)if("relation"===t[l].stmt){h=!1;break}n?d.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:h?1:i.edgeLengthFactor,nodeSep:h?1:50,isMultiGraph:!0}):d.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:h?1:i.edgeLengthFactor,nodeSep:h?1:50,ranker:"tight-tree",isMultiGraph:!0}),d.setDefaultEdgeLabel(function(){return{}}),u.db.extract(t);let f=u.db.getStates(),g=u.db.getRelations(),p=Object.keys(f);for(let t of p){let s;let a=f[t];if(n&&(a.parentId=n),a.doc){let t=e.append("g").attr("id",a.id).attr("class","stateGroup");s=C(a.doc,t,a.id,!r,o,c,u);{let e=(t=v(t,a,r)).node().getBBox();s.width=e.width,s.height=e.height+i.padding/2,E[a.id]={y:i.compositTitleSize}}}else s=x(e,a);if(a.note){let t={descriptions:[],id:a.id+"-note",note:a.note,type:"note"},n=x(e,t);"left of"===a.note.position?(d.setNode(s.id+"-note",n),d.setNode(s.id,s)):(d.setNode(s.id,s),d.setNode(s.id+"-note",n)),d.setParent(s.id,s.id+"-group"),d.setParent(s.id+"-note",s.id+"-group")}else d.setNode(s.id,s)}(0,s.l).debug("Count=",d.nodeCount(),d);let y=0;g.forEach(function(t){y++,(0,s.l).debug("Setting edge",t),d.setEdge(t.id1,t.id2,{relation:t,width:T(t.title),height:i.labelHeight*(0,s.f).getRows(t.title).length,labelpos:"c"},"id"+y)}),(0,a.l)(d),(0,s.l).debug("Graph after layout",d.nodes());let b=e.node();d.nodes().forEach(function(t){void 0!==t&&void 0!==d.node(t)?((0,s.l).warn("Node "+t+": "+JSON.stringify(d.node(t))),o.select("#"+b.id+" #"+t).attr("transform","translate("+(d.node(t).x-d.node(t).width/2)+","+(d.node(t).y+(E[t]?E[t].y:0)-d.node(t).height/2)+" )"),o.select("#"+b.id+" #"+t).attr("data-x-shift",d.node(t).x-d.node(t).width/2),c.querySelectorAll("#"+b.id+" #"+t+" .divider").forEach(t=>{let e=t.parentElement,n=0,r=0;e&&(e.parentElement&&(n=e.parentElement.getBBox().width),Number.isNaN(r=parseInt(e.getAttribute("data-x-shift"),10))&&(r=0)),t.setAttribute("x1",0-r+8),t.setAttribute("x2",n-r-8)})):(0,s.l).debug("No Node "+t+": "+JSON.stringify(d.node(t)))});let m=b.getBBox();d.edges().forEach(function(t){void 0!==t&&void 0!==d.edge(t)&&((0,s.l).debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(d.edge(t))),k(e,d.edge(t),d.edge(t).relation))}),m=b.getBBox();let _={id:n||"root",label:n||"root",width:0,height:0};return _.width=m.width+2*i.padding,_.height=m.height+2*i.padding,(0,s.l).debug("Doc rendered",_,d),_},N={parser:o.p,db:o.d,renderer:{setConf:function(){},draw:function(t,e,n,r){let o;i=(0,s.c)().state;let a=(0,s.c)().securityLevel;"sandbox"===a&&(o=(0,s.j)("#i"+e));let c="sandbox"===a?(0,s.j)(o.nodes()[0].contentDocument.body):(0,s.j)("body"),u="sandbox"===a?o.nodes()[0].contentDocument:document;(0,s.l).debug("Rendering diagram "+t);let d=c.select(`[id='${e}']`);S(d);let l=r.db.getRootDoc();C(l,d,void 0,!1,c,u,r);let h=i.padding,f=d.node().getBBox(),g=f.width+2*h,p=f.height+2*h,v=1.75*g;(0,s.k)(d,p,v,i.useMaxWidth),d.attr("viewBox",`${f.x-i.padding}  ${f.y-i.padding} `+g+" "+p)}},styles:o.s,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,(0,o.d).clear()}}}),e.register("cdveo",function(n,r){t(n.exports,"p",function(){return s}),t(n.exports,"c",function(){return a}),t(n.exports,"b",function(){return c}),t(n.exports,"S",function(){return u}),t(n.exports,"D",function(){return d}),t(n.exports,"a",function(){return l}),t(n.exports,"d",function(){return B}),t(n.exports,"s",function(){return M});var i=e("2O8Km"),o=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,3],r=[1,5],i=[1,7],o=[2,5],s=[1,15],a=[1,17],c=[1,21],u=[1,22],d=[1,23],l=[1,24],h=[1,37],f=[1,25],g=[1,26],p=[1,27],v=[1,28],y=[1,29],b=[1,32],m=[1,33],_=[1,34],x=[1,35],w=[1,36],k=[1,39],E=[1,40],S=[1,41],T=[1,42],C=[1,38],N=[1,45],L=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],A=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],I=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],D=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],O={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(t,e,n,r,i,o,s){var a=o.length-1;switch(i){case 4:return r.setRootDoc(o[a]),o[a];case 5:this.$=[];break;case 6:"nl"!=o[a]&&(o[a-1].push(o[a]),this.$=o[a-1]);break;case 7:case 8:case 12:this.$=o[a];break;case 9:this.$="nl";break;case 13:let c=o[a-1];c.description=r.trimColon(o[a]),this.$=c;break;case 14:this.$={stmt:"relation",state1:o[a-2],state2:o[a]};break;case 15:let u=r.trimColon(o[a]);this.$={stmt:"relation",state1:o[a-3],state2:o[a-1],description:u};break;case 19:this.$={stmt:"state",id:o[a-3],type:"default",description:"",doc:o[a-1]};break;case 20:var d=o[a],l=o[a-2].trim();if(o[a].match(":")){var h=o[a].split(":");d=h[0],l=[l,h[1]]}this.$={stmt:"state",id:d,type:"default",description:l};break;case 21:this.$={stmt:"state",id:o[a-3],type:"default",description:o[a-5],doc:o[a-1]};break;case 22:this.$={stmt:"state",id:o[a],type:"fork"};break;case 23:this.$={stmt:"state",id:o[a],type:"join"};break;case 24:this.$={stmt:"state",id:o[a],type:"choice"};break;case 25:this.$={stmt:"state",id:r.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:o[a-1].trim(),note:{position:o[a-2].trim(),text:o[a].trim()}};break;case 30:this.$=o[a].trim(),r.setAccTitle(this.$);break;case 31:case 32:this.$=o[a].trim(),r.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:o[a-1].trim(),classes:o[a].trim()};break;case 35:this.$={stmt:"applyClass",id:o[a-1].trim(),styleClass:o[a].trim()};break;case 38:r.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:r.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:r.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:r.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:o[a].trim(),type:"default",description:""};break;case 46:case 47:this.$={stmt:"state",id:o[a-2].trim(),classes:[o[a].trim()],type:"default",description:""};break;case 50:r.parseDirective("%%{","open_directive");break;case 51:r.parseDirective(o[a],"type_directive");break;case 52:o[a]=o[a].trim().replace(/'/g,'"'),r.parseDirective(o[a],"arg_directive");break;case 53:r.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:e,5:n,6:4,7:r,45:6,60:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,45:6,60:i},{3:9,4:e,5:n,6:4,7:r,45:6,60:i},{3:10,4:e,5:n,6:4,7:r,45:6,60:i},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],o,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:s,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:u,19:d,22:l,24:h,25:f,26:g,27:p,28:v,29:y,32:31,33:b,35:m,37:_,38:x,42:w,45:6,50:k,51:E,52:S,53:T,56:C,60:i},{47:43,48:[1,44],63:N},t([48,63],[2,51]),t(L,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:c,17:u,19:d,22:l,24:h,25:f,26:g,27:p,28:v,29:y,32:31,33:b,35:m,37:_,38:x,42:w,45:6,50:k,51:E,52:S,53:T,56:C,60:i},t(L,[2,8]),t(L,[2,9]),t(L,[2,10]),t(L,[2,11]),t(L,[2,12],{14:[1,47],15:[1,48]}),t(L,[2,16]),{18:[1,49]},t(L,[2,18],{20:[1,50]}),{23:[1,51]},t(L,[2,22]),t(L,[2,23]),t(L,[2,24]),t(L,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},t(L,[2,28]),t(L,[2,29]),{34:[1,56]},{36:[1,57]},t(L,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},t(A,[2,44],{57:[1,61]}),t(A,[2,45],{57:[1,62]}),t(L,[2,38]),t(L,[2,39]),t(L,[2,40]),t(L,[2,41]),t(I,[2,36]),{49:63,62:[1,64]},t(I,[2,53]),t(L,[2,7]),t(L,[2,13]),{13:65,24:h,56:C},t(L,[2,17]),t(D,o,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},t(L,[2,30]),t(L,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:N},{63:[2,52]},t(L,[2,14],{14:[1,76]}),{4:s,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:u,19:d,21:[1,77],22:l,24:h,25:f,26:g,27:p,28:v,29:y,32:31,33:b,35:m,37:_,38:x,42:w,45:6,50:k,51:E,52:S,53:T,56:C,60:i},t(L,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},t(L,[2,33]),t(L,[2,34]),t(L,[2,35]),t(A,[2,46]),t(A,[2,47]),t(I,[2,37]),t(L,[2,15]),t(L,[2,19]),t(D,o,{8:81}),t(L,[2,26]),t(L,[2,27]),{4:s,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:u,19:d,21:[1,82],22:l,24:h,25:f,26:g,27:p,28:v,29:y,32:31,33:b,35:m,37:_,38:x,42:w,45:6,50:k,51:E,52:S,53:T,56:C,60:i},t(L,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(t,e){if(e.recoverable)this.trace(t);else{var n=Error(t);throw n.hash=e,n}},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],s=this.table,a="",c=0,u=0,d=o.slice.call(arguments,1),l=Object.create(this.lexer),h={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(h.yy[f]=this.yy[f]);l.setInput(t,h.yy),h.yy.lexer=l,h.yy.parser=this,typeof l.yylloc>"u"&&(l.yylloc={});var g=l.yylloc;o.push(g);var p=l.options&&l.options.ranges;"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,y,b,m,_,x,w,k,E={};;){if(y=n[n.length-1],this.defaultActions[y]?b=this.defaultActions[y]:((null===v||typeof v>"u")&&(v=function(){var t;return"number"!=typeof(t=r.pop()||l.lex()||1)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}()),b=s[y]&&s[y][v]),typeof b>"u"||!b.length||!b[0]){var S="";for(_ in k=[],s[y])this.terminals_[_]&&_>2&&k.push("'"+this.terminals_[_]+"'");S=l.showPosition?"Parse error on line "+(c+1)+`:
`+l.showPosition()+`
Expecting `+k.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(S,{text:l.match,token:this.terminals_[v]||v,line:l.yylineno,loc:g,expected:k})}if(b[0]instanceof Array&&b.length>1)throw Error("Parse Error: multiple actions possible at state: "+y+", token: "+v);switch(b[0]){case 1:n.push(v),i.push(l.yytext),o.push(l.yylloc),n.push(b[1]),v=null,u=l.yyleng,a=l.yytext,c=l.yylineno,g=l.yylloc;break;case 2:if(x=this.productions_[b[1]][1],E.$=i[i.length-x],E._$={first_line:o[o.length-(x||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(x||1)].first_column,last_column:o[o.length-1].last_column},p&&(E._$.range=[o[o.length-(x||1)].range[0],o[o.length-1].range[1]]),"u">typeof(m=this.performAction.apply(E,[a,u,c,h.yy,b[1],i,o].concat(d))))return m;x&&(n=n.slice(0,-1*x*2),i=i.slice(0,-1*x),o=o.slice(0,-1*x)),n.push(this.productions_[b[1]][0]),i.push(E.$),o.push(E._$),w=s[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}};function j(){this.yy={}}return O.lexer={EOF:1,parseError:function(t,e){if(this.yy.parser)this.yy.parser.parseError(t,e);else throw Error(t)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=Array(t.length+1).join("-");return t+this.upcomingInput()+`
`+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack)for(var o in i)this[o]=i[o];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var t,e,n,r,i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(!this._backtrack)return!1;e=!1;continue}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return 41;case 1:case 44:return 50;case 2:case 45:return 51;case 3:case 46:return 52;case 4:case 47:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:case 11:case 13:case 14:case 15:case 16:case 56:case 58:case 64:break;case 12:case 79:return 5;case 17:case 34:return this.pushState("SCALE"),17;case 18:case 35:return 18;case 19:case 25:case 36:case 51:case 54:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 37:this.pushState("STATE");break;case 38:case 41:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),25;case 39:case 42:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),26;case 40:case 43:return this.popState(),e.yytext=e.yytext.slice(0,-10).trim(),27;case 48:this.pushState("STATE_STRING");break;case 49:return this.pushState("STATE_ID"),"AS";case 50:case 66:return this.popState(),"ID";case 52:return"STATE_DESCR";case 53:return 19;case 55:return this.popState(),this.pushState("struct"),20;case 57:return this.popState(),21;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 65:return"NOTE_TEXT";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),e.yytext=e.yytext.substr(2).trim(),31;case 69:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),31;case 70:case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return e.yytext=e.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}},j.prototype=O,O.Parser=j,new j}();o.parser=o;let s=o,a="TB",c="state",u="relation",d="default",l="divider",h="start",f="color",g="fill",p="LR",v=[],y={},b=()=>({relations:[],states:{},documents:{}}),m={root:b()},_=m.root,x=0,w=0,k=t=>JSON.parse(JSON.stringify(t)),E=(t,e,n)=>{if(e.stmt===u)E(t,e.state1,!0),E(t,e.state2,!1);else if(e.stmt===c&&("[*]"===e.id?(e.id=n?t.id+"_start":t.id+"_end",e.start=n):e.id=e.id.trim()),e.doc){let t=[],n=[],r;for(r=0;r<e.doc.length;r++)if(e.doc[r].type===l){let i=k(e.doc[r]);i.doc=k(n),t.push(i),n=[]}else n.push(e.doc[r]);if(t.length>0&&n.length>0){let r={stmt:c,id:(0,i.a9)(),type:"divider",doc:k(n)};t.push(k(r)),e.doc=t}e.doc.forEach(t=>E(e,t,!0))}},S=function(t,e=d,n=null,r=null,o=null,s=null,a=null,c=null){let u=null==t?void 0:t.trim();void 0===_.states[u]?((0,i.l).info("Adding state ",u,r),_.states[u]={id:u,descriptions:[],type:e,doc:n,note:o,classes:[],styles:[],textStyles:[]}):(_.states[u].doc||(_.states[u].doc=n),_.states[u].type||(_.states[u].type=e)),r&&((0,i.l).info("Setting state description",u,r),"string"==typeof r&&I(u,r.trim()),"object"==typeof r&&r.forEach(t=>I(u,t.trim()))),o&&(_.states[u].note=o,_.states[u].note.text=(0,i.f).sanitizeText(_.states[u].note.text,(0,i.c)())),s&&((0,i.l).info("Setting state classes",u,s),("string"==typeof s?[s]:s).forEach(t=>O(u,t.trim()))),a&&((0,i.l).info("Setting state styles",u,a),("string"==typeof a?[a]:a).forEach(t=>j(u,t.trim()))),c&&((0,i.l).info("Setting state styles",u,a),("string"==typeof c?[c]:c).forEach(t=>$(u,t.trim())))},T=function(t){_=(m={root:b()}).root,x=0,y={},t||(0,i.F)()},C=function(t){return _.states[t]};function N(t=""){let e=t;return"[*]"===t&&(e=`${h}${++x}`),e}function L(t="",e=d){return"[*]"===t?h:e}let A=function(t,e,n){if("object"==typeof t){let r,o,s,a;r=N(t.id.trim()),o=L(t.id.trim(),t.type),s=N(e.id.trim()),a=L(e.id.trim(),e.type),S(r,o,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),S(s,a,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),_.relations.push({id1:r,id2:s,relationTitle:(0,i.f).sanitizeText(n,(0,i.c)())})}else{let r=N(t.trim()),o=L(t),s=function(t=""){let e=t;return"[*]"===t&&(e=`end${++x}`),e}(e.trim()),a=function(t="",e=d){return"[*]"===t?"end":e}(e);S(r,o),S(s,a),_.relations.push({id1:r,id2:s,title:(0,i.f).sanitizeText(n,(0,i.c)())})}},I=function(t,e){let n=_.states[t],r=e.startsWith(":")?e.replace(":","").trim():e;n.descriptions.push((0,i.f).sanitizeText(r,(0,i.c)()))},D=function(t,e=""){void 0===y[t]&&(y[t]={id:t,styles:[],textStyles:[]});let n=y[t];null!=e&&e.split(",").forEach(t=>{let e=t.replace(/([^;]*);/,"$1").trim();if(t.match(f)){let t=e.replace(g,"bgFill").replace(f,g);n.textStyles.push(t)}n.styles.push(e)})},O=function(t,e){t.split(",").forEach(function(t){let n=C(t);if(void 0===n){let e=t.trim();S(e),n=C(e)}n.classes.push(e)})},j=function(t,e){let n=C(t);void 0!==n&&n.textStyles.push(e)},$=function(t,e){let n=C(t);void 0!==n&&n.textStyles.push(e)},B={parseDirective:function(t,e,n){(0,i.m).parseDirective(this,t,e,n)},getConfig:()=>(0,i.c)().state,addState:S,clear:T,getState:C,getStates:function(){return _.states},getRelations:function(){return _.relations},getClasses:function(){return y},getDirection:()=>p,addRelation:A,getDividerId:()=>"divider-id-"+ ++w,setDirection:t=>{p=t},cleanupLabel:function(t){return":"===t.substring(0,1)?t.substr(2).trim():t.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){(0,i.l).info("Documents = ",m)},getRootDoc:()=>v,setRootDoc:t=>{(0,i.l).info("Setting root doc",t),v=t},getRootDocV2:()=>(E({id:"root"},{id:"root",doc:v},!0),{id:"root",doc:v}),extract:t=>{let e;e=t.doc?t.doc:t,(0,i.l).info(e),T(!0),(0,i.l).info("Extract",e),e.forEach(t=>{switch(t.stmt){case c:S(t.id.trim(),t.type,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles);break;case u:A(t.state1,t.state2,t.description);break;case"classDef":D(t.id.trim(),t.classes);break;case"applyClass":O(t.id.trim(),t.styleClass)}})},trimColon:t=>t&&":"===t[0]?t.substr(1).trim():t.trim(),getAccTitle:i.g,setAccTitle:i.s,getAccDescription:i.a,setAccDescription:i.b,addStyleClass:D,setCssClass:O,addDescription:I,setDiagramTitle:i.D,getDiagramTitle:i.E},M=t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`}),e.register("2y0iR",function(n,r){t(n.exports,"b",function(){return tf}),t(n.exports,"d",function(){return tP}),t(n.exports,"f",function(){return tU}),t(n.exports,"m",function(){return tJ}),t(n.exports,"h",function(){return tQ}),t(n.exports,"i",function(){return t0}),t(n.exports,"p",function(){return t8}),t(n.exports,"r",function(){return ee}),t(n.exports,"u",function(){return ec}),t(n.exports,"G",function(){return eu}),t(n.exports,"l",function(){return eK});var i,o,s,a,c,u=e("2O8Km");function d(t){return"symbol"==typeof t||(0,u.aa)(t)&&"[object Symbol]"==(0,u.ab)(t)}function l(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var h=1/0,f=u.ac?u.ac.prototype:void 0,g=f?f.toString:void 0,p=/\s/,v=/^\s+/,y=0/0,b=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,_=/^0o[0-7]+$/i,x=parseInt,w=1/0;function k(t){return t?(t=function(t){if("number"==typeof t)return t;if(d(t))return y;if((0,u.ae)(t)){var e,n="function"==typeof t.valueOf?t.valueOf():t;t=(0,u.ae)(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=(e=t)&&e.slice(0,function(t){for(var e=t.length;e--&&p.test(t.charAt(e)););return e}(e)+1).replace(v,"");var r=m.test(t);return r||_.test(t)?x(t.slice(2),r?2:8):b.test(t)?y:+t}(t))===w||t===-w?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0}function E(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function S(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return -1}function T(t){return t!=t}function C(t,e){return!!(null==t?0:t.length)&&(e==e?function(t,e,n){for(var r=-1,i=t.length;++r<i;)if(t[r]===e)return r;return -1}(t,e,0):S(t,T,0))>-1}function N(t){return(0,u.af)(t)?(0,u.ag)(t):(0,u.ah)(t)}var L=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/;function I(t,e){if((0,u.ad)(t))return!1;var n=typeof t;return!!("number"==n||"symbol"==n||"boolean"==n||null==t||d(t))||A.test(t)||!L.test(t)||null!=e&&t in Object(e)}var D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O=/\\(\\)?/g,j=(o=(i=(0,u.ai)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(D,function(t,n,r,i){e.push(r?i.replace(O,"$1"):n||t)}),e},function(t){return 500===o.size&&o.clear(),t})).cache,i);function $(t){return null==t?"":function t(e){if("string"==typeof e)return e;if((0,u.ad)(e))return l(e,t)+"";if(d(e))return g?g.call(e):"";var n=e+"";return"0"==n&&1/e==-h?"-0":n}(t)}function B(t,e){return(0,u.ad)(t)?t:I(t,e)?[t]:j($(t))}var M=1/0;function R(t){if("string"==typeof t||d(t))return t;var e=t+"";return"0"==e&&1/t==-M?"-0":e}function P(t,e){e=B(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[R(e[n++])];return n&&n==r?t:void 0}function F(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var G=u.ac?u.ac.isConcatSpreadable:void 0;function z(t){return(0,u.ad)(t)||(0,u.aj)(t)||!!(G&&t&&t[G])}function U(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=z),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?U(a,e-1,n,r,i):F(i,a):r||(i[i.length]=a)}return i}function Y(t){return(null==t?0:t.length)?U(t,1):[]}function H(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function q(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function V(){return[]}var J=Object.prototype.propertyIsEnumerable,K=Object.getOwnPropertySymbols,X=K?function(t){return null==t?[]:q(K(t=Object(t)),function(e){return J.call(t,e)})}:V,W=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)F(e,X(t)),t=(0,u.ao)(t);return e}:V;function Q(t,e,n){var r=e(t);return(0,u.ad)(t)?r:F(r,n(t))}function Z(t){return Q(t,N,X)}function tt(t){return Q(t,u.an,W)}var te=Object.prototype.hasOwnProperty,tn=/\w*$/,tr=u.ac?u.ac.prototype:void 0,ti=tr?tr.valueOf:void 0,to=u.as&&u.as.isMap,ts=to?(0,u.at)(to):function(t){return(0,u.aa)(t)&&"[object Map]"==(0,u.ar)(t)},ta=u.as&&u.as.isSet,tc=ta?(0,u.at)(ta):function(t){return(0,u.aa)(t)&&"[object Set]"==(0,u.ar)(t)},tu="[object Arguments]",td="[object Function]",tl="[object Object]",th={};function tf(t,e,n,r,i,o){var s,a=1&e,c=2&e,d=4&e;if(n&&(s=i?n(t,r,i,o):n(t)),void 0!==s)return s;if(!(0,u.ae)(t))return t;var l=(0,u.ad)(t);if(l){if(h=t.length,f=new t.constructor(h),h&&"string"==typeof t[0]&&te.call(t,"index")&&(f.index=t.index,f.input=t.input),s=f,!a)return(0,u.au)(t,s)}else{var h,f,g,p,v,y,b=(0,u.ar)(t),m=b==td||"[object GeneratorFunction]"==b;if((0,u.av)(t))return(0,u.aw)(t,a);if(b==tl||b==tu||m&&!i){if(s=c||m?{}:(0,u.ax)(t),!a)return c?(p=(g=s)&&(0,u.am)(t,(0,u.an)(t),g),(0,u.am)(t,W(t),p)):(y=(v=s)&&(0,u.am)(t,N(t),v),(0,u.am)(t,X(t),y))}else{if(!th[b])return i?t:{};s=function(t,e,n){var r,i,o=t.constructor;switch(e){case"[object ArrayBuffer]":return(0,u.ap)(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return r=n?(0,u.ap)(t.buffer):t.buffer,new t.constructor(r,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,u.aq)(t,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(i=new t.constructor(t.source,tn.exec(t))).lastIndex=t.lastIndex,i;case"[object Symbol]":return ti?Object(ti.call(t)):{}}}(t,b,a)}}o||(o=new u.ay);var _=o.get(t);if(_)return _;o.set(t,s),tc(t)?t.forEach(function(r){s.add(tf(r,e,n,r,t,o))}):ts(t)&&t.forEach(function(r,i){s.set(i,tf(r,e,n,i,t,o))});var x=d?c?tt:Z:c?u.an:N,w=l?void 0:x(t);return E(w||t,function(r,i){w&&(r=t[i=r]),(0,u.az)(s,i,tf(r,e,n,i,t,o))}),s}function tg(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new u.aA;++e<n;)this.add(t[e])}function tp(t,e){return t.has(e)}function tv(t,e,n,r,i,o){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var l=-1,h=!0,f=2&n?new tg:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var g=t[l],p=e[l];if(r)var v=s?r(p,g,l,e,t,o):r(g,p,l,t,e,o);if(void 0!==v){if(v)continue;h=!1;break}if(f){if(!function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}(e,function(t,e){if(!tp(f,e)&&(g===t||i(g,t,n,r,o)))return f.push(e)})){h=!1;break}}else if(!(g===p||i(g,p,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function ty(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function tb(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}th[tu]=th["[object Array]"]=th["[object ArrayBuffer]"]=th["[object DataView]"]=th["[object Boolean]"]=th["[object Date]"]=th["[object Float32Array]"]=th["[object Float64Array]"]=th["[object Int8Array]"]=th["[object Int16Array]"]=th["[object Int32Array]"]=th["[object Map]"]=th["[object Number]"]=th[tl]=th["[object RegExp]"]=th["[object Set]"]=th["[object String]"]=th["[object Symbol]"]=th["[object Uint8Array]"]=th["[object Uint8ClampedArray]"]=th["[object Uint16Array]"]=th["[object Uint32Array]"]=!0,th["[object Error]"]=th[td]=th["[object WeakMap]"]=!1,tg.prototype.add=tg.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},tg.prototype.has=function(t){return this.__data__.has(t)};var tm=u.ac?u.ac.prototype:void 0,t_=tm?tm.valueOf:void 0,tx=Object.prototype.hasOwnProperty,tw="[object Arguments]",tk="[object Array]",tE="[object Object]",tS=Object.prototype.hasOwnProperty;function tT(t,e,n,r,i){return t===e||(null!=t&&null!=e&&((0,u.aa)(t)||(0,u.aa)(e))?function(t,e,n,r,i,o){var s=(0,u.ad)(t),a=(0,u.ad)(e),c=s?tk:(0,u.ar)(t),d=a?tk:(0,u.ar)(e);c=c==tw?tE:c,d=d==tw?tE:d;var l=c==tE,h=d==tE,f=c==d;if(f&&(0,u.av)(t)){if(!(0,u.av)(e))return!1;s=!0,l=!1}if(f&&!l)return o||(o=new u.ay),s||(0,u.aD)(t)?tv(t,e,n,r,i,o):function(t,e,n,r,i,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new u.aC(t),new u.aC(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,u.aB)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=ty;case"[object Set]":var c=1&r;if(a||(a=tb),t.size!=e.size&&!c)break;var d=s.get(t);if(d)return d==e;r|=2,s.set(t,e);var l=tv(a(t),a(e),r,i,o,s);return s.delete(t),l;case"[object Symbol]":if(t_)return t_.call(t)==t_.call(e)}return!1}(t,e,c,n,r,i,o);if(!(1&n)){var g=l&&tS.call(t,"__wrapped__"),p=h&&tS.call(e,"__wrapped__");if(g||p){var v=g?t.value():t,y=p?e.value():e;return o||(o=new u.ay),i(v,y,n,r,o)}}return!!f&&(o||(o=new u.ay),function(t,e,n,r,i,o){var s=1&n,a=Z(t),c=a.length;if(c!=Z(e).length&&!s)return!1;for(var u=c;u--;){var d=a[u];if(!(s?d in e:tx.call(e,d)))return!1}var l=o.get(t),h=o.get(e);if(l&&h)return l==e&&h==t;var f=!0;o.set(t,e),o.set(e,t);for(var g=s;++u<c;){var p=t[d=a[u]],v=e[d];if(r)var y=s?r(v,p,d,e,t,o):r(p,v,d,t,e,o);if(!(void 0===y?p===v||i(p,v,n,r,o):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var b=t.constructor,m=e.constructor;b!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m)&&(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o))}(t,e,n,r,tT,i):t!=t&&e!=e)}function tC(t){return t==t&&!(0,u.ae)(t)}function tN(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}function tL(t,e){return null!=t&&e in Object(t)}function tA(t,e,n){e=B(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=R(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&(0,u.aE)(i)&&(0,u.aF)(s,i)&&((0,u.ad)(t)||(0,u.aj)(t))}function tI(t,e){return null!=t&&tA(t,e,tL)}function tD(t){var e,n,r,i;return"function"==typeof t?t:null==t?u.aG:"object"==typeof t?(0,u.ad)(t)?(e=t[0],n=t[1],I(e)&&tC(n)?tN(R(e),n):function(t){var r,i=void 0===(r=null==t?void 0:P(t,e))?void 0:r;return void 0===i&&i===n?tI(t,e):tT(n,i,3)}):1==(r=function(t){for(var e=N(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,tC(i)]}return e}(t)).length&&r[0][2]?tN(r[0][0],r[0][1]):function(e){return e===t||function(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=n[i])[0],d=t[c],l=a[1];if(s&&a[2]){if(void 0===d&&!(c in t))return!1}else{var h=new u.ay;if(r)var f=r(d,l,c,t,e,h);if(!(void 0===f?tT(l,d,3,r,h):f))return!1}}return!0}(e,t,r)}:I(t)?(i=R(t),function(t){return null==t?void 0:t[i]}):function(e){return P(e,t)}}function tO(t,e){return t&&(0,u.aH)(t,e,N)}var tj=function(t,e){if(null==t)return t;if(!(0,u.af)(t))return tO(t,e);for(var n=t.length,r=s?n:-1,i=Object(t);(s?r--:++r<n)&&!1!==e(i[r],r,i););return t};let t$=function(){return(0,u.aI).Date.now()};var tB=Object.prototype,tM=tB.hasOwnProperty,tR=(0,u.aJ)(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&(0,u.aK)(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=(0,u.an)(o),a=-1,c=s.length;++a<c;){var d=s[a],l=t[d];(void 0===l||(0,u.aB)(l,tB[d])&&!tM.call(t,d))&&(t[d]=o[d])}return t});let tP=tR;function tF(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function tG(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}function tz(t){return"function"==typeof t?t:u.aG}function tU(t,e){return((0,u.ad)(t)?E:tj)(t,tz(e))}function tY(t,e){return((0,u.ad)(t)?q:function(t,e){var n=[];return tj(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n})(t,tD(e))}var tH=Math.max,tq=(a=function(t,e,n){var r,i,o=null==t?0:t.length;if(!o)return -1;var s=null==n?0:(i=(r=k(n))%1,r==r?i?r-i:r:0);return s<0&&(s=tH(o+s,0)),S(t,tD(e),s)},function(t,e,n){var r=Object(t);if(!(0,u.af)(t)){var i=tD(e);t=N(t),e=function(t){return i(r[t],t,r)}}var o=a(t,e,n);return o>-1?r[i?t[o]:o]:void 0});function tV(t,e){var n=-1,r=(0,u.af)(t)?Array(t.length):[];return tj(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function tJ(t,e){return((0,u.ad)(t)?l:tV)(t,tD(e))}function tK(t,e){return t>e}var tX=Object.prototype.hasOwnProperty;function tW(t,e){return null!=t&&tX.call(t,e)}function tQ(t,e){return null!=t&&tA(t,e,tW)}function tZ(t){return null==t?[]:l(N(t),function(e){return t[e]})}function t0(t){return void 0===t}function t1(t,e){return t<e}function t2(t,e){var n={};return e=tD(e),tO(t,function(t,r,i){(0,u.aL)(n,r,e(t,r,i))}),n}function t3(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(void 0===a?s==s&&!d(s):n(s,a)))var a=s,c=o}return c}function t5(t){return t&&t.length?t3(t,u.aG,tK):void 0}function t4(t){return t&&t.length?t3(t,u.aG,t1):void 0}function t6(t,e){return t&&t.length?t3(t,tD(e),t1):void 0}var t7=(c=function(t,e){return null==t?{}:function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=P(t,s);n(a,s)&&function(t,e,n,r){if((0,u.ae)(t)){e=B(e,t);for(var i=-1,o=e.length,s=o-1,a=t;null!=a&&++i<o;){var c=R(e[i]),d=n;if("__proto__"===c||"constructor"===c||"prototype"===c)break;if(i!=s){var l=a[c];void 0===(d=r?r(l,c,a):void 0)&&(d=(0,u.ae)(l)?l:(0,u.aF)(e[i+1])?[]:{})}(0,u.az)(a,c,d),a=a[c]}}}(o,B(s,t),a)}return o}(t,e,function(e,n){return tI(t,n)})},(0,u.ak)((0,u.al)(c,void 0,Y),c+""));let t8=t7;var t9=Math.ceil,et=Math.max;let ee=function(t,e,n){return n&&"number"!=typeof n&&(0,u.aK)(t,e,n)&&(e=n=void 0),t=k(t),void 0===e?(e=t,t=0):e=k(e),n=void 0===n?t<e?1:-1:k(n),function(t,e,n,r){for(var i=-1,o=et(t9((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}(t,e,n,void 0)};function en(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function er(t,e,n){var r=(0,u.ad)(t)?H:en,i=arguments.length<3;return r(t,tD(e),n,i,tj)}var ei=(0,u.aJ)(function(t,e){if(null==t)return[];var n,r,i,o=e.length;return o>1&&(0,u.aK)(t,e[0],e[1])?e=[]:o>2&&(0,u.aK)(e[0],e[1],e[2])&&(e=[e[0]]),n=U(e,1),r=[],n=n.length?l(n,function(t){return(0,u.ad)(t)?function(e){return P(e,1===t.length?t[0]:t)}:t}):[u.aG],i=-1,n=l(n,(0,u.at)(tD)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(tV(t,function(t,e,r){return{criteria:l(n,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var c=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=d(t),s=void 0!==e,a=null===e,c=e==e,u=d(e);if(!a&&!u&&!o&&t>e||o&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!c)return -1}return 0}(i[r],o[r]);if(c){if(r>=a)return c;return c*("desc"==n[r]?-1:1)}}return t.index-e.index}(t,e,r)})}),eo=u.aM&&1/tb(new u.aM([,-0]))[1]==1/0?function(t){return new u.aM(t)}:function(){},es=(0,u.aJ)(function(t){return function(t,e,n){var r=-1,i=C,o=t.length,s=!0,a=[],c=a;if(n)s=!1,i=tF;else if(o>=200){var u=e?null:eo(t);if(u)return tb(u);s=!1,i=tp,c=new tg}else c=e?[]:a;t:for(;++r<o;){var d=t[r],l=e?e(d):d;if(d=n||0!==d?d:0,s&&l==l){for(var h=c.length;h--;)if(c[h]===l)continue t;e&&c.push(l),a.push(d)}else i(c,l,n)||(c!==a&&c.push(l),a.push(d))}return a}(U(t,1,u.aN,!0))}),ea=0;function ec(t){var e=++ea;return $(t)+e}class eu{isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return(0,u.z)(t)||(t=(0,u.aO)(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return N(this._nodes)}sources(){var t=this;return tY(this.nodes(),function(e){return(0,u.aP)(t._in[e])})}sinks(){var t=this;return tY(this.nodes(),function(e){return(0,u.aP)(t._out[e])})}setNodes(t,e){var n=arguments,r=this;return tU(t,function(t){n.length>1?r.setNode(t,e):r.setNode(t)}),this}setNode(t,e){return tQ(this._nodes,t)?arguments.length>1&&(this._nodes[t]=e):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\x00",this._children[t]={},this._children["\x00"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount),this}node(t){return this._nodes[t]}hasNode(t){return tQ(this._nodes,t)}removeNode(t){var e=this;if(tQ(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],tU(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),tU(N(this._in[t]),n),delete this._in[t],delete this._preds[t],tU(N(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,e){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(t0(e))e="\x00";else{e+="";for(var n=e;!t0(n);n=this.parent(n))if(n===t)throw Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var e=this._parent[t];if("\x00"!==e)return e}}children(t){if(t0(t)&&(t="\x00"),this._isCompound){var e=this._children[t];if(e)return N(e)}else{if("\x00"===t)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var e=this._preds[t];if(e)return N(e)}successors(t){var e=this._sucs[t];if(e)return N(e)}neighbors(t){var e=this.predecessors(t);if(e)return es(e,this.successors(t))}isLeaf(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length}filterNodes(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;tU(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),tU(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var r={};return this._isCompound&&tU(e.nodes(),function(t){e.setParent(t,function t(i){var o=n.parent(i);return void 0===o||e.hasNode(o)?(r[i]=o,o):o in r?r[o]:t(o)}(t))}),e}setDefaultEdgeLabel(t){return(0,u.z)(t)||(t=(0,u.aO)(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return tZ(this._edgeObjs)}setPath(t,e){var n=this,r=arguments;return er(t,function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i}),this}setEdge(){var t,e,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2==arguments.length&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,t0(n)||(n=""+n);var s=eh(this._isDirected,t,e,n);if(tQ(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(!t0(n)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(t,e,n);var a=function(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}var a={v:i,w:o};return r&&(a.name=r),a}(this._isDirected,t,e,n);return t=a.v,e=a.w,Object.freeze(a),this._edgeObjs[s]=a,ed(this._preds[e],t),ed(this._sucs[t],e),this._in[e][s]=a,this._out[t][s]=a,this._edgeCount++,this}edge(t,e,n){var r=1==arguments.length?ef(this._isDirected,arguments[0]):eh(this._isDirected,t,e,n);return this._edgeLabels[r]}hasEdge(t,e,n){var r=1==arguments.length?ef(this._isDirected,arguments[0]):eh(this._isDirected,t,e,n);return tQ(this._edgeLabels,r)}removeEdge(t,e,n){var r=1==arguments.length?ef(this._isDirected,arguments[0]):eh(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],el(this._preds[e],t),el(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this}inEdges(t,e){var n=this._in[t];if(n){var r=tZ(n);return e?tY(r,function(t){return t.v===e}):r}}outEdges(t,e){var n=this._out[t];if(n){var r=tZ(n);return e?tY(r,function(t){return t.w===e}):r}}nodeEdges(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}constructor(t={}){this._isDirected=!tQ(t,"directed")||t.directed,this._isMultigraph=!!tQ(t,"multigraph")&&t.multigraph,this._isCompound=!!tQ(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=(0,u.aO)(void 0),this._defaultEdgeLabelFn=(0,u.aO)(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\x00"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}}function ed(t,e){t[e]?t[e]++:t[e]=1}function el(t,e){--t[e]||delete t[e]}function eh(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}return i+"\x01"+o+"\x01"+(t0(r)?"\x00":r)}function ef(t,e){return eh(t,e.v,e.w,e.name)}eu.prototype._nodeCount=0,eu.prototype._edgeCount=0;class eg{dequeue(){var t=this._sentinel,e=t._prev;if(e!==t)return ep(e),e}enqueue(t){var e=this._sentinel;t._prev&&t._next&&ep(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e}toString(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,ev)),n=n._prev;return"["+t.join(", ")+"]"}constructor(){var t={};t._next=t._prev=t,this._sentinel=t}}function ep(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function ev(t,e){if("_next"!==t&&"_prev"!==t)return e}var ey=(0,u.aO)(1);function eb(t,e,n,r,i){var o=i?[]:void 0;return tU(t.inEdges(r.v),function(r){var s=t.edge(r),a=t.node(r.v);i&&o.push({v:r.v,w:r.w}),a.out-=s,em(e,n,a)}),tU(t.outEdges(r.v),function(r){var i=t.edge(r),o=r.w,s=t.node(o);s.in-=i,em(e,n,s)}),t.removeNode(r.v),o}function em(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function e_(t,e,n,r){var i;do i=ec(r);while(t.hasNode(i))return n.dummy=e,t.setNode(i,n),i}function ex(t){var e=new eu({multigraph:t.isMultigraph()}).setGraph(t.graph());return tU(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),tU(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function ew(t,e){var n,r,i=t.x,o=t.y,s=e.x-i,a=e.y-o,c=t.width/2,u=t.height/2;if(!s&&!a)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(a)*c>Math.abs(s)*u?(a<0&&(u=-u),n=u*s/a,r=u):(s<0&&(c=-c),n=c,r=c*a/s),{x:i+n,y:o+r}}function ek(t){var e=tJ(ee(eS(t)+1),function(){return[]});return tU(t.nodes(),function(n){var r=t.node(n),i=r.rank;t0(i)||(e[i][r.order]=n)}),e}function eE(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),e_(t,"border",i,e)}function eS(t){return t5(tJ(t.nodes(),function(e){var n=t.node(e).rank;if(!t0(n))return n}))}function eT(t,e){var n=t$();try{return e()}finally{console.log(t+" time: "+(t$()-n)+"ms")}}function eC(t,e){return e()}function eN(t,e,n,r,i,o){var s=i[e][o-1],a=e_(t,"border",{width:0,height:0,rank:o,borderType:e},n);i[e][o]=a,t.setParent(a,r),s&&t.setEdge(s,a,{weight:1})}function eL(t){tU(t.nodes(),function(e){eA(t.node(e))}),tU(t.edges(),function(e){eA(t.edge(e))})}function eA(t){var e=t.width;t.width=t.height,t.height=e}function eI(t){t.y=-t.y}function eD(t){var e=t.x;t.x=t.y,t.y=e}function eO(t){var e={};tU(t.sources(),function n(r){var i=t.node(r);if(tQ(e,r))return i.rank;e[r]=!0;var o=t4(tJ(t.outEdges(r),function(e){return n(e.w)-t.edge(e).minlen}));return(o===Number.POSITIVE_INFINITY||null==o)&&(o=0),i.rank=o})}function ej(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function e$(t){var e,n,r=new eu({directed:!1}),i=t.nodes()[0],o=t.nodeCount();for(r.setNode(i,{});tU(r.nodes(),function e(n){tU(t.nodeEdges(n),function(i){var o=i.v,s=n===o?i.w:o;r.hasNode(s)||ej(t,i)||(r.setNode(s,{}),r.setEdge(n,s,{}),e(s))})}),r.nodeCount()<o;)e=function(t,e){return t6(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return ej(e,n)})}(r,t),n=r.hasNode(e.v)?ej(t,e):-ej(t,e),function(t,e,n){tU(t.nodes(),function(t){e.node(t).rank+=n})}(r,t,n);return r}function eB(t,e,n){(0,u.ad)(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return tU(e,function(e){if(!t.hasNode(e))throw Error("Graph does not have node: "+e);(function t(e,n,r,i,o,s){tQ(i,n)||(i[n]=!0,r||s.push(n),tU(o(n),function(n){t(e,n,r,i,o,s)}),r&&s.push(n))})(t,e,"post"===n,o,r,i)}),i}function eM(t){e=t,n=new eu().setGraph(e.graph()),tU(e.nodes(),function(t){n.setNode(t,e.node(t))}),tU(e.edges(),function(t){var r=n.edge(t.v,t.w)||{weight:0,minlen:1},i=e.edge(t);n.setEdge(t.v,t.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),eO(t=n);var e,n,r,i,o=e$(t);for(eF(o),eR(o,t);r=eG(o);)i=ez(o,t,r),eU(o,t,r,i)}function eR(t,e){var n=eB(t,t.nodes(),"post");tU(n=n.slice(0,n.length-1),function(n){var r;r=t.node(n).parent,t.edge(n,r).cutvalue=eP(t,e,n)})}function eP(t,e,n){var r=t.node(n).parent,i=!0,o=e.edge(n,r),s=0;return o||(i=!1,o=e.edge(r,n)),s=o.weight,tU(e.nodeEdges(n),function(o){var a=o.v===n,c=a?o.w:o.v;if(c!==r){var u=a===i,d=e.edge(o).weight;if(s+=u?d:-d,t.hasEdge(n,c)){var l=t.edge(n,c).cutvalue;s+=u?-l:l}}}),s}function eF(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,r,i,o){var s=r,a=e.node(i);return n[i]=!0,tU(e.neighbors(i),function(o){tQ(n,o)||(r=t(e,n,r,o,i))}),a.low=s,a.lim=r++,o?a.parent=o:delete a.parent,r}(t,{},1,e)}function eG(t){return tq(t.edges(),function(e){return t.edge(e).cutvalue<0})}function ez(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),s=t.node(i),a=o,c=!1;return o.lim>s.lim&&(a=s,c=!0),t6(tY(e.edges(),function(e){return c===eY(t,t.node(e.v),a)&&c!==eY(t,t.node(e.w),a)}),function(t){return ej(e,t)})}function eU(t,e,n,r){var i,o,s=n.v,a=n.w;t.removeEdge(s,a),t.setEdge(r.v,r.w,{}),eF(t),eR(t,e),i=tq(t.nodes(),function(t){return!e.node(t).parent}),tU(eB(t,i,"pre").slice(1),function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)})}function eY(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function eH(t,e,n){for(var r;e.length&&(r=tG(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function eq(t,e,n){return tJ(e,function(e){var r,i;return r=function(t){for(var e;t.hasNode(e=ec("_root")););return e}(t),i=new eu({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(e){return t.node(e)}),tU(t.nodes(),function(o){var s=t.node(o),a=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),tU(t[n](o),function(e){var n=e.v===o?e.w:e.v,r=i.edge(n,o),s=t0(r)?0:r.weight;i.setEdge(n,o,{weight:t.edge(e).weight+s})}),tQ(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i})}function eV(t,e){tU(e,function(e){tU(e,function(e,n){t.node(e).order=n})})}function eJ(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function eK(t,e){var n=e&&e.debugTiming?eT:eC;n("layout",function(){var e=n("  buildLayoutGraph",function(){var e,n;return e=new eu({multigraph:!0,compound:!0}),n=e4(t.graph()),e.setGraph((0,u.aQ)({},eW,e5(n,eX),t8(n,eQ))),tU(t.nodes(),function(n){var r=e4(t.node(n));e.setNode(n,tP(e5(r,eZ),e0)),e.setParent(n,t.parent(n))}),tU(t.edges(),function(n){var r=e4(t.edge(n));e.setEdge(n,(0,u.aQ)({},e2,e5(r,e1),t8(r,e3)))}),e});n("  runLayout",function(){n("    makeSpaceForEdgeLabels",function(){var t;t=e.graph(),t.ranksep/=2,tU(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}),n("    removeSelfEdges",function(){tU(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}),n("    acyclic",function(){var t,n,r,i;t="greedy"===e.graph().acyclicer?function(t,e){if(1>=t.nodeCount())return[];var n,r,i,o,s,a,c=(n=e||ey,r=new eu,i=0,o=0,tU(t.nodes(),function(t){r.setNode(t,{v:t,in:0,out:0})}),tU(t.edges(),function(t){var e=r.edge(t.v,t.w)||0,s=n(t),a=e+s;r.setEdge(t.v,t.w,a),o=Math.max(o,r.node(t.v).out+=s),i=Math.max(i,r.node(t.w).in+=s)}),s=ee(o+i+3).map(function(){return new eg}),a=i+1,tU(r.nodes(),function(t){em(s,a,r.node(t))}),{graph:r,buckets:s,zeroIdx:a});return Y(tJ(function(t,e,n){for(var r,i=[],o=e[e.length-1],s=e[0];t.nodeCount();){for(;r=s.dequeue();)eb(t,e,n,r);for(;r=o.dequeue();)eb(t,e,n,r);if(t.nodeCount()){for(var a=e.length-2;a>0;--a)if(r=e[a].dequeue()){i=i.concat(eb(t,e,n,r,!0));break}}}return i}(c.graph,c.buckets,c.zeroIdx),function(e){return t.outEdges(e.v,e.w)}))}(e,function(t){return e.edge(t).weight}):(n=[],r={},i={},tU(e.nodes(),function t(o){tQ(i,o)||(i[o]=!0,r[o]=!0,tU(e.outEdges(o),function(e){tQ(r,e.w)?n.push(e):t(e.w)}),delete r[o])}),n),tU(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,ec("rev"))})}),n("    nestingGraph.run",function(){var t,n,r,i,o;t=e_(e,"root",{},"_root"),r=2*(n=t5(tZ((o={},tU(e.children(),function(t){(function t(n,r){var i=e.children(n);i&&i.length&&tU(i,function(e){t(e,r+1)}),o[n]=r})(t,1)}),o)))-1)+1,e.graph().nestingRoot=t,tU(e.edges(),function(t){e.edge(t).minlen*=r}),i=er(e.edges(),function(t,n){return t+e.edge(n).weight},0)+1,tU(e.children(),function(s){(function t(e,n,r,i,o,s,a){var c=e.children(a);if(!c.length){a!==n&&e.setEdge(n,a,{weight:0,minlen:r});return}var u=eE(e,"_bt"),d=eE(e,"_bb"),l=e.node(a);e.setParent(u,a),l.borderTop=u,e.setParent(d,a),l.borderBottom=d,tU(c,function(c){t(e,n,r,i,o,s,c);var l=e.node(c),h=l.borderTop?l.borderTop:c,f=l.borderBottom?l.borderBottom:c,g=l.borderTop?i:2*i,p=h!==f?1:o-s[a]+1;e.setEdge(u,h,{weight:g,minlen:p,nestingEdge:!0}),e.setEdge(f,d,{weight:g,minlen:p,nestingEdge:!0})}),e.parent(a)||e.setEdge(n,u,{weight:0,minlen:o+s[a]})})(e,t,r,i,n,o,s)}),e.graph().nodeRankFactor=r}),n("    rank",function(){(function(t){switch(t.graph().ranker){case"network-simplex":default:eM(t);break;case"tight-tree":eO(t),e$(t);break;case"longest-path":eO(t)}})(ex(e))}),n("    injectEdgeLabelProxies",function(){tU(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};e_(e,"edge-proxy",i,"_ep")}})}),n("    removeEmptyRanks",function(){var t,n,r,i;t=t4(tJ(e.nodes(),function(t){return e.node(t).rank})),n=[],tU(e.nodes(),function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)}),r=0,i=e.graph().nodeRankFactor,tU(n,function(t,n){t0(t)&&n%i!=0?--r:r&&tU(t,function(t){e.node(t).rank+=r})})}),n("    nestingGraph.cleanup",function(){var t;t=e.graph(),e.removeNode(t.nestingRoot),delete t.nestingRoot,tU(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}),n("    normalizeRanks",function(){var t;t=t4(tJ(e.nodes(),function(t){return e.node(t).rank})),tU(e.nodes(),function(n){var r=e.node(n);tQ(r,"rank")&&(r.rank-=t)})}),n("    assignRankMinMax",function(){var t;t=0,tU(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=t5(t,r.maxRank))}),e.graph().maxRank=t}),n("    removeEdgeLabelProxies",function(){tU(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}),n("    normalize.run",function(){e.graph().dummyChains=[],tU(e.edges(),function(t){(function(t,e){var n,r,i,o=e.v,s=t.node(o).rank,a=e.w,c=t.node(a).rank,u=e.name,d=t.edge(e),l=d.labelRank;if(c!==s+1){for(t.removeEdge(e),i=0,++s;s<c;++i,++s)d.points=[],n=e_(t,"edge",r={width:0,height:0,edgeLabel:d,edgeObj:e,rank:s},"_d"),s===l&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),t.setEdge(o,n,{weight:d.weight},u),0===i&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,a,{weight:d.weight},u)}})(e,t)})}),n("    parentDummyChains",function(){var t,n;t={},n=0,tU(e.children(),function r(i){var o=n;tU(e.children(i),r),t[i]={low:o,lim:n++}}),tU(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,s=[],a=[],c=Math.min(e[n].low,e[r].low),u=Math.max(e[n].lim,e[r].lim);i=n;do s.push(i=t.parent(i));while(i&&(e[i].low>c||u>e[i].lim))for(o=i,i=r;(i=t.parent(i))!==o;)a.push(i);return{path:s.concat(a.reverse()),lca:o}}(e,t,i.v,i.w),s=o.path,a=o.lca,c=0,u=s[c],d=!0;n!==i.w;){if(r=e.node(n),d){for(;(u=s[c])!==a&&e.node(u).maxRank<r.rank;)c++;u===a&&(d=!1)}if(!d){for(;c<s.length-1&&e.node(u=s[c+1]).minRank<=r.rank;)c++;u=s[c]}e.setParent(n,u),n=e.successors(n)[0]}})}),n("    addBorderSegments",function(){tU(e.children(),function t(n){var r=e.children(n),i=e.node(n);if(r.length&&tU(r,t),tQ(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)eN(e,"borderLeft","_bl",n,i,o),eN(e,"borderRight","_br",n,i,o)}})}),n("    order",function(){(function(t){var e=eS(t),n=eq(t,ee(1,e+1),"inEdges"),r=eq(t,ee(e-1,-1,-1),"outEdges"),i=(o={},a=t5(tJ(s=tY(t.nodes(),function(e){return!t.children(e).length}),function(e){return t.node(e).rank})),c=tJ(ee(a+1),function(){return[]}),tU(ei(s,function(e){return t.node(e).rank}),function e(n){tQ(o,n)||(o[n]=!0,c[t.node(n).rank].push(n),tU(t.successors(n),e))}),c);eV(t,i);for(var o,s,a,c,d,l=Number.POSITIVE_INFINITY,h=0,f=0;f<4;++h,++f){(function(t,e){var n=new eu;tU(t,function(t){var r,i,o,s=t.graph().root,a=function t(e,n,r,i){var o,s,a,c,u,d,l,h,f,g=e.children(n),p=e.node(n),v=p?p.borderLeft:void 0,y=p?p.borderRight:void 0,b={};v&&(g=tY(g,function(t){return t!==v&&t!==y}));var m=tJ(g,function(t){var n=e.inEdges(t);if(!n.length)return{v:t};var r=er(n,function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}});tU(m,function(n){if(e.children(n.v).length){var o=t(e,n.v,r,i);b[n.v]=o,tQ(o,"barycenter")&&(t0(n.barycenter)?(n.barycenter=o.barycenter,n.weight=o.weight):(n.barycenter=(n.barycenter*n.weight+o.barycenter*o.weight)/(n.weight+o.weight),n.weight+=o.weight))}});var _=(o={},tU(m,function(t,e){var n=o[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};t0(t.barycenter)||(n.barycenter=t.barycenter,n.weight=t.weight)}),tU(r.edges(),function(t){var e=o[t.v],n=o[t.w];t0(e)||t0(n)||(n.indegree++,e.out.push(o[t.w]))}),function(t){for(var e=[];t.length;){var n=t.pop();e.push(n),tU(n.in.reverse(),function(t){return function(e){e.merged||(t0(e.barycenter)||t0(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}(n)),tU(n.out,function(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}(n))}return tJ(tY(e,function(t){return!t.merged}),function(t){return t8(t,["vs","i","barycenter","weight"])})}(tY(o,function(t){return!t.indegree})));(function(t,e){tU(t,function(t){t.vs=Y(t.vs.map(function(t){return e[t]?e[t].vs:t}))})})(_,b);var x=(a=(s={lhs:[],rhs:[]},tU(_,function(t){tQ(t,"barycenter")?s.lhs.push(t):s.rhs.push(t)}),s).lhs,c=ei(s.rhs,function(t){return-t.i}),u=[],d=0,l=0,h=0,a.sort(function(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}(!!i)),h=eH(u,c,h),tU(a,function(t){h+=t.vs.length,u.push(t.vs),d+=t.barycenter*t.weight,l+=t.weight,h=eH(u,c,h)}),f={vs:Y(u)},l&&(f.barycenter=d/l,f.weight=l),f);if(v&&(x.vs=Y([v,x.vs,y]),e.predecessors(v).length)){var w=e.node(e.predecessors(v)[0]),k=e.node(e.predecessors(y)[0]);tQ(x,"barycenter")||(x.barycenter=0,x.weight=0),x.barycenter=(x.barycenter*x.weight+w.order+k.order)/(x.weight+2),x.weight+=2}return x}(t,s,n,e);tU(a.vs,function(e,n){t.node(e).order=n}),r=a.vs,o={},tU(r,function(e){for(var r,s,a=t.parent(e);a;){if((r=t.parent(a))?(s=o[r],o[r]=a):(s=i,i=a),s&&s!==a){n.setEdge(s,a);return}a=r}})})})(h%2?n:r,h%4>=2),i=ek(t);var g=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=function(t,e,n){for(var r=function(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;){var a=r<o?e[r]:void 0;n(s,t[r],a)}return s}(n||[],tJ(n,function(t,e){return e})||[],u.az),i=Y(tJ(e,function(e){return ei(tJ(t.outEdges(e),function(e){return{pos:r[e.w],weight:t.edge(e).weight}}),"pos")})),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=tJ(Array(s),function(){return 0}),c=0;return tU(i.forEach(function(t){var e=t.pos+o;a[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=a[e+1]),e=e-1>>1,a[e]+=t.weight;c+=t.weight*n})),c}(t,e[r-1],e[r]);return n}(t,i);g<l&&(f=0,d=tf(i,5),l=g)}eV(t,d)})(e)}),n("    insertSelfEdges",function(){tU(ek(e),function(t){var n=0;tU(t,function(t,r){var i=e.node(t);i.order=r+n,tU(i.selfEdges,function(t){e_(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}),n("    adjustCoordinateSystem",function(){var t;("lr"===(t=e.graph().rankdir.toLowerCase())||"rl"===t)&&eL(e)}),n("    position",function(){var t,n,r,i,o,s,a,c,d,l,h,f,g,p,v,y,b;v=ek(p=t=ex(t=e)),y=p.graph().ranksep,b=0,tU(v,function(t){var e=t5(tJ(t,function(t){return p.node(t).height}));tU(t,function(t){p.node(t).y=b+e/2}),b+=e+y}),o=ek(n=t),s=(0,u.aQ)((r={},er(o,function(t,e){var i=0,o=0,s=t.length,a=tG(e);return tU(e,function(t,c){var u=function(t,e){if(t.node(e).dummy)return tq(t.predecessors(e),function(e){return t.node(e).dummy})}(n,t),d=u?n.node(u).order:s;(u||t===a)&&(tU(e.slice(o,c+1),function(t){tU(n.predecessors(t),function(e){var o=n.node(e),s=o.order;(s<i||d<s)&&!(o.dummy&&n.node(t).dummy)&&eJ(r,e,t)})}),o=c+1,i=d)}),e}),r),function(t,e){var n={};function r(e,r,i,o,s){var a;tU(ee(r,i),function(r){a=e[r],t.node(a).dummy&&tU(t.predecessors(a),function(e){var r=t.node(e);r.dummy&&(r.order<o||r.order>s)&&eJ(n,e,a)})})}return er(e,function(e,n){var i,o=-1,s=0;return tU(n,function(a,c){if("border"===t.node(a).dummy){var u=t.predecessors(a);u.length&&(i=t.node(u[0]).order,r(n,s,c,o,i),s=c,o=i)}r(n,s,n.length,i,e.length)}),n}),n}(n,o)),a={},tU(["u","d"],function(t){i="u"===t?o:tZ(o).reverse(),tU(["l","r"],function(e){"r"===e&&(i=tJ(i,function(t){return tZ(t).reverse()}));var r,o,c,u,d=("u"===t?n.predecessors:n.successors).bind(n),l=(o={},c={},u={},tU(r=i,function(t){tU(t,function(t,e){o[t]=t,c[t]=t,u[t]=e})}),tU(r,function(t){var e=-1;tU(t,function(t){var n=d(t);if(n.length){n=ei(n,function(t){return u[t]});for(var r=(n.length-1)/2,i=Math.floor(r),a=Math.ceil(r);i<=a;++i){var l=n[i];c[t]===t&&e<u[l]&&!function(t,e,n){if(e>n){var r=e;e=n,n=r}return tQ(t[e],n)}(s,t,l)&&(c[l]=t,c[t]=o[t]=o[l],e=u[l])}}})}),{root:o,align:c}),h=function(t,e,n,r,i){var o,s,a,c,u,d={},l=(a=new eu,o=(c=t.graph()).nodesep,s=c.edgesep,u=function(t,e,n){var r,a,c=t.node(e),u=t.node(n);if(a=0+c.width/2,tQ(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":r=-c.width/2;break;case"r":r=c.width/2}if(r&&(a+=i?r:-r),r=0,a+=(c.dummy?s:o)/2+(u.dummy?s:o)/2+u.width/2,tQ(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":r=u.width/2;break;case"r":r=-u.width/2}return r&&(a+=i?r:-r),r=0,a},tU(e,function(e){var r;tU(e,function(e){var i=n[e];if(a.setNode(i),r){var o=n[r],s=a.edge(o,i);a.setEdge(o,i,Math.max(u(t,e,r),s||0))}r=e})}),a),h=i?"borderLeft":"borderRight";function f(t,e){for(var n=l.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return f(function(t){d[t]=l.inEdges(t).reduce(function(t,e){return Math.max(t,d[e.v]+l.edge(e))},0)},l.predecessors.bind(l)),f(function(e){var n=l.outEdges(e).reduce(function(t,e){return Math.min(t,d[e.w]-l.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==h&&(d[e]=Math.max(d[e],n))},l.successors.bind(l)),tU(r,function(t){d[t]=d[n[t]]}),d}(n,i,l.root,l.align,"r"===e);"r"===e&&(h=t2(h,function(t){return-t})),a[t+e]=h})}),c=t6(tZ(a),function(t){var e=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return null==t||(0,u.aH)(t,tz(function(t,i){var o=n.node(i).width/2;e=Math.max(t+o,e),r=Math.min(t-o,r)}),u.an),e-r}),l=t4(d=tZ(c)),h=t5(d),tU(["u","d"],function(t){tU(["l","r"],function(e){var n,r=t+e,i=a[r];if(i!==c){var o=tZ(i);(n="l"===e?l-t4(o):h-t5(o))&&(a[r]=t2(i,function(t){return t+n}))}})}),f=n.graph().align,(g=t2(a.ul,function(t,e){if(f)return a[f.toLowerCase()][e];var n=ei(tJ(a,e));return(n[1]+n[2])/2}))&&tO(g,tz(function(e,n){t.node(n).x=e}))}),n("    positionSelfEdges",function(){tU(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}),n("    removeBorderNodes",function(){tU(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(tG(n.borderLeft)),s=e.node(tG(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),tU(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}),n("    normalize.undo",function(){tU(e.graph().dummyChains,function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})}),n("    fixupEdgeLabelCoords",function(){tU(e.edges(),function(t){var n=e.edge(t);if(tQ(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}),n("    undoCoordinateSystem",function(){var t;("bt"===(t=e.graph().rankdir.toLowerCase())||"rl"===t)&&(tU(e.nodes(),function(t){eI(e.node(t))}),tU(e.edges(),function(t){var n=e.edge(t);tU(n.points,eI),tQ(n,"y")&&eI(n)})),("lr"===t||"rl"===t)&&(tU(e.nodes(),function(t){eD(e.node(t))}),tU(e.edges(),function(t){var n=e.edge(t);tU(n.points,eD),tQ(n,"x")&&eD(n)}),eL(e))}),n("    translateGraph",function(){(function(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),s=o.marginx||0,a=o.marginy||0;function c(t){var o=t.x,s=t.y,a=t.width,c=t.height;e=Math.min(e,o-a/2),n=Math.max(n,o+a/2),r=Math.min(r,s-c/2),i=Math.max(i,s+c/2)}tU(t.nodes(),function(e){c(t.node(e))}),tU(t.edges(),function(e){var n=t.edge(e);tQ(n,"x")&&c(n)}),e-=s,r-=a,tU(t.nodes(),function(n){var i=t.node(n);i.x-=e,i.y-=r}),tU(t.edges(),function(n){var i=t.edge(n);tU(i.points,function(t){t.x-=e,t.y-=r}),tQ(i,"x")&&(i.x-=e),tQ(i,"y")&&(i.y-=r)}),o.width=n-e+s,o.height=i-r+a})(e)}),n("    assignNodeIntersects",function(){tU(e.edges(),function(t){var n,r,i=e.edge(t),o=e.node(t.v),s=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=s,r=o),i.points.unshift(ew(o,n)),i.points.push(ew(s,r))})}),n("    reversePoints",function(){tU(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}),n("    acyclic.undo",function(){tU(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})})}),n("  updateInputGraph",function(){tU(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),tU(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,tQ(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height})})}Error(),eM.initLowLimValues=eF,eM.initCutValues=eR,eM.calcCutValue=eP,eM.leaveEdge=eG,eM.enterEdge=ez,eM.exchangeEdges=eU;var eX=["nodesep","edgesep","ranksep","marginx","marginy"],eW={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},eQ=["acyclicer","ranker","rankdir","align"],eZ=["width","height"],e0={width:0,height:0},e1=["minlen","weight","width","height","labeloffset"],e2={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},e3=["labelpos"];function e5(t,e){return t2(t8(t,e),Number)}function e4(t){var e={};return tU(t,function(t,n){e[n.toLowerCase()]=t}),e}}),e.register("apqLh",function(n,r){t(n.exports,"l",function(){return u});var i=e("kCXse"),o=e("lpALS"),s=e("2O8Km");function a(t){return t[0]}function c(t){return t[1]}function u(t,e){var n=(0,o.c)(!0),r=null,u=s.o,d=null;function l(s){var a,c,l,h=(s=(0,i.a)(s)).length,f=!1;for(null==r&&(d=u(l=(0,o.p)())),a=0;a<=h;++a)!(a<h&&n(c=s[a],a,s))===f&&((f=!f)?d.lineStart():d.lineEnd()),f&&d.point(+t(c,a,s),+e(c,a,s));if(l)return d=null,l+""||null}return t="function"==typeof t?t:void 0===t?a:(0,o.c)(t),e="function"==typeof e?e:void 0===e?c:(0,o.c)(e),l.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.c)(+e),l):t},l.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.c)(+t),l):e},l.defined=function(t){return arguments.length?(n="function"==typeof t?t:(0,o.c)(!!t),l):n},l.curve=function(t){return arguments.length?(u=t,null!=r&&(d=u(r)),l):u},l.context=function(t){return arguments.length?(null==t?r=d=null:d=u(r=t),l):r},l}}),e.register("kCXse",function(e,n){t(e.exports,"a",function(){return r});function r(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}}),e.register("lpALS",function(e,n){t(e.exports,"p",function(){return a}),t(e.exports,"c",function(){return c});let r=Math.PI,i=2*r,o=i-1e-6;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function a(){return new s}function c(t){return function(){return t}}s.prototype=a.prototype={constructor:s,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var s=this._x1,a=this._y1,c=n-t,u=i-e,d=s-t,l=a-e,h=d*d+l*l;if(o<0)throw Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6){if(Math.abs(l*c-u*d)>1e-6&&o){var f=n-s,g=i-a,p=c*c+u*u,v=Math.sqrt(p),y=Math.sqrt(h),b=o*Math.tan((r-Math.acos((p+h-(f*f+g*g))/(2*v*y)))/2),m=b/y,_=b/v;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*d)+","+(e+m*l)),this._+="A"+o+","+o+",0,0,"+ +(l*f>d*g)+","+(this._x1=t+_*c)+","+(this._y1=e+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)}},arc:function(t,e,n,s,a,c){t=+t,e=+e,n=+n,c=!!c;var u=n*Math.cos(s),d=n*Math.sin(s),l=t+u,h=e+d,f=1^c,g=c?s-a:a-s;if(n<0)throw Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+h:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+l+","+h),n&&(g<0&&(g=g%i+i),g>o?this._+="A"+n+","+n+",0,1,"+f+","+(t-u)+","+(e-d)+"A"+n+","+n+",0,1,"+f+","+(this._x1=l)+","+(this._y1=h):g>1e-6&&(this._+="A"+n+","+n+",0,"+ +(g>=r)+","+f+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}}})}();