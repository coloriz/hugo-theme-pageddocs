!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequiref017;t.register("aWD9A",function(n,r){e(n.exports,"diagram",function(){return s});var i=t("lGABY"),a=t("19en6"),o=t("2O8Km");let s={parser:i.p,db:i.f,renderer:a.f,styles:a.g,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,(0,o.u)({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),(0,a.f).setConf(e.flowchart),(0,i.f).clear(),(0,i.f).setGen("gen-2")}}}),t.register("lGABY",function(n,r){e(n.exports,"p",function(){return o}),e(n.exports,"f",function(){return eo}),e(n.exports,"d",function(){return es});var i=t("2O8Km"),a=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,9],n=[1,7],r=[1,6],i=[1,8],a=[1,20,21,22,23,38,45,47,49,53,69,92,93,94,95,96,97,110,113,114,117,119,122,123,124,129,130,131,132],o=[2,10],s=[1,20],u=[1,21],l=[1,22],c=[1,23],d=[1,30],h=[1,32],f=[1,33],p=[1,34],g=[1,56],y=[1,55],b=[1,36],m=[1,37],x=[1,38],v=[1,39],k=[1,40],w=[1,51],E=[1,53],_=[1,49],A=[1,54],S=[1,50],C=[1,57],T=[1,52],F=[1,58],D=[1,59],B=[1,41],L=[1,42],I=[1,43],N=[1,44],O=[1,62],M=[1,67],j=[1,20,21,22,23,38,43,45,47,49,53,69,92,93,94,95,96,97,110,113,114,117,119,122,123,124,129,130,131,132],R=[1,71],P=[1,70],$=[1,72],z=[20,21,23,84,86],H=[1,98],V=[1,103],q=[1,102],G=[1,99],U=[1,95],X=[1,101],Y=[1,97],W=[1,104],K=[1,100],Q=[1,105],J=[1,96],Z=[20,21,22,23,84,86],ee=[20,21,22,23,55,84,86],et=[20,21,22,23,40,53,55,57,59,61,63,65,67,69,72,74,76,77,79,84,86,97,110,113,114,117,119,122,123,124],en=[20,21,23],er=[20,21,23,53,69,84,86,97,110,113,114,117,119,122,123,124],ei=[1,12,20,21,22,23,24,38,43,45,47,49,53,69,92,93,94,95,96,97,110,113,114,117,119,122,123,124,129,130,131,132],ea=[53,69,97,110,113,114,117,119,122,123,124],eo=[1,134],es=[1,133],eu=[1,141],el=[1,155],ec=[1,156],ed=[1,157],eh=[1,158],ef=[1,143],ep=[1,145],eg=[1,149],ey=[1,150],eb=[1,151],em=[1,152],ex=[1,153],ev=[1,154],ek=[1,159],ew=[1,160],eE=[1,139],e_=[1,140],eA=[1,147],eS=[1,142],eC=[1,146],eT=[1,144],eF=[20,21,22,23,38,43,45,47,49,53,69,92,93,94,95,96,97,110,113,114,117,119,122,123,124,129,130,131,132],eD=[1,162],eB=[20,21,22,23,26,53,69,97,113,114,117,119,122,123,124],eL=[1,182],eI=[1,178],eN=[1,179],eO=[1,183],eM=[1,180],ej=[1,181],eR=[12,21,22,24],eP=[86,124,127],e$=[20,21,22,23,24,26,38,40,43,53,69,84,92,93,94,95,96,97,98,113,117,119,122,123,124],ez=[22,114],eH=[42,58,60,62,64,66,71,73,75,76,78,80,124,125,126],eV=[1,250],eq=[1,248],eG=[1,252],eU=[1,246],eX=[1,247],eY=[1,249],eW=[1,251],eK=[1,253],eQ=[1,270],eJ=[20,21,23,114],eZ=[20,21,22,23,69,92,113,114,117,118,119,120],e1={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,textNoTags:39,SQS:40,text:41,SQE:42,end:43,direction:44,acc_title:45,acc_title_value:46,acc_descr:47,acc_descr_value:48,acc_descr_multiline_value:49,link:50,node:51,styledVertex:52,AMP:53,vertex:54,STYLE_SEPARATOR:55,idString:56,DOUBLECIRCLESTART:57,DOUBLECIRCLEEND:58,PS:59,PE:60,"(-":61,"-)":62,STADIUMSTART:63,STADIUMEND:64,SUBROUTINESTART:65,SUBROUTINEEND:66,VERTEX_WITH_PROPS_START:67,"NODE_STRING[field]":68,COLON:69,"NODE_STRING[value]":70,PIPE:71,CYLINDERSTART:72,CYLINDEREND:73,DIAMOND_START:74,DIAMOND_STOP:75,TAGEND:76,TRAPSTART:77,TRAPEND:78,INVTRAPSTART:79,INVTRAPEND:80,linkStatement:81,arrowText:82,TESTSTR:83,START_LINK:84,edgeText:85,LINK:86,edgeTextToken:87,STR:88,MD_STR:89,textToken:90,keywords:91,STYLE:92,LINKSTYLE:93,CLASSDEF:94,CLASS:95,CLICK:96,DOWN:97,UP:98,textNoTagsToken:99,stylesOpt:100,"idString[vertex]":101,"idString[class]":102,CALLBACKNAME:103,CALLBACKARGS:104,HREF:105,LINK_TARGET:106,"STR[link]":107,"STR[tooltip]":108,alphaNum:109,DEFAULT:110,numList:111,INTERPOLATE:112,NUM:113,COMMA:114,style:115,styleComponent:116,NODE_STRING:117,UNIT:118,BRKT:119,PCT:120,idStringToken:121,MINUS:122,MULT:123,UNICODE_TEXT:124,TEXT:125,TAGSTART:126,EDGE_TEXT:127,alphaNumToken:128,direction_tb:129,direction_bt:130,direction_rl:131,direction_lr:132,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",42:"SQE",43:"end",45:"acc_title",46:"acc_title_value",47:"acc_descr",48:"acc_descr_value",49:"acc_descr_multiline_value",53:"AMP",55:"STYLE_SEPARATOR",57:"DOUBLECIRCLESTART",58:"DOUBLECIRCLEEND",59:"PS",60:"PE",61:"(-",62:"-)",63:"STADIUMSTART",64:"STADIUMEND",65:"SUBROUTINESTART",66:"SUBROUTINEEND",67:"VERTEX_WITH_PROPS_START",68:"NODE_STRING[field]",69:"COLON",70:"NODE_STRING[value]",71:"PIPE",72:"CYLINDERSTART",73:"CYLINDEREND",74:"DIAMOND_START",75:"DIAMOND_STOP",76:"TAGEND",77:"TRAPSTART",78:"TRAPEND",79:"INVTRAPSTART",80:"INVTRAPEND",83:"TESTSTR",84:"START_LINK",86:"LINK",88:"STR",89:"MD_STR",92:"STYLE",93:"LINKSTYLE",94:"CLASSDEF",95:"CLASS",96:"CLICK",97:"DOWN",98:"UP",101:"idString[vertex]",102:"idString[class]",103:"CALLBACKNAME",104:"CALLBACKARGS",105:"HREF",106:"LINK_TARGET",107:"STR[link]",108:"STR[tooltip]",110:"DEFAULT",112:"INTERPOLATE",113:"NUM",114:"COMMA",117:"NODE_STRING",118:"UNIT",119:"BRKT",120:"PCT",122:"MINUS",123:"MULT",124:"UNICODE_TEXT",125:"TEXT",126:"TAGSTART",127:"EDGE_TEXT",129:"direction_tb",130:"direction_bt",131:"direction_rl",132:"direction_lr"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[51,1],[51,5],[52,1],[52,3],[54,4],[54,4],[54,6],[54,4],[54,4],[54,4],[54,8],[54,4],[54,4],[54,4],[54,6],[54,4],[54,4],[54,4],[54,4],[54,4],[54,1],[50,2],[50,3],[50,3],[50,1],[50,3],[85,1],[85,2],[85,1],[85,1],[81,1],[82,3],[41,1],[41,2],[41,1],[41,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[39,1],[39,2],[39,1],[39,1],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,3],[37,5],[37,5],[37,7],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[111,1],[111,3],[100,1],[100,3],[115,1],[115,2],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[90,1],[90,1],[90,1],[90,1],[99,1],[99,1],[99,1],[99,1],[99,1],[99,1],[99,1],[99,1],[99,1],[99,1],[99,1],[87,1],[87,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[56,1],[56,2],[109,1],[109,2],[44,1],[44,1],[44,1],[44,1]],performAction:function(e,t,n,r,i,a,o){var s=a.length-1;switch(i){case 5:r.parseDirective("%%{","open_directive");break;case 6:r.parseDirective(a[s],"type_directive");break;case 7:a[s]=a[s].trim().replace(/'/g,'"'),r.parseDirective(a[s],"arg_directive");break;case 8:r.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:(!Array.isArray(a[s])||a[s].length>0)&&a[s-1].push(a[s]),this.$=a[s-1];break;case 12:case 184:case 57:case 79:case 182:this.$=a[s];break;case 19:r.setDirection("TB"),this.$="TB";break;case 20:r.setDirection(a[s-1]),this.$=a[s-1];break;case 35:this.$=a[s-1].nodes;break;case 41:this.$=r.addSubGraph(a[s-6],a[s-1],a[s-4]);break;case 42:this.$=r.addSubGraph(a[s-3],a[s-1],a[s-3]);break;case 43:this.$=r.addSubGraph(void 0,a[s-1],void 0);break;case 45:this.$=a[s].trim(),r.setAccTitle(this.$);break;case 46:case 47:this.$=a[s].trim(),r.setAccDescription(this.$);break;case 51:r.addLink(a[s-2].stmt,a[s],a[s-1]),this.$={stmt:a[s],nodes:a[s].concat(a[s-2].nodes)};break;case 52:r.addLink(a[s-3].stmt,a[s-1],a[s-2]),this.$={stmt:a[s-1],nodes:a[s-1].concat(a[s-3].nodes)};break;case 53:this.$={stmt:a[s-1],nodes:a[s-1]};break;case 54:this.$={stmt:a[s],nodes:a[s]};break;case 55:case 129:case 131:this.$=[a[s]];break;case 56:this.$=a[s-4].concat(a[s]);break;case 58:this.$=a[s-2],r.setClass(a[s-2],a[s]);break;case 59:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"square");break;case 60:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"doublecircle");break;case 61:this.$=a[s-5],r.addVertex(a[s-5],a[s-2],"circle");break;case 62:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"ellipse");break;case 63:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"stadium");break;case 64:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"subroutine");break;case 65:this.$=a[s-7],r.addVertex(a[s-7],a[s-1],"rect",void 0,void 0,void 0,Object.fromEntries([[a[s-5],a[s-3]]]));break;case 66:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"cylinder");break;case 67:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"round");break;case 68:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"diamond");break;case 69:this.$=a[s-5],r.addVertex(a[s-5],a[s-2],"hexagon");break;case 70:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"odd");break;case 71:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"trapezoid");break;case 72:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"inv_trapezoid");break;case 73:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"lean_right");break;case 74:this.$=a[s-3],r.addVertex(a[s-3],a[s-1],"lean_left");break;case 75:this.$=a[s],r.addVertex(a[s]);break;case 76:a[s-1].text=a[s],this.$=a[s-1];break;case 77:case 78:a[s-2].text=a[s-1],this.$=a[s-2];break;case 80:var u=r.destructLink(a[s],a[s-2]);this.$={type:u.type,stroke:u.stroke,length:u.length,text:a[s-1]};break;case 81:case 87:case 102:case 104:this.$={text:a[s],type:"text"};break;case 82:case 88:case 103:this.$={text:a[s-1].text+""+a[s],type:a[s-1].type};break;case 83:case 89:this.$={text:a[s],type:"string"};break;case 84:case 90:case 105:this.$={text:a[s],type:"markdown"};break;case 85:var u=r.destructLink(a[s]);this.$={type:u.type,stroke:u.stroke,length:u.length};break;case 86:this.$=a[s-1];break;case 106:this.$=a[s-4],r.addClass(a[s-2],a[s]);break;case 107:this.$=a[s-4],r.setClass(a[s-2],a[s]);break;case 108:case 116:this.$=a[s-1],r.setClickEvent(a[s-1],a[s]);break;case 109:case 117:this.$=a[s-3],r.setClickEvent(a[s-3],a[s-2]),r.setTooltip(a[s-3],a[s]);break;case 110:this.$=a[s-2],r.setClickEvent(a[s-2],a[s-1],a[s]);break;case 111:this.$=a[s-4],r.setClickEvent(a[s-4],a[s-3],a[s-2]),r.setTooltip(a[s-4],a[s]);break;case 112:this.$=a[s-2],r.setLink(a[s-2],a[s]);break;case 113:this.$=a[s-4],r.setLink(a[s-4],a[s-2]),r.setTooltip(a[s-4],a[s]);break;case 114:this.$=a[s-4],r.setLink(a[s-4],a[s-2],a[s]);break;case 115:this.$=a[s-6],r.setLink(a[s-6],a[s-4],a[s]),r.setTooltip(a[s-6],a[s-2]);break;case 118:this.$=a[s-1],r.setLink(a[s-1],a[s]);break;case 119:this.$=a[s-3],r.setLink(a[s-3],a[s-2]),r.setTooltip(a[s-3],a[s]);break;case 120:this.$=a[s-3],r.setLink(a[s-3],a[s-2],a[s]);break;case 121:this.$=a[s-5],r.setLink(a[s-5],a[s-4],a[s]),r.setTooltip(a[s-5],a[s-2]);break;case 122:this.$=a[s-4],r.addVertex(a[s-2],void 0,void 0,a[s]);break;case 123:this.$=a[s-4],r.updateLink([a[s-2]],a[s]);break;case 124:this.$=a[s-4],r.updateLink(a[s-2],a[s]);break;case 125:this.$=a[s-8],r.updateLinkInterpolate([a[s-6]],a[s-2]),r.updateLink([a[s-6]],a[s]);break;case 126:this.$=a[s-8],r.updateLinkInterpolate(a[s-6],a[s-2]),r.updateLink(a[s-6],a[s]);break;case 127:this.$=a[s-6],r.updateLinkInterpolate([a[s-4]],a[s]);break;case 128:this.$=a[s-6],r.updateLinkInterpolate(a[s-4],a[s]);break;case 130:case 132:a[s-2].push(a[s]),this.$=a[s-2];break;case 134:this.$=a[s-1]+a[s];break;case 183:case 185:this.$=a[s-1]+""+a[s];break;case 186:this.$={stmt:"dir",value:"TB"};break;case 187:this.$={stmt:"dir",value:"BT"};break;case 188:this.$={stmt:"dir",value:"RL"};break;case 189:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:t,16:4,21:n,22:r,24:i},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:t,16:4,21:n,22:r,24:i},e(a,o,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:r,24:i},{16:15,21:n,22:r,24:i},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:s,21:u,22:l,23:c,32:24,33:25,34:26,35:27,36:28,37:29,38:d,44:31,45:h,47:f,49:p,51:35,52:45,53:g,54:46,56:47,69:y,92:b,93:m,94:x,95:v,96:k,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D,129:B,130:L,131:I,132:N},{8:60,10:[1,61],15:O},e([10,15],[2,6]),e(a,[2,17]),e(a,[2,18]),e(a,[2,19]),{20:[1,64],21:[1,65],22:M,27:63,30:66},e(j,[2,11]),e(j,[2,12]),e(j,[2,13]),e(j,[2,14]),e(j,[2,15]),e(j,[2,16]),{9:68,20:R,21:P,23:$,50:69,81:73,84:[1,74],86:[1,75]},{9:76,20:R,21:P,23:$},{9:77,20:R,21:P,23:$},{9:78,20:R,21:P,23:$},{9:79,20:R,21:P,23:$},{9:80,20:R,21:P,23:$},{9:82,20:R,21:P,22:[1,81],23:$},e(j,[2,44]),{46:[1,83]},{48:[1,84]},e(j,[2,47]),e(z,[2,54],{30:85,22:M}),{22:[1,86]},{22:[1,87]},{22:[1,88]},{22:[1,89]},{26:H,53:V,69:q,88:[1,93],97:G,103:[1,90],105:[1,91],109:92,113:U,114:X,117:Y,119:W,122:K,123:Q,124:J,128:94},e(j,[2,186]),e(j,[2,187]),e(j,[2,188]),e(j,[2,189]),e(Z,[2,55]),e(Z,[2,57],{55:[1,106]}),e(ee,[2,75],{121:119,40:[1,107],53:g,57:[1,108],59:[1,109],61:[1,110],63:[1,111],65:[1,112],67:[1,113],69:y,72:[1,114],74:[1,115],76:[1,116],77:[1,117],79:[1,118],97:w,110:E,113:_,114:A,117:S,119:C,122:T,123:F,124:D}),e(et,[2,182]),e(et,[2,143]),e(et,[2,144]),e(et,[2,145]),e(et,[2,146]),e(et,[2,147]),e(et,[2,148]),e(et,[2,149]),e(et,[2,150]),e(et,[2,151]),e(et,[2,152]),e(et,[2,153]),{9:120,20:R,21:P,23:$},{11:121,14:[1,122]},e(en,[2,8]),e(a,[2,20]),e(a,[2,26]),e(a,[2,27]),{21:[1,123]},e(er,[2,34],{30:124,22:M}),e(j,[2,35]),{51:125,52:45,53:g,54:46,56:47,69:y,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D},e(ei,[2,48]),e(ei,[2,49]),e(ei,[2,50]),e(ea,[2,79],{82:126,71:[1,128],83:[1,127]}),{85:129,87:130,88:[1,131],89:[1,132],124:eo,127:es},e([53,69,71,83,97,110,113,114,117,119,122,123,124],[2,85]),e(j,[2,36]),e(j,[2,37]),e(j,[2,38]),e(j,[2,39]),e(j,[2,40]),{22:eu,24:el,26:ec,38:ed,39:135,43:eh,53:ef,69:ep,84:eg,88:[1,137],89:[1,138],91:148,92:ey,93:eb,94:em,95:ex,96:ev,97:ek,98:ew,99:136,113:eE,117:e_,119:eA,122:eS,123:eC,124:eT},e(eF,o,{17:161}),e(j,[2,45]),e(j,[2,46]),e(z,[2,53],{53:eD}),{53:g,56:163,69:y,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D},{110:[1,164],111:165,113:[1,166]},{53:g,56:167,69:y,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D},{53:g,56:168,69:y,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D},e(en,[2,108],{22:[1,169],104:[1,170]}),{88:[1,171]},e(en,[2,116],{128:173,22:[1,172],26:H,53:V,69:q,97:G,113:U,114:X,117:Y,119:W,122:K,123:Q,124:J}),e(en,[2,118],{22:[1,174]}),e(eB,[2,184]),e(eB,[2,171]),e(eB,[2,172]),e(eB,[2,173]),e(eB,[2,174]),e(eB,[2,175]),e(eB,[2,176]),e(eB,[2,177]),e(eB,[2,178]),e(eB,[2,179]),e(eB,[2,180]),e(eB,[2,181]),{53:g,56:175,69:y,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D},{41:176,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{41:184,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{41:186,59:[1,185],76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{41:187,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{41:188,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{41:189,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{117:[1,190]},{41:191,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{41:192,74:[1,193],76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{41:194,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{41:195,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{41:196,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},e(et,[2,183]),e(eR,[2,3]),{8:197,15:O},{15:[2,7]},e(a,[2,28]),e(er,[2,33]),e(z,[2,51],{30:198,22:M}),e(ea,[2,76],{22:[1,199]}),{22:[1,200]},{41:201,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{86:[1,202],87:203,124:eo,127:es},e(eP,[2,81]),e(eP,[2,83]),e(eP,[2,84]),e(eP,[2,169]),e(eP,[2,170]),{9:205,20:R,21:P,22:eu,23:$,24:el,26:ec,38:ed,40:[1,204],43:eh,53:ef,69:ep,84:eg,91:148,92:ey,93:eb,94:em,95:ex,96:ev,97:ek,98:ew,99:206,113:eE,117:e_,119:eA,122:eS,123:eC,124:eT},e(e$,[2,102]),e(e$,[2,104]),e(e$,[2,105]),e(e$,[2,158]),e(e$,[2,159]),e(e$,[2,160]),e(e$,[2,161]),e(e$,[2,162]),e(e$,[2,163]),e(e$,[2,164]),e(e$,[2,165]),e(e$,[2,166]),e(e$,[2,167]),e(e$,[2,168]),e(e$,[2,91]),e(e$,[2,92]),e(e$,[2,93]),e(e$,[2,94]),e(e$,[2,95]),e(e$,[2,96]),e(e$,[2,97]),e(e$,[2,98]),e(e$,[2,99]),e(e$,[2,100]),e(e$,[2,101]),{18:18,19:19,20:s,21:u,22:l,23:c,32:24,33:25,34:26,35:27,36:28,37:29,38:d,43:[1,207],44:31,45:h,47:f,49:p,51:35,52:45,53:g,54:46,56:47,69:y,92:b,93:m,94:x,95:v,96:k,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D,129:B,130:L,131:I,132:N},{22:M,30:208},{22:[1,209],53:g,69:y,97:w,110:E,113:_,114:A,117:S,119:C,121:119,122:T,123:F,124:D},{22:[1,210]},{22:[1,211],114:[1,212]},e(ez,[2,129]),{22:[1,213],53:g,69:y,97:w,110:E,113:_,114:A,117:S,119:C,121:119,122:T,123:F,124:D},{22:[1,214],53:g,69:y,97:w,110:E,113:_,114:A,117:S,119:C,121:119,122:T,123:F,124:D},{88:[1,215]},e(en,[2,110],{22:[1,216]}),e(en,[2,112],{22:[1,217]}),{88:[1,218]},e(eB,[2,185]),{88:[1,219],106:[1,220]},e(Z,[2,58],{121:119,53:g,69:y,97:w,110:E,113:_,114:A,117:S,119:C,122:T,123:F,124:D}),{42:[1,221],76:eL,90:222,124:eO,125:eM,126:ej},e(eH,[2,87]),e(eH,[2,89]),e(eH,[2,90]),e(eH,[2,154]),e(eH,[2,155]),e(eH,[2,156]),e(eH,[2,157]),{58:[1,223],76:eL,90:222,124:eO,125:eM,126:ej},{41:224,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{60:[1,225],76:eL,90:222,124:eO,125:eM,126:ej},{62:[1,226],76:eL,90:222,124:eO,125:eM,126:ej},{64:[1,227],76:eL,90:222,124:eO,125:eM,126:ej},{66:[1,228],76:eL,90:222,124:eO,125:eM,126:ej},{69:[1,229]},{73:[1,230],76:eL,90:222,124:eO,125:eM,126:ej},{75:[1,231],76:eL,90:222,124:eO,125:eM,126:ej},{41:232,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},{42:[1,233],76:eL,90:222,124:eO,125:eM,126:ej},{76:eL,78:[1,234],80:[1,235],90:222,124:eO,125:eM,126:ej},{76:eL,78:[1,237],80:[1,236],90:222,124:eO,125:eM,126:ej},{9:238,20:R,21:P,23:$},e(z,[2,52],{53:eD}),e(ea,[2,78]),e(ea,[2,77]),{71:[1,239],76:eL,90:222,124:eO,125:eM,126:ej},e(ea,[2,80]),e(eP,[2,82]),{41:240,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},e(eF,o,{17:241}),e(e$,[2,103]),e(j,[2,43]),{52:242,53:g,54:46,56:47,69:y,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D},{22:eV,69:eq,92:eG,100:243,113:eU,115:244,116:245,117:eX,118:eY,119:eW,120:eK},{22:eV,69:eq,92:eG,100:254,112:[1,255],113:eU,115:244,116:245,117:eX,118:eY,119:eW,120:eK},{22:eV,69:eq,92:eG,100:256,112:[1,257],113:eU,115:244,116:245,117:eX,118:eY,119:eW,120:eK},{113:[1,258]},{22:eV,69:eq,92:eG,100:259,113:eU,115:244,116:245,117:eX,118:eY,119:eW,120:eK},{53:g,56:260,69:y,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D},e(en,[2,109]),{88:[1,261]},{88:[1,262],106:[1,263]},e(en,[2,117]),e(en,[2,119],{22:[1,264]}),e(en,[2,120]),e(ee,[2,59]),e(eH,[2,88]),e(ee,[2,60]),{60:[1,265],76:eL,90:222,124:eO,125:eM,126:ej},e(ee,[2,67]),e(ee,[2,62]),e(ee,[2,63]),e(ee,[2,64]),{117:[1,266]},e(ee,[2,66]),e(ee,[2,68]),{75:[1,267],76:eL,90:222,124:eO,125:eM,126:ej},e(ee,[2,70]),e(ee,[2,71]),e(ee,[2,73]),e(ee,[2,72]),e(ee,[2,74]),e(eR,[2,4]),e([22,53,69,97,110,113,114,117,119,122,123,124],[2,86]),{42:[1,268],76:eL,90:222,124:eO,125:eM,126:ej},{18:18,19:19,20:s,21:u,22:l,23:c,32:24,33:25,34:26,35:27,36:28,37:29,38:d,43:[1,269],44:31,45:h,47:f,49:p,51:35,52:45,53:g,54:46,56:47,69:y,92:b,93:m,94:x,95:v,96:k,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D,129:B,130:L,131:I,132:N},e(Z,[2,56]),e(en,[2,122],{114:eQ}),e(eJ,[2,131],{116:271,22:eV,69:eq,92:eG,113:eU,117:eX,118:eY,119:eW,120:eK}),e(eZ,[2,133]),e(eZ,[2,135]),e(eZ,[2,136]),e(eZ,[2,137]),e(eZ,[2,138]),e(eZ,[2,139]),e(eZ,[2,140]),e(eZ,[2,141]),e(eZ,[2,142]),e(en,[2,123],{114:eQ}),{22:[1,272]},e(en,[2,124],{114:eQ}),{22:[1,273]},e(ez,[2,130]),e(en,[2,106],{114:eQ}),e(en,[2,107],{121:119,53:g,69:y,97:w,110:E,113:_,114:A,117:S,119:C,122:T,123:F,124:D}),e(en,[2,111]),e(en,[2,113],{22:[1,274]}),e(en,[2,114]),{106:[1,275]},{60:[1,276]},{71:[1,277]},{75:[1,278]},{9:279,20:R,21:P,23:$},e(j,[2,42]),{22:eV,69:eq,92:eG,113:eU,115:280,116:245,117:eX,118:eY,119:eW,120:eK},e(eZ,[2,134]),{26:H,53:V,69:q,97:G,109:281,113:U,114:X,117:Y,119:W,122:K,123:Q,124:J,128:94},{26:H,53:V,69:q,97:G,109:282,113:U,114:X,117:Y,119:W,122:K,123:Q,124:J,128:94},{106:[1,283]},e(en,[2,121]),e(ee,[2,61]),{41:284,76:eL,88:eI,89:eN,90:177,124:eO,125:eM,126:ej},e(ee,[2,69]),e(eF,o,{17:285}),e(eJ,[2,132],{116:271,22:eV,69:eq,92:eG,113:eU,117:eX,118:eY,119:eW,120:eK}),e(en,[2,127],{128:173,22:[1,286],26:H,53:V,69:q,97:G,113:U,114:X,117:Y,119:W,122:K,123:Q,124:J}),e(en,[2,128],{128:173,22:[1,287],26:H,53:V,69:q,97:G,113:U,114:X,117:Y,119:W,122:K,123:Q,124:J}),e(en,[2,115]),{42:[1,288],76:eL,90:222,124:eO,125:eM,126:ej},{18:18,19:19,20:s,21:u,22:l,23:c,32:24,33:25,34:26,35:27,36:28,37:29,38:d,43:[1,289],44:31,45:h,47:f,49:p,51:35,52:45,53:g,54:46,56:47,69:y,92:b,93:m,94:x,95:v,96:k,97:w,110:E,113:_,114:A,117:S,119:C,121:48,122:T,123:F,124:D,129:B,130:L,131:I,132:N},{22:eV,69:eq,92:eG,100:290,113:eU,115:244,116:245,117:eX,118:eY,119:eW,120:eK},{22:eV,69:eq,92:eG,100:291,113:eU,115:244,116:245,117:eX,118:eY,119:eW,120:eK},e(ee,[2,65]),e(j,[2,41]),e(en,[2,125],{114:eQ}),e(en,[2,126],{114:eQ})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],122:[2,7]},parseError:function(e,t){if(t.recoverable)this.trace(e);else{var n=Error(e);throw n.hash=t,n}},parse:function(e){var t=this,n=[0],r=[],i=[null],a=[],o=this.table,s="",u=0,l=0,c=a.slice.call(arguments,1),d=Object.create(this.lexer),h={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(h.yy[f]=this.yy[f]);d.setInput(e,h.yy),h.yy.lexer=d,h.yy.parser=this,typeof d.yylloc>"u"&&(d.yylloc={});var p=d.yylloc;a.push(p);var g=d.options&&d.options.ranges;"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,b,m,x,v,k,w,E,_={};;){if(b=n[n.length-1],this.defaultActions[b]?m=this.defaultActions[b]:((null===y||typeof y>"u")&&(y=function(){var e;return"number"!=typeof(e=r.pop()||d.lex()||1)&&(e instanceof Array&&(e=(r=e).pop()),e=t.symbols_[e]||e),e}()),m=o[b]&&o[b][y]),typeof m>"u"||!m.length||!m[0]){var A="";for(v in E=[],o[b])this.terminals_[v]&&v>2&&E.push("'"+this.terminals_[v]+"'");A=d.showPosition?"Parse error on line "+(u+1)+`:
`+d.showPosition()+`
Expecting `+E.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==y?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(A,{text:d.match,token:this.terminals_[y]||y,line:d.yylineno,loc:p,expected:E})}if(m[0]instanceof Array&&m.length>1)throw Error("Parse Error: multiple actions possible at state: "+b+", token: "+y);switch(m[0]){case 1:n.push(y),i.push(d.yytext),a.push(d.yylloc),n.push(m[1]),y=null,l=d.yyleng,s=d.yytext,u=d.yylineno,p=d.yylloc;break;case 2:if(k=this.productions_[m[1]][1],_.$=i[i.length-k],_._$={first_line:a[a.length-(k||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(k||1)].first_column,last_column:a[a.length-1].last_column},g&&(_._$.range=[a[a.length-(k||1)].range[0],a[a.length-1].range[1]]),"u">typeof(x=this.performAction.apply(_,[s,l,u,h.yy,m[1],i,a].concat(c))))return x;k&&(n=n.slice(0,-1*k*2),i=i.slice(0,-1*k),a=a.slice(0,-1*k)),n.push(this.productions_[m[1]][0]),i.push(_.$),a.push(_._$),w=o[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}};function e0(){this.yy={}}return e1.lexer={EOF:1,parseError:function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw Error(e)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack)for(var a in i)this[a]=i[a];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,r,i=this._currentRules(),a=0;a<i.length;a++)if((n=this._input.match(this.rules[i[a]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[a])))return e;if(!this._backtrack)return!1;t=!1;continue}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:return this.begin("acc_title"),45;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),47;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 13:case 16:case 19:case 22:case 32:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:this.begin("callbackname");break;case 14:this.popState(),this.begin("callbackargs");break;case 15:return 103;case 17:return 104;case 18:return"MD_STR";case 20:this.begin("md_string");break;case 21:return"STR";case 23:this.pushState("string");break;case 24:return 92;case 25:return 110;case 26:return 93;case 27:return 112;case 28:return 94;case 29:return 95;case 30:return 105;case 31:this.begin("click");break;case 33:return 96;case 34:case 35:case 36:return e.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 43;case 39:case 40:case 41:case 42:return 106;case 43:return this.popState(),25;case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:return this.popState(),26;case 54:return 129;case 55:return 130;case 56:return 131;case 57:return 132;case 58:return 113;case 59:case 100:return 119;case 60:return 55;case 61:return 69;case 62:case 101:return 53;case 63:return 20;case 64:return 114;case 65:case 99:return 123;case 66:case 69:case 72:return this.popState(),86;case 67:return this.pushState("edgeText"),84;case 68:case 71:case 74:return 127;case 70:return this.pushState("thickEdgeText"),84;case 73:return this.pushState("dottedEdgeText"),84;case 75:return 86;case 76:return this.popState(),62;case 77:case 113:return"TEXT";case 78:return this.pushState("ellipseText"),61;case 79:return this.popState(),64;case 80:return this.pushState("text"),63;case 81:return this.popState(),66;case 82:return this.pushState("text"),65;case 83:return 67;case 84:return this.pushState("text"),76;case 85:return this.popState(),73;case 86:return this.pushState("text"),72;case 87:return this.popState(),58;case 88:return this.pushState("text"),57;case 89:return this.popState(),78;case 90:return this.popState(),80;case 91:return 125;case 92:return this.pushState("trapText"),77;case 93:return this.pushState("trapText"),79;case 94:return 126;case 95:return 76;case 96:return 98;case 97:return"SEP";case 98:return 97;case 102:return 117;case 103:return 122;case 104:return 124;case 105:return this.popState(),71;case 106:return this.pushState("text"),71;case 107:return this.popState(),60;case 108:return this.pushState("text"),59;case 109:return this.popState(),42;case 110:return this.pushState("text"),40;case 111:return this.popState(),75;case 112:return this.pushState("text"),74;case 114:return"QUOTE";case 115:return 21;case 116:return 22;case 117:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|(?!\)+))/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},arg_directive:{rules:[3,4,20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},type_directive:{rules:[2,3,20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},open_directive:{rules:[1,20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},callbackargs:{rules:[16,17,20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},callbackname:{rules:[13,14,15,20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},href:{rules:[20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},click:{rules:[20,23,32,33,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},dottedEdgeText:{rules:[20,23,72,74,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},thickEdgeText:{rules:[20,23,69,71,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},edgeText:{rules:[20,23,66,68,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},trapText:{rules:[20,23,75,78,80,82,86,88,89,90,91,92,93,106,108,110,112],inclusive:!1},ellipseText:{rules:[20,23,75,76,77,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},text:{rules:[20,23,75,78,79,80,81,82,85,86,87,88,92,93,105,106,107,108,109,110,111,112,113],inclusive:!1},vertex:{rules:[20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},dir:{rules:[20,23,43,44,45,46,47,48,49,50,51,52,53,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},acc_descr_multiline:{rules:[10,11,20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},acc_descr:{rules:[8,20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},acc_title:{rules:[6,20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},md_string:{rules:[18,19,20,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},string:{rules:[20,21,22,23,75,78,80,82,86,88,92,93,106,108,110,112],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,20,23,24,25,26,27,28,29,30,31,34,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,69,70,72,73,75,78,80,82,83,84,86,88,92,93,94,95,96,97,98,99,100,101,102,103,104,106,108,110,112,114,115,116,117],inclusive:!0}}},e0.prototype=e1,e1.Parser=e0,new e0}();a.parser=a;let o=a,s=0,u=(0,i.c)(),l={},c=[],d={},h=[],f={},p={},g=0,y=!0,b,m,x=[],v=e=>(0,i.f).sanitizeText(e,u),k=function(e,t,n){(0,i.m).parseDirective(this,e,t,n)},w=function(e){let t=Object.keys(l);for(let n of t)if(l[n].id===e)return l[n].domId;return e},E=function(e,t,n,r,a,o,c={}){let d;void 0!==e&&0!==e.trim().length&&(void 0===l[e]&&(l[e]={id:e,labelType:"text",domId:"flowchart-"+e+"-"+s,styles:[],classes:[]}),s++,void 0!==t?(u=(0,i.c)(),d=v(t.text.trim()),l[e].labelType=t.type,'"'===d[0]&&'"'===d[d.length-1]&&(d=d.substring(1,d.length-1)),l[e].text=d):void 0===l[e].text&&(l[e].text=e),void 0!==n&&(l[e].type=n),null!=r&&r.forEach(function(t){l[e].styles.push(t)}),null!=a&&a.forEach(function(t){l[e].classes.push(t)}),void 0!==o&&(l[e].dir=o),void 0===l[e].props?l[e].props=c:void 0!==c&&Object.assign(l[e].props,c))},_=function(e,t,n){let r={start:e,end:t,type:void 0,text:"",labelType:"text"};(0,i.l).info("abc78 Got edge...",r);let a=n.text;void 0!==a&&(r.text=v(a.text.trim()),'"'===r.text[0]&&'"'===r.text[r.text.length-1]&&(r.text=r.text.substring(1,r.text.length-1)),r.labelType=a.type),void 0!==n&&(r.type=n.type,r.stroke=n.stroke,r.length=n.length),c.push(r)},A=function(e,t,n){let r,a;for((0,i.l).info("addLink (abc78)",e,t,n),r=0;r<e.length;r++)for(a=0;a<t.length;a++)_(e[r],t[a],n)},S=function(e,t){e.forEach(function(e){"default"===e?c.defaultInterpolate=t:c[e].interpolate=t})},C=function(e,t){e.forEach(function(e){"default"===e?c.defaultStyle=t:(-1===(0,i.A).isSubstringInArray("fill",t)&&t.push("fill:none"),c[e].style=t)})},T=function(e,t){e.split(",").forEach(function(e){void 0===d[e]&&(d[e]={id:e,styles:[],textStyles:[]}),null!=t&&t.forEach(function(t){if(t.match("color")){let n=t.replace("fill","bgFill").replace("color","fill");d[e].textStyles.push(n)}d[e].styles.push(t)})})},F=function(e){(b=e).match(/.*</)&&(b="RL"),b.match(/.*\^/)&&(b="BT"),b.match(/.*>/)&&(b="LR"),b.match(/.*v/)&&(b="TB"),"TD"===b&&(b="TB")},D=function(e,t){e.split(",").forEach(function(e){void 0!==l[e]&&l[e].classes.push(t),void 0!==f[e]&&f[e].classes.push(t)})},B=function(e,t,n){let r=w(e);if("loose"!==(0,i.c)().securityLevel||void 0===t)return;let a=[];if("string"==typeof n){a=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let e=0;e<a.length;e++){let t=a[e].trim();'"'===t.charAt(0)&&'"'===t.charAt(t.length-1)&&(t=t.substr(1,t.length-2)),a[e]=t}}0===a.length&&a.push(e),void 0!==l[e]&&(l[e].haveCallback=!0,x.push(function(){let e=document.querySelector(`[id="${r}"]`);null!==e&&e.addEventListener("click",function(){(0,i.A).runFunc(t,...a)},!1)}))},L=function(e,t,n){e.split(",").forEach(function(e){void 0!==l[e]&&(l[e].link=(0,i.A).formatUrl(t,u),l[e].linkTarget=n)}),D(e,"clickable")},I=function(e){if(p.hasOwnProperty(e))return p[e]},N=function(e,t,n){e.split(",").forEach(function(e){B(e,t,n)}),D(e,"clickable")},O=function(e){x.forEach(function(t){t(e)})},M=function(){return b.trim()},j=function(){return l},R=function(){return c},P=function(){return d},$=function(e){let t=(0,i.j)(".mermaidTooltip");null===(t._groups||t)[0][0]&&(t=(0,i.j)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,i.j)(e).select("svg").selectAll("g.node").on("mouseover",function(){let e=(0,i.j)(this);if(null===e.attr("title"))return;let n=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(e.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),e.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),(0,i.j)(this).classed("hover",!1)})};x.push($);let z=function(e="gen-1"){l={},d={},c=[],x=[$],h=[],f={},g=0,p={},y=!0,m=e,(0,i.F)()},H=e=>{m=e||"gen-2"},V=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},q=function(e,t,n){let r=e.text.trim(),a=n.text;e===n&&n.text.match(/\s/)&&(r=void 0);let o=[],{nodeList:s,dir:u}=function(e){let t;let n={boolean:{},number:{},string:{}},r=[];return{nodeList:e.filter(function(e){let i=typeof e;return e.stmt&&"dir"===e.stmt?(t=e.value,!1):""!==e.trim()&&(i in n?!n[i].hasOwnProperty(e)&&(n[i][e]=!0):!r.includes(e)&&r.push(e))}),dir:t}}(o.concat.apply(o,t));if(o=s,"gen-1"===m)for(let e=0;e<o.length;e++)o[e]=w(o[e]);r=r||"subGraph"+g,a=v(a=a||""),g+=1;let l={id:r,nodes:o,title:a.trim(),classes:[],dir:u,labelType:n.type};return(0,i.l).info("Adding",l.id,l.nodes,l.dir),l.nodes=ei(l,h).nodes,h.push(l),f[r]=l,r},G=function(e){for(let[t,n]of h.entries())if(n.id===e)return t;return -1},U=-1,X=[],Y=function(e,t){let n=h[t].nodes;if((U+=1)>2e3)return;if(X[U]=t,h[t].id===e)return{result:!0,count:0};let r=0,i=1;for(;r<n.length;){let t=G(n[r]);if(t>=0){let n=Y(e,t);if(n.result)return{result:!0,count:i+n.count};i+=n.count}r+=1}return{result:!1,count:i}},W=function(e){return X[e]},K=function(){U=-1,h.length>0&&Y("none",h.length-1)},Q=function(){return h},J=()=>!!y&&(y=!1,!0),Z=e=>{let t=e.trim(),n="arrow_open";switch(t[0]){case"<":n="arrow_point",t=t.slice(1);break;case"x":n="arrow_cross",t=t.slice(1);break;case"o":n="arrow_circle",t=t.slice(1)}let r="normal";return t.includes("=")&&(r="thick"),t.includes(".")&&(r="dotted"),{type:n,stroke:r}},ee=(e,t)=>{let n=t.length,r=0;for(let i=0;i<n;++i)t[i]===e&&++r;return r},et=e=>{let t=e.trim(),n=t.slice(0,-1),r="arrow_open";switch(t.slice(-1)){case"x":r="arrow_cross","x"===t[0]&&(r="double_"+r,n=n.slice(1));break;case">":r="arrow_point","<"===t[0]&&(r="double_"+r,n=n.slice(1));break;case"o":r="arrow_circle","o"===t[0]&&(r="double_"+r,n=n.slice(1))}let i="normal",a=n.length-1;"="===n[0]&&(i="thick"),"~"===n[0]&&(i="invisible");let o=ee(".",n);return o&&(i="dotted",a=o),{type:r,stroke:i,length:a}},en=(e,t)=>{let n;let r=et(e);if(t){if((n=Z(t)).stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===n.type)n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return"double_arrow"===n.type&&(n.type="double_arrow_point"),n.length=r.length,n}return r},er=(e,t)=>{let n=!1;return e.forEach(e=>{e.nodes.indexOf(t)>=0&&(n=!0)}),n},ei=(e,t)=>{let n=[];return e.nodes.forEach((r,i)=>{er(t,r)||n.push(e.nodes[i])}),{nodes:n}},ea={firstGraph:J},eo={parseDirective:k,defaultConfig:()=>i.aS.flowchart,setAccTitle:i.s,getAccTitle:i.g,getAccDescription:i.a,setAccDescription:i.b,addVertex:E,lookUpDomId:w,addLink:A,updateLinkInterpolate:S,updateLink:C,addClass:T,setDirection:F,setClass:D,setTooltip:function(e,t){e.split(",").forEach(function(e){void 0!==t&&(p["gen-1"===m?w(e):e]=v(t))})},getTooltip:I,setClickEvent:N,setLink:L,bindFunctions:O,getDirection:M,getVertices:j,getEdges:R,getClasses:P,clear:z,setGen:H,defaultStyle:V,addSubGraph:q,getDepthFirstPos:W,indexNodes:K,getSubGraphs:Q,destructLink:en,lex:ea,exists:er,makeUniq:ei,setDiagramTitle:i.D,getDiagramTitle:i.E},es=Object.freeze(Object.defineProperty({__proto__:null,addClass:T,addLink:A,addSingleLink:_,addSubGraph:q,addVertex:E,bindFunctions:O,clear:z,default:eo,defaultStyle:V,destructLink:en,firstGraph:J,getClasses:P,getDepthFirstPos:W,getDirection:M,getEdges:R,getSubGraphs:Q,getTooltip:I,getVertices:j,indexNodes:K,lex:ea,lookUpDomId:w,parseDirective:k,setClass:D,setClickEvent:N,setDirection:F,setGen:H,setLink:L,updateLink:C,updateLinkInterpolate:S},Symbol.toStringTag,{value:"Module"}))}),t.register("19en6",function(n,r){e(n.exports,"s",function(){return s}),e(n.exports,"i",function(){return l}),e(n.exports,"e",function(){return c}),e(n.exports,"a",function(){return f}),e(n.exports,"d",function(){return p}),e(n.exports,"c",function(){return g}),e(n.exports,"b",function(){return y}),e(n.exports,"f",function(){return k}),e(n.exports,"g",function(){return E});var i=t("2y0iR"),a=t("2O8Km"),o=t("1NxYZ");function s(e){return"string"==typeof e?new a.S([document.querySelectorAll(e)],[document.documentElement]):new a.S([(0,a.x)(e)],a.v)}let u=(e,t)=>(0,a._).lang.round((0,a.C).parse(e)[t]);function l(e,t){return!!e.children(t).length}function c(e){return h(e.v)+":"+h(e.w)+":"+h(e.name)}var d=/:/g;function h(e){return e?String(e).replace(d,"\\:"):""}function f(e,t){t&&e.attr("style",t)}function p(e,t,n){t&&e.attr("class",t).attr("class",n+" "+e.attr("class"))}function g(e,t){var n=t.graph();if((0,a.y)(n)){var r=n.transition;if((0,a.z)(r))return r(e)}return e}function y(e,t){var n=e.append("foreignObject").attr("width","100000"),r=n.append("xhtml:div");r.attr("xmlns","http://www.w3.org/1999/xhtml");var i=t.label;switch(typeof i){case"function":r.insert(i);break;case"object":r.insert(function(){return i});break;default:r.html(i)}f(r,t.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap");var a=r.node().getBoundingClientRect();return n.attr("width",a.width).attr("height",a.height),n}let b={},m=function(e,t,n,r,i,o){let s=r.select(`[id="${n}"]`);Object.keys(e).forEach(function(n){let r=e[n],u="default";r.classes.length>0&&(u=r.classes.join(" ")),u+=" flowchart-label";let l=(0,a.p)(r.styles),c=void 0!==r.text?r.text:r.id,d;if((0,a.l).info("vertex",r,r.labelType),"markdown"===r.labelType)(0,a.l).info("vertex",r,r.labelType);else if((0,a.q)((0,a.c)().flowchart.htmlLabels)){let e={label:c.replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)};(d=y(s,e).node()).parentNode.removeChild(d)}else{let e=i.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",l.labelStyle.replace("color:","fill:"));let t=c.split(a.f.lineBreakRegex);for(let n of t){let t=i.createElementNS("http://www.w3.org/2000/svg","tspan");t.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.setAttribute("dy","1em"),t.setAttribute("x","1"),t.textContent=n,e.appendChild(t)}d=e}let h=0,f="";switch(r.type){case"round":h=5,f="rect";break;case"square":case"group":default:f="rect";break;case"diamond":f="question";break;case"hexagon":f="hexagon";break;case"odd":case"odd_right":f="rect_left_inv_arrow";break;case"lean_right":f="lean_right";break;case"lean_left":f="lean_left";break;case"trapezoid":f="trapezoid";break;case"inv_trapezoid":f="inv_trapezoid";break;case"circle":f="circle";break;case"ellipse":f="ellipse";break;case"stadium":f="stadium";break;case"subroutine":f="subroutine";break;case"cylinder":f="cylinder";break;case"doublecircle":f="doublecircle"}t.setNode(r.id,{labelStyle:l.labelStyle,shape:f,labelText:c,labelType:r.labelType,rx:h,ry:h,class:u,style:l.style,id:r.id,link:r.link,linkTarget:r.linkTarget,tooltip:o.db.getTooltip(r.id)||"",domId:o.db.lookUpDomId(r.id),haveCallback:r.haveCallback,width:"group"===r.type?500:void 0,dir:r.dir,type:r.type,props:r.props,padding:(0,a.c)().flowchart.padding}),(0,a.l).info("setNode",{labelStyle:l.labelStyle,labelType:r.labelType,shape:f,labelText:c,rx:h,ry:h,class:u,style:l.style,id:r.id,domId:o.db.lookUpDomId(r.id),width:"group"===r.type?500:void 0,type:r.type,dir:r.dir,props:r.props,padding:(0,a.c)().flowchart.padding})})},x=function(e,t,n){(0,a.l).info("abc78 edges = ",e);let r=0,i={},o,s;if(void 0!==e.defaultStyle){let t=(0,a.p)(e.defaultStyle);o=t.style,s=t.labelStyle}e.forEach(function(n){r++;let u="L-"+n.start+"-"+n.end;void 0===i[u]?i[u]=0:i[u]++,(0,a.l).info("abc78 new entry",u,i[u]);let l=u+"-"+i[u];(0,a.l).info("abc78 new link id to be used is",u,l,i[u]);let c="LS-"+n.start,d="LE-"+n.end,h={style:"",labelStyle:""};switch(h.minlen=n.length||1,"arrow_open"===n.type?h.arrowhead="none":h.arrowhead="normal",h.arrowTypeStart="arrow_open",h.arrowTypeEnd="arrow_open",n.type){case"double_arrow_cross":h.arrowTypeStart="arrow_cross";case"arrow_cross":h.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":h.arrowTypeStart="arrow_point";case"arrow_point":h.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":h.arrowTypeStart="arrow_circle";case"arrow_circle":h.arrowTypeEnd="arrow_circle"}let f="",p="";switch(n.stroke){case"normal":f="fill:none;",void 0!==o&&(f=o),void 0!==s&&(p=s),h.thickness="normal",h.pattern="solid";break;case"dotted":h.thickness="normal",h.pattern="dotted",h.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":h.thickness="thick",h.pattern="solid",h.style="stroke-width: 3.5px;fill:none;";break;case"invisible":h.thickness="invisible",h.pattern="solid",h.style="stroke-width: 0;fill:none;"}if(void 0!==n.style){let e=(0,a.p)(n.style);f=e.style,p=e.labelStyle}h.style=h.style+=f,h.labelStyle=h.labelStyle+=p,void 0!==n.interpolate?h.curve=(0,a.r)(n.interpolate,a.o):void 0!==e.defaultInterpolate?h.curve=(0,a.r)(e.defaultInterpolate,a.o):h.curve=(0,a.r)(b.curve,a.o),void 0===n.text?void 0!==n.style&&(h.arrowheadStyle="fill: #333"):(h.arrowheadStyle="fill: #333",h.labelpos="c"),h.labelType=n.labelType,h.label=n.text.replace(a.f.lineBreakRegex,`
`),void 0===n.style&&(h.style=h.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),h.labelStyle=h.labelStyle.replace("color:","fill:"),h.id=l,h.classes="flowchart-link "+c+" "+d,t.setEdge(n.start,n.end,h,r)})},v=async function(e,t,n,r){let u,l;(0,a.l).info("Drawing flowchart");let c=r.db.getDirection();void 0===c&&(c="TD");let{securityLevel:d,flowchart:h}=(0,a.c)(),f=h.nodeSpacing||50,p=h.rankSpacing||50;"sandbox"===d&&(u=(0,a.j)("#i"+t));let g="sandbox"===d?(0,a.j)(u.nodes()[0].contentDocument.body):(0,a.j)("body"),y="sandbox"===d?u.nodes()[0].contentDocument:document,b=new(0,i.G)({multigraph:!0,compound:!0}).setGraph({rankdir:c,nodesep:f,ranksep:p,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}}),v=r.db.getSubGraphs();(0,a.l).info("Subgraphs - ",v);for(let e=v.length-1;e>=0;e--)l=v[e],(0,a.l).info("Subgraph - ",l),r.db.addVertex(l.id,{text:l.title,type:l.labelType},"group",void 0,l.classes,l.dir);let k=r.db.getVertices(),w=r.db.getEdges();(0,a.l).info("Edges",w);let E=0;for(E=v.length-1;E>=0;E--){l=v[E],s("cluster").append("text");for(let e=0;e<l.nodes.length;e++)(0,a.l).info("Setting up subgraphs",l.nodes[e],l.id),b.setParent(l.nodes[e],l.id)}m(k,b,t,g,y,r),x(w,b);let _=g.select(`[id="${t}"]`),A=g.select("#"+t+" g");if(await (0,o.r)(A,b,["point","circle","cross"],"flowchart",t),(0,a.A).insertTitle(_,"flowchartTitleText",h.titleTopMargin,r.db.getDiagramTitle()),(0,a.t)(b,_,h.diagramPadding,h.useMaxWidth),r.db.indexNodes("subGraph"+E),!h.htmlLabels){let e=y.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let t of e){let e=t.getBBox(),n=y.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("rx",0),n.setAttribute("ry",0),n.setAttribute("width",e.width),n.setAttribute("height",e.height),t.insertBefore(n,t.firstChild)}}Object.keys(k).forEach(function(e){let n=k[e];if(n.link){let r=(0,a.j)("#"+t+' [id="'+e+'"]');if(r){let e=y.createElementNS("http://www.w3.org/2000/svg","a");e.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),e.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),e.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===d?e.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&e.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);let t=r.insert(function(){return e},":first-child"),i=r.select(".label-container");i&&t.append(function(){return i.node()});let a=r.select(".label");a&&t.append(function(){return a.node()})}}})},k={setConf:function(e){let t=Object.keys(e);for(let n of t)b[n]=e[n]},addVertices:m,addEdges:x,getClasses:function(e,t){return t.db.getClasses()},draw:v},w=(e,t)=>{let n=u(e,"r"),r=u(e,"g"),i=u(e,"b");return(0,a.B)(n,r,i,t)},E=e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }

  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${w(e.edgeLabelBackground,.5)};
    // background-color: 
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`}),t.register("2y0iR",function(n,r){e(n.exports,"b",function(){return ef}),e(n.exports,"d",function(){return eP}),e(n.exports,"f",function(){return eV}),e(n.exports,"m",function(){return eY}),e(n.exports,"h",function(){return eJ}),e(n.exports,"i",function(){return e1}),e(n.exports,"p",function(){return e5}),e(n.exports,"r",function(){return tt}),e(n.exports,"u",function(){return tu}),e(n.exports,"G",function(){return tl}),e(n.exports,"l",function(){return tW});var i,a,o,s,u,l=t("2O8Km");function c(e){return"symbol"==typeof e||(0,l.aa)(e)&&"[object Symbol]"==(0,l.ab)(e)}function d(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var h=1/0,f=l.ac?l.ac.prototype:void 0,p=f?f.toString:void 0,g=/\s/,y=/^\s+/,b=0/0,m=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,v=/^0o[0-7]+$/i,k=parseInt,w=1/0;function E(e){return e?(e=function(e){if("number"==typeof e)return e;if(c(e))return b;if((0,l.ae)(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=(0,l.ae)(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)&&t.slice(0,function(e){for(var t=e.length;t--&&g.test(e.charAt(t)););return t}(t)+1).replace(y,"");var r=x.test(e);return r||v.test(e)?k(e.slice(2),r?2:8):m.test(e)?b:+e}(e))===w||e===-w?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function _(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function A(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return -1}function S(e){return e!=e}function C(e,t){return!!(null==e?0:e.length)&&(t==t?function(e,t,n){for(var r=-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}(e,t,0):A(e,S,0))>-1}function T(e){return(0,l.af)(e)?(0,l.ag)(e):(0,l.ah)(e)}var F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,D=/^\w*$/;function B(e,t){if((0,l.ad)(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||c(e))||D.test(e)||!F.test(e)||null!=t&&e in Object(t)}var L=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,N=(a=(i=(0,l.ai)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(L,function(e,n,r,i){t.push(r?i.replace(I,"$1"):n||e)}),t},function(e){return 500===a.size&&a.clear(),e})).cache,i);function O(e){return null==e?"":function e(t){if("string"==typeof t)return t;if((0,l.ad)(t))return d(t,e)+"";if(c(t))return p?p.call(t):"";var n=t+"";return"0"==n&&1/t==-h?"-0":n}(e)}function M(e,t){return(0,l.ad)(e)?e:B(e,t)?[e]:N(O(e))}var j=1/0;function R(e){if("string"==typeof e||c(e))return e;var t=e+"";return"0"==t&&1/e==-j?"-0":t}function P(e,t){t=M(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[R(t[n++])];return n&&n==r?e:void 0}function $(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var z=l.ac?l.ac.isConcatSpreadable:void 0;function H(e){return(0,l.ad)(e)||(0,l.aj)(e)||!!(z&&e&&e[z])}function V(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=H),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?V(s,t-1,n,r,i):$(i,s):r||(i[i.length]=s)}return i}function q(e){return(null==e?0:e.length)?V(e,1):[]}function G(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function U(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function X(){return[]}var Y=Object.prototype.propertyIsEnumerable,W=Object.getOwnPropertySymbols,K=W?function(e){return null==e?[]:U(W(e=Object(e)),function(t){return Y.call(e,t)})}:X,Q=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)$(t,K(e)),e=(0,l.ao)(e);return t}:X;function J(e,t,n){var r=t(e);return(0,l.ad)(e)?r:$(r,n(e))}function Z(e){return J(e,T,K)}function ee(e){return J(e,l.an,Q)}var et=Object.prototype.hasOwnProperty,en=/\w*$/,er=l.ac?l.ac.prototype:void 0,ei=er?er.valueOf:void 0,ea=l.as&&l.as.isMap,eo=ea?(0,l.at)(ea):function(e){return(0,l.aa)(e)&&"[object Map]"==(0,l.ar)(e)},es=l.as&&l.as.isSet,eu=es?(0,l.at)(es):function(e){return(0,l.aa)(e)&&"[object Set]"==(0,l.ar)(e)},el="[object Arguments]",ec="[object Function]",ed="[object Object]",eh={};function ef(e,t,n,r,i,a){var o,s=1&t,u=2&t,c=4&t;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!(0,l.ae)(e))return e;var d=(0,l.ad)(e);if(d){if(h=e.length,f=new e.constructor(h),h&&"string"==typeof e[0]&&et.call(e,"index")&&(f.index=e.index,f.input=e.input),o=f,!s)return(0,l.au)(e,o)}else{var h,f,p,g,y,b,m=(0,l.ar)(e),x=m==ec||"[object GeneratorFunction]"==m;if((0,l.av)(e))return(0,l.aw)(e,s);if(m==ed||m==el||x&&!i){if(o=u||x?{}:(0,l.ax)(e),!s)return u?(g=(p=o)&&(0,l.am)(e,(0,l.an)(e),p),(0,l.am)(e,Q(e),g)):(b=(y=o)&&(0,l.am)(e,T(e),y),(0,l.am)(e,K(e),b))}else{if(!eh[m])return i?e:{};o=function(e,t,n){var r,i,a=e.constructor;switch(t){case"[object ArrayBuffer]":return(0,l.ap)(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return r=n?(0,l.ap)(e.buffer):e.buffer,new e.constructor(r,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,l.aq)(e,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(i=new e.constructor(e.source,en.exec(e))).lastIndex=e.lastIndex,i;case"[object Symbol]":return ei?Object(ei.call(e)):{}}}(e,m,s)}}a||(a=new l.ay);var v=a.get(e);if(v)return v;a.set(e,o),eu(e)?e.forEach(function(r){o.add(ef(r,t,n,r,e,a))}):eo(e)&&e.forEach(function(r,i){o.set(i,ef(r,t,n,i,e,a))});var k=c?u?ee:Z:u?l.an:T,w=d?void 0:k(e);return _(w||e,function(r,i){w&&(r=e[i=r]),(0,l.az)(o,i,ef(r,t,n,i,e,a))}),o}function ep(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new l.aA;++t<n;)this.add(e[t])}function eg(e,t){return e.has(t)}function ey(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),c=a.get(t);if(l&&c)return l==t&&c==e;var d=-1,h=!0,f=2&n?new ep:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],g=t[d];if(r)var y=o?r(g,p,d,t,e,a):r(p,g,d,e,t,a);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}(t,function(e,t){if(!eg(f,t)&&(p===e||i(p,e,n,r,a)))return f.push(t)})){h=!1;break}}else if(!(p===g||i(p,g,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}function eb(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function em(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}eh[el]=eh["[object Array]"]=eh["[object ArrayBuffer]"]=eh["[object DataView]"]=eh["[object Boolean]"]=eh["[object Date]"]=eh["[object Float32Array]"]=eh["[object Float64Array]"]=eh["[object Int8Array]"]=eh["[object Int16Array]"]=eh["[object Int32Array]"]=eh["[object Map]"]=eh["[object Number]"]=eh[ed]=eh["[object RegExp]"]=eh["[object Set]"]=eh["[object String]"]=eh["[object Symbol]"]=eh["[object Uint8Array]"]=eh["[object Uint8ClampedArray]"]=eh["[object Uint16Array]"]=eh["[object Uint32Array]"]=!0,eh["[object Error]"]=eh[ec]=eh["[object WeakMap]"]=!1,ep.prototype.add=ep.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ep.prototype.has=function(e){return this.__data__.has(e)};var ex=l.ac?l.ac.prototype:void 0,ev=ex?ex.valueOf:void 0,ek=Object.prototype.hasOwnProperty,ew="[object Arguments]",eE="[object Array]",e_="[object Object]",eA=Object.prototype.hasOwnProperty;function eS(e,t,n,r,i){return e===t||(null!=e&&null!=t&&((0,l.aa)(e)||(0,l.aa)(t))?function(e,t,n,r,i,a){var o=(0,l.ad)(e),s=(0,l.ad)(t),u=o?eE:(0,l.ar)(e),c=s?eE:(0,l.ar)(t);u=u==ew?e_:u,c=c==ew?e_:c;var d=u==e_,h=c==e_,f=u==c;if(f&&(0,l.av)(e)){if(!(0,l.av)(t))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new l.ay),o||(0,l.aD)(e)?ey(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new l.aC(e),new l.aC(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,l.aB)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=eb;case"[object Set]":var u=1&r;if(s||(s=em),e.size!=t.size&&!u)break;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var d=ey(s(e),s(t),r,i,a,o);return o.delete(e),d;case"[object Symbol]":if(ev)return ev.call(e)==ev.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var p=d&&eA.call(e,"__wrapped__"),g=h&&eA.call(t,"__wrapped__");if(p||g){var y=p?e.value():e,b=g?t.value():t;return a||(a=new l.ay),i(y,b,n,r,a)}}return!!f&&(a||(a=new l.ay),function(e,t,n,r,i,a){var o=1&n,s=Z(e),u=s.length;if(u!=Z(t).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in t:ek.call(t,c)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var f=!0;a.set(e,t),a.set(t,e);for(var p=o;++l<u;){var g=e[c=s[l]],y=t[c];if(r)var b=o?r(y,g,c,t,e,a):r(g,y,c,e,t,a);if(!(void 0===b?g===y||i(g,y,n,r,a):b)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var m=e.constructor,x=t.constructor;m!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x)&&(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,r,i,a))}(e,t,n,r,eS,i):e!=e&&t!=t)}function eC(e){return e==e&&!(0,l.ae)(e)}function eT(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}function eF(e,t){return null!=e&&t in Object(e)}function eD(e,t,n){t=M(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=R(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&(0,l.aE)(i)&&(0,l.aF)(o,i)&&((0,l.ad)(e)||(0,l.aj)(e))}function eB(e,t){return null!=e&&eD(e,t,eF)}function eL(e){var t,n,r,i;return"function"==typeof e?e:null==e?l.aG:"object"==typeof e?(0,l.ad)(e)?(t=e[0],n=e[1],B(t)&&eC(n)?eT(R(t),n):function(e){var r,i=void 0===(r=null==e?void 0:P(e,t))?void 0:r;return void 0===i&&i===n?eB(e,t):eS(n,i,3)}):1==(r=function(e){for(var t=T(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,eC(i)]}return t}(e)).length&&r[0][2]?eT(r[0][0],r[0][1]):function(t){return t===e||function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],c=e[u],d=s[1];if(o&&s[2]){if(void 0===c&&!(u in e))return!1}else{var h=new l.ay;if(r)var f=r(c,d,u,e,t,h);if(!(void 0===f?eS(d,c,3,r,h):f))return!1}}return!0}(t,e,r)}:B(e)?(i=R(e),function(e){return null==e?void 0:e[i]}):function(t){return P(t,e)}}function eI(e,t){return e&&(0,l.aH)(e,t,T)}var eN=function(e,t){if(null==e)return e;if(!(0,l.af)(e))return eI(e,t);for(var n=e.length,r=o?n:-1,i=Object(e);(o?r--:++r<n)&&!1!==t(i[r],r,i););return e};let eO=function(){return(0,l.aI).Date.now()};var eM=Object.prototype,ej=eM.hasOwnProperty,eR=(0,l.aJ)(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&(0,l.aK)(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=(0,l.an)(a),s=-1,u=o.length;++s<u;){var c=o[s],d=e[c];(void 0===d||(0,l.aB)(d,eM[c])&&!ej.call(e,c))&&(e[c]=a[c])}return e});let eP=eR;function e$(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ez(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function eH(e){return"function"==typeof e?e:l.aG}function eV(e,t){return((0,l.ad)(e)?_:eN)(e,eH(t))}function eq(e,t){return((0,l.ad)(e)?U:function(e,t){var n=[];return eN(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n})(e,eL(t))}var eG=Math.max,eU=(s=function(e,t,n){var r,i,a=null==e?0:e.length;if(!a)return -1;var o=null==n?0:(i=(r=E(n))%1,r==r?i?r-i:r:0);return o<0&&(o=eG(a+o,0)),A(e,eL(t),o)},function(e,t,n){var r=Object(e);if(!(0,l.af)(e)){var i=eL(t);e=T(e),t=function(e){return i(r[e],e,r)}}var a=s(e,t,n);return a>-1?r[i?e[a]:a]:void 0});function eX(e,t){var n=-1,r=(0,l.af)(e)?Array(e.length):[];return eN(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function eY(e,t){return((0,l.ad)(e)?d:eX)(e,eL(t))}function eW(e,t){return e>t}var eK=Object.prototype.hasOwnProperty;function eQ(e,t){return null!=e&&eK.call(e,t)}function eJ(e,t){return null!=e&&eD(e,t,eQ)}function eZ(e){return null==e?[]:d(T(e),function(t){return e[t]})}function e1(e){return void 0===e}function e0(e,t){return e<t}function e2(e,t){var n={};return t=eL(t),eI(e,function(e,r,i){(0,l.aL)(n,r,t(e,r,i))}),n}function e3(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(void 0===s?o==o&&!c(o):n(o,s)))var s=o,u=a}return u}function e9(e){return e&&e.length?e3(e,l.aG,eW):void 0}function e4(e){return e&&e.length?e3(e,l.aG,e0):void 0}function e8(e,t){return e&&e.length?e3(e,eL(t),e0):void 0}var e6=(u=function(e,t){return null==e?{}:function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=P(e,o);n(s,o)&&function(e,t,n,r){if((0,l.ae)(e)){t=M(t,e);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var u=R(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)break;if(i!=o){var d=s[u];void 0===(c=r?r(d,u,s):void 0)&&(c=(0,l.ae)(d)?d:(0,l.aF)(t[i+1])?[]:{})}(0,l.az)(s,u,c),s=s[u]}}}(a,M(o,e),s)}return a}(e,t,function(t,n){return eB(e,n)})},(0,l.ak)((0,l.al)(u,void 0,q),u+""));let e5=e6;var e7=Math.ceil,te=Math.max;let tt=function(e,t,n){return n&&"number"!=typeof n&&(0,l.aK)(e,t,n)&&(t=n=void 0),e=E(e),void 0===t?(t=e,e=0):t=E(t),n=void 0===n?e<t?1:-1:E(n),function(e,t,n,r){for(var i=-1,a=te(e7((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}(e,t,n,void 0)};function tn(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function tr(e,t,n){var r=(0,l.ad)(e)?G:tn,i=arguments.length<3;return r(e,eL(t),n,i,eN)}var ti=(0,l.aJ)(function(e,t){if(null==e)return[];var n,r,i,a=t.length;return a>1&&(0,l.aK)(e,t[0],t[1])?t=[]:a>2&&(0,l.aK)(t[0],t[1],t[2])&&(t=[t[0]]),n=V(t,1),r=[],n=n.length?d(n,function(e){return(0,l.ad)(e)?function(t){return P(t,1===e.length?e[0]:e)}:e}):[l.aG],i=-1,n=d(n,(0,l.at)(eL)),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(eX(e,function(e,t,r){return{criteria:d(n,function(t){return t(e)}),index:++i,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var u=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=c(e),o=void 0!==t,s=null===t,u=t==t,l=c(t);if(!s&&!l&&!a&&e>t||a&&o&&u&&!s&&!l||r&&o&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!u)return -1}return 0}(i[r],a[r]);if(u){if(r>=s)return u;return u*("desc"==n[r]?-1:1)}}return e.index-t.index}(e,t,r)})}),ta=l.aM&&1/em(new l.aM([,-0]))[1]==1/0?function(e){return new l.aM(e)}:function(){},to=(0,l.aJ)(function(e){return function(e,t,n){var r=-1,i=C,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=e$;else if(a>=200){var l=t?null:ta(e);if(l)return em(l);o=!1,i=eg,u=new ep}else u=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var h=u.length;h--;)if(u[h]===d)continue e;t&&u.push(d),s.push(c)}else i(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}(V(e,1,l.aN,!0))}),ts=0;function tu(e){var t=++ts;return O(e)+t}class tl{isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return(0,l.z)(e)||(e=(0,l.aO)(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return T(this._nodes)}sources(){var e=this;return eq(this.nodes(),function(t){return(0,l.aP)(e._in[t])})}sinks(){var e=this;return eq(this.nodes(),function(t){return(0,l.aP)(e._out[t])})}setNodes(e,t){var n=arguments,r=this;return eV(e,function(e){n.length>1?r.setNode(e,t):r.setNode(e)}),this}setNode(e,t){return eJ(this._nodes,e)?arguments.length>1&&(this._nodes[e]=t):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\x00",this._children[e]={},this._children["\x00"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this}node(e){return this._nodes[e]}hasNode(e){return eJ(this._nodes,e)}removeNode(e){var t=this;if(eJ(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],eV(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),eV(T(this._in[e]),n),delete this._in[e],delete this._preds[e],eV(T(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(e1(t))t="\x00";else{t+="";for(var n=t;!e1(n);n=this.parent(n))if(n===e)throw Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if("\x00"!==t)return t}}children(e){if(e1(e)&&(e="\x00"),this._isCompound){var t=this._children[e];if(t)return T(t)}else{if("\x00"===e)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return T(t)}successors(e){var t=this._sucs[e];if(t)return T(t)}neighbors(e){var t=this.predecessors(e);if(t)return to(t,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;eV(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),eV(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var r={};return this._isCompound&&eV(t.nodes(),function(e){t.setParent(e,function e(i){var a=n.parent(i);return void 0===a||t.hasNode(a)?(r[i]=a,a):a in r?r[a]:e(a)}(e))}),t}setDefaultEdgeLabel(e){return(0,l.z)(e)||(e=(0,l.aO)(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return eZ(this._edgeObjs)}setPath(e,t){var n=this,r=arguments;return tr(e,function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this}setEdge(){var e,t,n,r,i=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2==arguments.length&&(r=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,e1(n)||(n=""+n);var o=th(this._isDirected,e,t,n);if(eJ(this._edgeLabels,o))return i&&(this._edgeLabels[o]=r),this;if(!e1(n)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=i?r:this._defaultEdgeLabelFn(e,t,n);var s=function(e,t,n,r){var i=""+t,a=""+n;if(!e&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return r&&(s.name=r),s}(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[o]=s,tc(this._preds[t],e),tc(this._sucs[e],t),this._in[t][o]=s,this._out[e][o]=s,this._edgeCount++,this}edge(e,t,n){var r=1==arguments.length?tf(this._isDirected,arguments[0]):th(this._isDirected,e,t,n);return this._edgeLabels[r]}hasEdge(e,t,n){var r=1==arguments.length?tf(this._isDirected,arguments[0]):th(this._isDirected,e,t,n);return eJ(this._edgeLabels,r)}removeEdge(e,t,n){var r=1==arguments.length?tf(this._isDirected,arguments[0]):th(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],td(this._preds[t],e),td(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this}inEdges(e,t){var n=this._in[e];if(n){var r=eZ(n);return t?eq(r,function(e){return e.v===t}):r}}outEdges(e,t){var n=this._out[e];if(n){var r=eZ(n);return t?eq(r,function(e){return e.w===t}):r}}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}constructor(e={}){this._isDirected=!eJ(e,"directed")||e.directed,this._isMultigraph=!!eJ(e,"multigraph")&&e.multigraph,this._isCompound=!!eJ(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=(0,l.aO)(void 0),this._defaultEdgeLabelFn=(0,l.aO)(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\x00"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}}function tc(e,t){e[t]?e[t]++:e[t]=1}function td(e,t){--e[t]||delete e[t]}function th(e,t,n,r){var i=""+t,a=""+n;if(!e&&i>a){var o=i;i=a,a=o}return i+"\x01"+a+"\x01"+(e1(r)?"\x00":r)}function tf(e,t){return th(e,t.v,t.w,t.name)}tl.prototype._nodeCount=0,tl.prototype._edgeCount=0;class tp{dequeue(){var e=this._sentinel,t=e._prev;if(t!==e)return tg(t),t}enqueue(e){var t=this._sentinel;e._prev&&e._next&&tg(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,ty)),n=n._prev;return"["+e.join(", ")+"]"}constructor(){var e={};e._next=e._prev=e,this._sentinel=e}}function tg(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function ty(e,t){if("_next"!==e&&"_prev"!==e)return t}var tb=(0,l.aO)(1);function tm(e,t,n,r,i){var a=i?[]:void 0;return eV(e.inEdges(r.v),function(r){var o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,tx(t,n,s)}),eV(e.outEdges(r.v),function(r){var i=e.edge(r),a=r.w,o=e.node(a);o.in-=i,tx(t,n,o)}),e.removeNode(r.v),a}function tx(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}function tv(e,t,n,r){var i;do i=tu(r);while(e.hasNode(i))return n.dummy=t,e.setNode(i,n),i}function tk(e){var t=new tl({multigraph:e.isMultigraph()}).setGraph(e.graph());return eV(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),eV(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function tw(e,t){var n,r,i=e.x,a=e.y,o=t.x-i,s=t.y-a,u=e.width/2,l=e.height/2;if(!o&&!s)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(o)*l?(s<0&&(l=-l),n=l*o/s,r=l):(o<0&&(u=-u),n=u,r=u*s/o),{x:i+n,y:a+r}}function tE(e){var t=eY(tt(tA(e)+1),function(){return[]});return eV(e.nodes(),function(n){var r=e.node(n),i=r.rank;e1(i)||(t[i][r.order]=n)}),t}function t_(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),tv(e,"border",i,t)}function tA(e){return e9(eY(e.nodes(),function(t){var n=e.node(t).rank;if(!e1(n))return n}))}function tS(e,t){var n=eO();try{return t()}finally{console.log(e+" time: "+(eO()-n)+"ms")}}function tC(e,t){return t()}function tT(e,t,n,r,i,a){var o=i[t][a-1],s=tv(e,"border",{width:0,height:0,rank:a,borderType:t},n);i[t][a]=s,e.setParent(s,r),o&&e.setEdge(o,s,{weight:1})}function tF(e){eV(e.nodes(),function(t){tD(e.node(t))}),eV(e.edges(),function(t){tD(e.edge(t))})}function tD(e){var t=e.width;e.width=e.height,e.height=t}function tB(e){e.y=-e.y}function tL(e){var t=e.x;e.x=e.y,e.y=t}function tI(e){var t={};eV(e.sources(),function n(r){var i=e.node(r);if(eJ(t,r))return i.rank;t[r]=!0;var a=e4(eY(e.outEdges(r),function(t){return n(t.w)-e.edge(t).minlen}));return(a===Number.POSITIVE_INFINITY||null==a)&&(a=0),i.rank=a})}function tN(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function tO(e){var t,n,r=new tl({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(r.setNode(i,{});eV(r.nodes(),function t(n){eV(e.nodeEdges(n),function(i){var a=i.v,o=n===a?i.w:a;r.hasNode(o)||tN(e,i)||(r.setNode(o,{}),r.setEdge(n,o,{}),t(o))})}),r.nodeCount()<a;)t=function(e,t){return e8(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return tN(t,n)})}(r,e),n=r.hasNode(t.v)?tN(e,t):-tN(e,t),function(e,t,n){eV(e.nodes(),function(e){t.node(e).rank+=n})}(r,e,n);return r}function tM(e,t,n){(0,l.ad)(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],a={};return eV(t,function(t){if(!e.hasNode(t))throw Error("Graph does not have node: "+t);(function e(t,n,r,i,a,o){eJ(i,n)||(i[n]=!0,r||o.push(n),eV(a(n),function(n){e(t,n,r,i,a,o)}),r&&o.push(n))})(e,t,"post"===n,a,r,i)}),i}function tj(e){t=e,n=new tl().setGraph(t.graph()),eV(t.nodes(),function(e){n.setNode(e,t.node(e))}),eV(t.edges(),function(e){var r=n.edge(e.v,e.w)||{weight:0,minlen:1},i=t.edge(e);n.setEdge(e.v,e.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),tI(e=n);var t,n,r,i,a=tO(e);for(t$(a),tR(a,e);r=tz(a);)i=tH(a,e,r),tV(a,e,r,i)}function tR(e,t){var n=tM(e,e.nodes(),"post");eV(n=n.slice(0,n.length-1),function(n){var r;r=e.node(n).parent,e.edge(n,r).cutvalue=tP(e,t,n)})}function tP(e,t,n){var r=e.node(n).parent,i=!0,a=t.edge(n,r),o=0;return a||(i=!1,a=t.edge(r,n)),o=a.weight,eV(t.nodeEdges(n),function(a){var s=a.v===n,u=s?a.w:a.v;if(u!==r){var l=s===i,c=t.edge(a).weight;if(o+=l?c:-c,e.hasEdge(n,u)){var d=e.edge(n,u).cutvalue;o+=l?-d:d}}}),o}function t$(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,n,r,i,a){var o=r,s=t.node(i);return n[i]=!0,eV(t.neighbors(i),function(a){eJ(n,a)||(r=e(t,n,r,a,i))}),s.low=o,s.lim=r++,a?s.parent=a:delete s.parent,r}(e,{},1,t)}function tz(e){return eU(e.edges(),function(t){return e.edge(t).cutvalue<0})}function tH(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var a=e.node(r),o=e.node(i),s=a,u=!1;return a.lim>o.lim&&(s=o,u=!0),e8(eq(t.edges(),function(t){return u===tq(e,e.node(t.v),s)&&u!==tq(e,e.node(t.w),s)}),function(e){return tN(t,e)})}function tV(e,t,n,r){var i,a,o=n.v,s=n.w;e.removeEdge(o,s),e.setEdge(r.v,r.w,{}),t$(e),tR(e,t),i=eU(e.nodes(),function(e){return!t.node(e).parent}),eV(tM(e,i,"pre").slice(1),function(n){var r=e.node(n).parent,i=t.edge(n,r),a=!1;i||(i=t.edge(r,n),a=!0),t.node(n).rank=t.node(r).rank+(a?i.minlen:-i.minlen)})}function tq(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}function tG(e,t,n){for(var r;t.length&&(r=ez(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function tU(e,t,n){return eY(t,function(t){var r,i;return r=function(e){for(var t;e.hasNode(t=tu("_root")););return t}(e),i=new tl({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(t){return e.node(t)}),eV(e.nodes(),function(a){var o=e.node(a),s=e.parent(a);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(a),i.setParent(a,s||r),eV(e[n](a),function(t){var n=t.v===a?t.w:t.v,r=i.edge(n,a),o=e1(r)?0:r.weight;i.setEdge(n,a,{weight:e.edge(t).weight+o})}),eJ(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i})}function tX(e,t){eV(t,function(t){eV(t,function(t,n){e.node(t).order=n})})}function tY(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function tW(e,t){var n=t&&t.debugTiming?tS:tC;n("layout",function(){var t=n("  buildLayoutGraph",function(){var t,n;return t=new tl({multigraph:!0,compound:!0}),n=t4(e.graph()),t.setGraph((0,l.aQ)({},tQ,t9(n,tK),e5(n,tJ))),eV(e.nodes(),function(n){var r=t4(e.node(n));t.setNode(n,eP(t9(r,tZ),t1)),t.setParent(n,e.parent(n))}),eV(e.edges(),function(n){var r=t4(e.edge(n));t.setEdge(n,(0,l.aQ)({},t2,t9(r,t0),e5(r,t3)))}),t});n("  runLayout",function(){n("    makeSpaceForEdgeLabels",function(){var e;e=t.graph(),e.ranksep/=2,eV(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}),n("    removeSelfEdges",function(){eV(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}),n("    acyclic",function(){var e,n,r,i;e="greedy"===t.graph().acyclicer?function(e,t){if(1>=e.nodeCount())return[];var n,r,i,a,o,s,u=(n=t||tb,r=new tl,i=0,a=0,eV(e.nodes(),function(e){r.setNode(e,{v:e,in:0,out:0})}),eV(e.edges(),function(e){var t=r.edge(e.v,e.w)||0,o=n(e),s=t+o;r.setEdge(e.v,e.w,s),a=Math.max(a,r.node(e.v).out+=o),i=Math.max(i,r.node(e.w).in+=o)}),o=tt(a+i+3).map(function(){return new tp}),s=i+1,eV(r.nodes(),function(e){tx(o,s,r.node(e))}),{graph:r,buckets:o,zeroIdx:s});return q(eY(function(e,t,n){for(var r,i=[],a=t[t.length-1],o=t[0];e.nodeCount();){for(;r=o.dequeue();)tm(e,t,n,r);for(;r=a.dequeue();)tm(e,t,n,r);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(tm(e,t,n,r,!0));break}}}return i}(u.graph,u.buckets,u.zeroIdx),function(t){return e.outEdges(t.v,t.w)}))}(t,function(e){return t.edge(e).weight}):(n=[],r={},i={},eV(t.nodes(),function e(a){eJ(i,a)||(i[a]=!0,r[a]=!0,eV(t.outEdges(a),function(t){eJ(r,t.w)?n.push(t):e(t.w)}),delete r[a])}),n),eV(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,tu("rev"))})}),n("    nestingGraph.run",function(){var e,n,r,i,a;e=tv(t,"root",{},"_root"),r=2*(n=e9(eZ((a={},eV(t.children(),function(e){(function e(n,r){var i=t.children(n);i&&i.length&&eV(i,function(t){e(t,r+1)}),a[n]=r})(e,1)}),a)))-1)+1,t.graph().nestingRoot=e,eV(t.edges(),function(e){t.edge(e).minlen*=r}),i=tr(t.edges(),function(e,n){return e+t.edge(n).weight},0)+1,eV(t.children(),function(o){(function e(t,n,r,i,a,o,s){var u=t.children(s);if(!u.length){s!==n&&t.setEdge(n,s,{weight:0,minlen:r});return}var l=t_(t,"_bt"),c=t_(t,"_bb"),d=t.node(s);t.setParent(l,s),d.borderTop=l,t.setParent(c,s),d.borderBottom=c,eV(u,function(u){e(t,n,r,i,a,o,u);var d=t.node(u),h=d.borderTop?d.borderTop:u,f=d.borderBottom?d.borderBottom:u,p=d.borderTop?i:2*i,g=h!==f?1:a-o[s]+1;t.setEdge(l,h,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(f,c,{weight:p,minlen:g,nestingEdge:!0})}),t.parent(s)||t.setEdge(n,l,{weight:0,minlen:a+o[s]})})(t,e,r,i,n,a,o)}),t.graph().nodeRankFactor=r}),n("    rank",function(){(function(e){switch(e.graph().ranker){case"network-simplex":default:tj(e);break;case"tight-tree":tI(e),tO(e);break;case"longest-path":tI(e)}})(tk(t))}),n("    injectEdgeLabelProxies",function(){eV(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};tv(t,"edge-proxy",i,"_ep")}})}),n("    removeEmptyRanks",function(){var e,n,r,i;e=e4(eY(t.nodes(),function(e){return t.node(e).rank})),n=[],eV(t.nodes(),function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)}),r=0,i=t.graph().nodeRankFactor,eV(n,function(e,n){e1(e)&&n%i!=0?--r:r&&eV(e,function(e){t.node(e).rank+=r})})}),n("    nestingGraph.cleanup",function(){var e;e=t.graph(),t.removeNode(e.nestingRoot),delete e.nestingRoot,eV(t.edges(),function(e){t.edge(e).nestingEdge&&t.removeEdge(e)})}),n("    normalizeRanks",function(){var e;e=e4(eY(t.nodes(),function(e){return t.node(e).rank})),eV(t.nodes(),function(n){var r=t.node(n);eJ(r,"rank")&&(r.rank-=e)})}),n("    assignRankMinMax",function(){var e;e=0,eV(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=e9(e,r.maxRank))}),t.graph().maxRank=e}),n("    removeEdgeLabelProxies",function(){eV(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}),n("    normalize.run",function(){t.graph().dummyChains=[],eV(t.edges(),function(e){(function(e,t){var n,r,i,a=t.v,o=e.node(a).rank,s=t.w,u=e.node(s).rank,l=t.name,c=e.edge(t),d=c.labelRank;if(u!==o+1){for(e.removeEdge(t),i=0,++o;o<u;++i,++o)c.points=[],n=tv(e,"edge",r={width:0,height:0,edgeLabel:c,edgeObj:t,rank:o},"_d"),o===d&&(r.width=c.width,r.height=c.height,r.dummy="edge-label",r.labelpos=c.labelpos),e.setEdge(a,n,{weight:c.weight},l),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,s,{weight:c.weight},l)}})(t,e)})}),n("    parentDummyChains",function(){var e,n;e={},n=0,eV(t.children(),function r(i){var a=n;eV(t.children(i),r),e[i]={low:a,lim:n++}}),eV(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,a=function(e,t,n,r){var i,a,o=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do o.push(i=e.parent(i));while(i&&(t[i].low>u||l>t[i].lim))for(a=i,i=r;(i=e.parent(i))!==a;)s.push(i);return{path:o.concat(s.reverse()),lca:a}}(t,e,i.v,i.w),o=a.path,s=a.lca,u=0,l=o[u],c=!0;n!==i.w;){if(r=t.node(n),c){for(;(l=o[u])!==s&&t.node(l).maxRank<r.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<o.length-1&&t.node(l=o[u+1]).minRank<=r.rank;)u++;l=o[u]}t.setParent(n,l),n=t.successors(n)[0]}})}),n("    addBorderSegments",function(){eV(t.children(),function e(n){var r=t.children(n),i=t.node(n);if(r.length&&eV(r,e),eJ(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)tT(t,"borderLeft","_bl",n,i,a),tT(t,"borderRight","_br",n,i,a)}})}),n("    order",function(){(function(e){var t=tA(e),n=tU(e,tt(1,t+1),"inEdges"),r=tU(e,tt(t-1,-1,-1),"outEdges"),i=(a={},s=e9(eY(o=eq(e.nodes(),function(t){return!e.children(t).length}),function(t){return e.node(t).rank})),u=eY(tt(s+1),function(){return[]}),eV(ti(o,function(t){return e.node(t).rank}),function t(n){eJ(a,n)||(a[n]=!0,u[e.node(n).rank].push(n),eV(e.successors(n),t))}),u);tX(e,i);for(var a,o,s,u,c,d=Number.POSITIVE_INFINITY,h=0,f=0;f<4;++h,++f){(function(e,t){var n=new tl;eV(e,function(e){var r,i,a,o=e.graph().root,s=function e(t,n,r,i){var a,o,s,u,l,c,d,h,f,p=t.children(n),g=t.node(n),y=g?g.borderLeft:void 0,b=g?g.borderRight:void 0,m={};y&&(p=eq(p,function(e){return e!==y&&e!==b}));var x=eY(p,function(e){var n=t.inEdges(e);if(!n.length)return{v:e};var r=tr(n,function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}});eV(x,function(n){if(t.children(n.v).length){var a=e(t,n.v,r,i);m[n.v]=a,eJ(a,"barycenter")&&(e1(n.barycenter)?(n.barycenter=a.barycenter,n.weight=a.weight):(n.barycenter=(n.barycenter*n.weight+a.barycenter*a.weight)/(n.weight+a.weight),n.weight+=a.weight))}});var v=(a={},eV(x,function(e,t){var n=a[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};e1(e.barycenter)||(n.barycenter=e.barycenter,n.weight=e.weight)}),eV(r.edges(),function(e){var t=a[e.v],n=a[e.w];e1(t)||e1(n)||(n.indegree++,t.out.push(a[e.w]))}),function(e){for(var t=[];e.length;){var n=e.pop();t.push(n),eV(n.in.reverse(),function(e){return function(t){t.merged||(e1(t.barycenter)||e1(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}(n)),eV(n.out,function(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}(n))}return eY(eq(t,function(e){return!e.merged}),function(e){return e5(e,["vs","i","barycenter","weight"])})}(eq(a,function(e){return!e.indegree})));(function(e,t){eV(e,function(e){e.vs=q(e.vs.map(function(e){return t[e]?t[e].vs:e}))})})(v,m);var k=(s=(o={lhs:[],rhs:[]},eV(v,function(e){eJ(e,"barycenter")?o.lhs.push(e):o.rhs.push(e)}),o).lhs,u=ti(o.rhs,function(e){return-e.i}),l=[],c=0,d=0,h=0,s.sort(function(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}(!!i)),h=tG(l,u,h),eV(s,function(e){h+=e.vs.length,l.push(e.vs),c+=e.barycenter*e.weight,d+=e.weight,h=tG(l,u,h)}),f={vs:q(l)},d&&(f.barycenter=c/d,f.weight=d),f);if(y&&(k.vs=q([y,k.vs,b]),t.predecessors(y).length)){var w=t.node(t.predecessors(y)[0]),E=t.node(t.predecessors(b)[0]);eJ(k,"barycenter")||(k.barycenter=0,k.weight=0),k.barycenter=(k.barycenter*k.weight+w.order+E.order)/(k.weight+2),k.weight+=2}return k}(e,o,n,t);eV(s.vs,function(t,n){e.node(t).order=n}),r=s.vs,a={},eV(r,function(t){for(var r,o,s=e.parent(t);s;){if((r=e.parent(s))?(o=a[r],a[r]=s):(o=i,i=s),o&&o!==s){n.setEdge(o,s);return}s=r}})})})(h%2?n:r,h%4>=2),i=tE(e);var p=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=function(e,t,n){for(var r=function(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;){var s=r<a?t[r]:void 0;n(o,e[r],s)}return o}(n||[],eY(n,function(e,t){return t})||[],l.az),i=q(eY(t,function(t){return ti(eY(e.outEdges(t),function(t){return{pos:r[t.w],weight:e.edge(t).weight}}),"pos")})),a=1;a<n.length;)a<<=1;var o=2*a-1;a-=1;var s=eY(Array(o),function(){return 0}),u=0;return eV(i.forEach(function(e){var t=e.pos+a;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),t=t-1>>1,s[t]+=e.weight;u+=e.weight*n})),u}(e,t[r-1],t[r]);return n}(e,i);p<d&&(f=0,c=ef(i,5),d=p)}tX(e,c)})(t)}),n("    insertSelfEdges",function(){eV(tE(t),function(e){var n=0;eV(e,function(e,r){var i=t.node(e);i.order=r+n,eV(i.selfEdges,function(e){tv(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:r+ ++n,e:e.e,label:e.label},"_se")}),delete i.selfEdges})})}),n("    adjustCoordinateSystem",function(){var e;("lr"===(e=t.graph().rankdir.toLowerCase())||"rl"===e)&&tF(t)}),n("    position",function(){var e,n,r,i,a,o,s,u,c,d,h,f,p,g,y,b,m;y=tE(g=e=tk(e=t)),b=g.graph().ranksep,m=0,eV(y,function(e){var t=e9(eY(e,function(e){return g.node(e).height}));eV(e,function(e){g.node(e).y=m+t/2}),m+=t+b}),a=tE(n=e),o=(0,l.aQ)((r={},tr(a,function(e,t){var i=0,a=0,o=e.length,s=ez(t);return eV(t,function(e,u){var l=function(e,t){if(e.node(t).dummy)return eU(e.predecessors(t),function(t){return e.node(t).dummy})}(n,e),c=l?n.node(l).order:o;(l||e===s)&&(eV(t.slice(a,u+1),function(e){eV(n.predecessors(e),function(t){var a=n.node(t),o=a.order;(o<i||c<o)&&!(a.dummy&&n.node(e).dummy)&&tY(r,t,e)})}),a=u+1,i=c)}),t}),r),function(e,t){var n={};function r(t,r,i,a,o){var s;eV(tt(r,i),function(r){s=t[r],e.node(s).dummy&&eV(e.predecessors(s),function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>o)&&tY(n,t,s)})})}return tr(t,function(t,n){var i,a=-1,o=0;return eV(n,function(s,u){if("border"===e.node(s).dummy){var l=e.predecessors(s);l.length&&(i=e.node(l[0]).order,r(n,o,u,a,i),o=u,a=i)}r(n,o,n.length,i,t.length)}),n}),n}(n,a)),s={},eV(["u","d"],function(e){i="u"===e?a:eZ(a).reverse(),eV(["l","r"],function(t){"r"===t&&(i=eY(i,function(e){return eZ(e).reverse()}));var r,a,u,l,c=("u"===e?n.predecessors:n.successors).bind(n),d=(a={},u={},l={},eV(r=i,function(e){eV(e,function(e,t){a[e]=e,u[e]=e,l[e]=t})}),eV(r,function(e){var t=-1;eV(e,function(e){var n=c(e);if(n.length){n=ti(n,function(e){return l[e]});for(var r=(n.length-1)/2,i=Math.floor(r),s=Math.ceil(r);i<=s;++i){var d=n[i];u[e]===e&&t<l[d]&&!function(e,t,n){if(t>n){var r=t;t=n,n=r}return eJ(e[t],n)}(o,e,d)&&(u[d]=e,u[e]=a[e]=a[d],t=l[d])}}})}),{root:a,align:u}),h=function(e,t,n,r,i){var a,o,s,u,l,c={},d=(s=new tl,a=(u=e.graph()).nodesep,o=u.edgesep,l=function(e,t,n){var r,s,u=e.node(t),l=e.node(n);if(s=0+u.width/2,eJ(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":r=-u.width/2;break;case"r":r=u.width/2}if(r&&(s+=i?r:-r),r=0,s+=(u.dummy?o:a)/2+(l.dummy?o:a)/2+l.width/2,eJ(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":r=l.width/2;break;case"r":r=-l.width/2}return r&&(s+=i?r:-r),r=0,s},eV(t,function(t){var r;eV(t,function(t){var i=n[t];if(s.setNode(i),r){var a=n[r],o=s.edge(a,i);s.setEdge(a,i,Math.max(l(e,t,r),o||0))}r=t})}),s),h=i?"borderLeft":"borderRight";function f(e,t){for(var n=d.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return f(function(e){c[e]=d.inEdges(e).reduce(function(e,t){return Math.max(e,c[t.v]+d.edge(t))},0)},d.predecessors.bind(d)),f(function(t){var n=d.outEdges(t).reduce(function(e,t){return Math.min(e,c[t.w]-d.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==h&&(c[t]=Math.max(c[t],n))},d.successors.bind(d)),eV(r,function(e){c[e]=c[n[e]]}),c}(n,i,d.root,d.align,"r"===t);"r"===t&&(h=e2(h,function(e){return-e})),s[e+t]=h})}),u=e8(eZ(s),function(e){var t=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return null==e||(0,l.aH)(e,eH(function(e,i){var a=n.node(i).width/2;t=Math.max(e+a,t),r=Math.min(e-a,r)}),l.an),t-r}),d=e4(c=eZ(u)),h=e9(c),eV(["u","d"],function(e){eV(["l","r"],function(t){var n,r=e+t,i=s[r];if(i!==u){var a=eZ(i);(n="l"===t?d-e4(a):h-e9(a))&&(s[r]=e2(i,function(e){return e+n}))}})}),f=n.graph().align,(p=e2(s.ul,function(e,t){if(f)return s[f.toLowerCase()][t];var n=ti(eY(s,t));return(n[1]+n[2])/2}))&&eI(p,eH(function(t,n){e.node(n).x=t}))}),n("    positionSelfEdges",function(){eV(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,a=r.y,o=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],n.label.x=n.x,n.label.y=n.y}})}),n("    removeBorderNodes",function(){eV(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),a=t.node(ez(n.borderLeft)),o=t.node(ez(n.borderRight));n.width=Math.abs(o.x-a.x),n.height=Math.abs(i.y-r.y),n.x=a.x+n.width/2,n.y=r.y+n.height/2}}),eV(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}),n("    normalize.undo",function(){eV(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})}),n("    fixupEdgeLabelCoords",function(){eV(t.edges(),function(e){var n=t.edge(e);if(eJ(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}),n("    undoCoordinateSystem",function(){var e;("bt"===(e=t.graph().rankdir.toLowerCase())||"rl"===e)&&(eV(t.nodes(),function(e){tB(t.node(e))}),eV(t.edges(),function(e){var n=t.edge(e);eV(n.points,tB),eJ(n,"y")&&tB(n)})),("lr"===e||"rl"===e)&&(eV(t.nodes(),function(e){tL(t.node(e))}),eV(t.edges(),function(e){var n=t.edge(e);eV(n.points,tL),eJ(n,"x")&&tL(n)}),tF(t))}),n("    translateGraph",function(){(function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,a=e.graph(),o=a.marginx||0,s=a.marginy||0;function u(e){var a=e.x,o=e.y,s=e.width,u=e.height;t=Math.min(t,a-s/2),n=Math.max(n,a+s/2),r=Math.min(r,o-u/2),i=Math.max(i,o+u/2)}eV(e.nodes(),function(t){u(e.node(t))}),eV(e.edges(),function(t){var n=e.edge(t);eJ(n,"x")&&u(n)}),t-=o,r-=s,eV(e.nodes(),function(n){var i=e.node(n);i.x-=t,i.y-=r}),eV(e.edges(),function(n){var i=e.edge(n);eV(i.points,function(e){e.x-=t,e.y-=r}),eJ(i,"x")&&(i.x-=t),eJ(i,"y")&&(i.y-=r)}),a.width=n-t+o,a.height=i-r+s})(t)}),n("    assignNodeIntersects",function(){eV(t.edges(),function(e){var n,r,i=t.edge(e),a=t.node(e.v),o=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=o,r=a),i.points.unshift(tw(a,n)),i.points.push(tw(o,r))})}),n("    reversePoints",function(){eV(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}),n("    acyclic.undo",function(){eV(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})})}),n("  updateInputGraph",function(){eV(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),eV(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,eJ(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height})})}Error(),tj.initLowLimValues=t$,tj.initCutValues=tR,tj.calcCutValue=tP,tj.leaveEdge=tz,tj.enterEdge=tH,tj.exchangeEdges=tV;var tK=["nodesep","edgesep","ranksep","marginx","marginy"],tQ={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},tJ=["acyclicer","ranker","rankdir","align"],tZ=["width","height"],t1={width:0,height:0},t0=["minlen","weight","width","height","labeloffset"],t2={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},t3=["labelpos"];function t9(e,t){return e2(e5(e,t),Number)}function t4(e){var t={};return eV(e,function(e,n){t[n.toLowerCase()]=e}),t}}),t.register("1NxYZ",function(n,r){e(n.exports,"r",function(){return T});var i=t("2y0iR"),a=t("hubSx"),o=t("2O8Km"),s=t("6N8n7");function u(e){var t,n={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:(0,i.m)(e.nodes(),function(t){var n=e.node(t),r=e.parent(t),a={v:t};return(0,i.i)(n)||(a.value=n),(0,i.i)(r)||(a.parent=r),a}),edges:(0,i.m)(e.edges(),function(t){var n=e.edge(t),r={v:t.v,w:t.w};return(0,i.i)(t.name)||(r.name=t.name),(0,i.i)(n)||(r.value=n),r})};return(0,i.i)(e.graph())||(n.value=(t=e.graph(),(0,i.b)(t,4))),n}let l={},c={},d={},h=()=>{c={},d={},l={}},f=(e,t)=>((0,o.l).trace("In isDecendant",t," ",e," = ",c[t].includes(e)),!!c[t].includes(e)),p=(e,t)=>((0,o.l).info("Decendants of ",t," is ",c[t]),(0,o.l).info("Edge is ",e),e.v!==t&&e.w!==t&&(c[t]?c[t].includes(e.v)||f(e.v,t)||f(e.w,t)||c[t].includes(e.w):((0,o.l).debug("Tilt, ",t,",not in decendants"),!1))),g=(e,t,n,r)=>{(0,o.l).warn("Copying children of ",e,"root",r,"data",t.node(e),r);let i=t.children(e)||[];e!==r&&i.push(e),(0,o.l).warn("Copying (nodes) clusterId",e,"nodes",i),i.forEach(i=>{if(t.children(i).length>0)g(i,t,n,r);else{let a=t.node(i);(0,o.l).info("cp ",i," to ",r," with parent ",e),n.setNode(i,a),r!==t.parent(i)&&((0,o.l).warn("Setting parent",i,t.parent(i)),n.setParent(i,t.parent(i))),e!==r&&i!==e?((0,o.l).debug("Setting parent",i,e),n.setParent(i,e)):((0,o.l).info("In copy ",e,"root",r,"data",t.node(e),r),(0,o.l).debug("Not Setting parent for node=",i,"cluster!==rootId",e!==r,"node!==clusterId",i!==e));let s=t.edges(i);(0,o.l).debug("Copying Edges",s),s.forEach(i=>{(0,o.l).info("Edge",i);let a=t.edge(i.v,i.w,i.name);(0,o.l).info("Edge data",a,r);try{p(i,r)?((0,o.l).info("Copying as ",i.v,i.w,a,i.name),n.setEdge(i.v,i.w,a,i.name),(0,o.l).info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):(0,o.l).info("Skipping copy of edge ",i.v,"-->",i.w," rootId: ",r," clusterId:",e)}catch(e){(0,o.l).error(e)}})}(0,o.l).debug("Removing node",i),t.removeNode(i)})},y=(e,t)=>{let n=t.children(e),r=[...n];for(let i of n)d[i]=e,r=[...r,...y(i,t)];return r},b=(e,t)=>{(0,o.l).trace("Searching",e);let n=t.children(e);if((0,o.l).trace("Searching children of id ",e,n),n.length<1)return(0,o.l).trace("This is a valid node",e),e;for(let r of n){let n=b(r,t);if(n)return(0,o.l).trace("Found replacement for",e," => ",n),n}},m=e=>l[e]&&l[e].externalConnections&&l[e]?l[e].id:e,x=(e,t)=>{if(!e||t>10){(0,o.l).debug("Opting out, no graph ");return}(0,o.l).debug("Opting in, graph "),e.nodes().forEach(function(t){e.children(t).length>0&&((0,o.l).warn("Cluster identified",t," Replacement id in edges: ",b(t,e)),c[t]=y(t,e),l[t]={id:b(t,e),clusterData:e.node(t)})}),e.nodes().forEach(function(t){let n=e.children(t),r=e.edges();n.length>0?((0,o.l).debug("Cluster identified",t,c),r.forEach(e=>{if(e.v!==t&&e.w!==t){let n=f(e.v,t),r=f(e.w,t);n^r&&((0,o.l).warn("Edge: ",e," leaves cluster ",t),(0,o.l).warn("Decendants of XXX ",t,": ",c[t]),l[t].externalConnections=!0)}})):(0,o.l).debug("Not a cluster ",t,c)}),e.edges().forEach(function(t){let n=e.edge(t);(0,o.l).warn("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),(0,o.l).warn("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(e.edge(t)));let r=t.v,i=t.w;if((0,o.l).warn("Fix XXX",l,"ids:",t.v,t.w,"Translating: ",l[t.v]," --- ",l[t.w]),l[t.v]&&l[t.w]&&l[t.v]===l[t.w]){(0,o.l).warn("Fixing and trixing link to self - removing XXX",t.v,t.w,t.name),(0,o.l).warn("Fixing and trixing - removing XXX",t.v,t.w,t.name),r=m(t.v),i=m(t.w),e.removeEdge(t.v,t.w,t.name);let a=t.w+"---"+t.v;e.setNode(a,{domId:a,id:a,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});let s=JSON.parse(JSON.stringify(n)),u=JSON.parse(JSON.stringify(n));s.label="",s.arrowTypeEnd="none",u.label="",s.fromCluster=t.v,u.toCluster=t.v,e.setEdge(r,a,s,t.name+"-cyclic-special"),e.setEdge(a,i,u,t.name+"-cyclic-special")}else(l[t.v]||l[t.w])&&((0,o.l).warn("Fixing and trixing - removing XXX",t.v,t.w,t.name),r=m(t.v),i=m(t.w),e.removeEdge(t.v,t.w,t.name),r!==t.v&&(n.fromCluster=t.v),i!==t.w&&(n.toCluster=t.w),(0,o.l).warn("Fix Replacing with XXX",r,i,t.name),e.setEdge(r,i,n,t.name))}),(0,o.l).warn("Adjusted Graph",u(e)),v(e,0),(0,o.l).trace(l)},v=(e,t)=>{if((0,o.l).warn("extractor - ",t,u(e),e.children("D")),t>10){(0,o.l).error("Bailing out");return}let n=e.nodes(),r=!1;for(let t of n){let n=e.children(t);r=r||n.length>0}if(!r){(0,o.l).debug("Done, no node has children",e.nodes());return}for(let r of((0,o.l).debug("Nodes = ",n,t),n))if((0,o.l).debug("Extracting node",r,l,l[r]&&!l[r].externalConnections,!e.parent(r),e.node(r),e.children("D")," Depth ",t),l[r]){if(!l[r].externalConnections&&e.children(r)&&e.children(r).length>0){(0,o.l).warn("Cluster without external connections, without a parent and with children",r,t);let n="TB"===e.graph().rankdir?"LR":"TB";l[r]&&l[r].clusterData&&l[r].clusterData.dir&&(n=l[r].clusterData.dir,(0,o.l).warn("Fixing dir",l[r].clusterData.dir,n));let a=new(0,i.G)({multigraph:!0,compound:!0}).setGraph({rankdir:n,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});(0,o.l).warn("Old graph before copy",u(e)),g(r,e,a,r),e.setNode(r,{clusterNode:!0,id:r,clusterData:l[r].clusterData,labelText:l[r].labelText,graph:a}),(0,o.l).warn("New graph after copy node: (",r,")",u(a)),(0,o.l).debug("Old graph after copy",u(e))}else(0,o.l).warn("Cluster ** ",r," **not meeting the criteria !externalConnections:",!l[r].externalConnections," no parent: ",!e.parent(r)," children ",e.children(r)&&e.children(r).length>0,e.children("D"),t),(0,o.l).debug(l)}else(0,o.l).debug("Not a cluster",r,t);for(let r of(n=e.nodes(),(0,o.l).warn("New list of nodes",n),n)){let n=e.node(r);(0,o.l).warn(" Now next level",r,n),n.clusterNode&&v(n.graph,t+1)}},k=(e,t)=>{if(0===t.length)return[];let n=Object.assign(t);return t.forEach(t=>{let r=e.children(t),i=k(e,r);n=[...n,...i]}),n},w=e=>k(e,e.children()),E={rect:(e,t)=>{(0,o.l).info("Creating subgraph rect for ",t.id,t);let n=e.insert("g").attr("class","cluster"+(t.class?" "+t.class:"")).attr("id",t.id),r=n.insert("rect",":first-child"),i=(0,o.q)((0,o.c)().flowchart.htmlLabels),u=n.insert("g").attr("class","cluster-label"),l="markdown"===t.labelType?(0,s.c)(u,t.labelText,{style:t.labelStyle,useHtmlLabels:i}):u.node().appendChild((0,a.c)(t.labelText,t.labelStyle,void 0,!0)),c=l.getBBox();if((0,o.q)((0,o.c)().flowchart.htmlLabels)){let e=l.children[0],t=(0,o.j)(l);c=e.getBoundingClientRect(),t.attr("width",c.width),t.attr("height",c.height)}let d=0*t.padding,h=d/2,f=t.width<=c.width+d?c.width+d:t.width;t.width<=c.width+d?t.diff=(c.width-t.width)/2-t.padding/2:t.diff=-t.padding/2,(0,o.l).trace("Data ",t,JSON.stringify(t)),r.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-f/2).attr("y",t.y-t.height/2-h).attr("width",f).attr("height",t.height+d),i?u.attr("transform","translate("+(t.x-c.width/2)+", "+(t.y-t.height/2)+")"):u.attr("transform","translate("+t.x+", "+(t.y-t.height/2)+")");let p=r.node().getBBox();return t.width=p.width,t.height=p.height,t.intersect=function(e){return(0,a.i)(t,e)},n},roundedWithTitle:(e,t)=>{let n=e.insert("g").attr("class",t.classes).attr("id",t.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),s=n.append("rect"),u=i.node().appendChild((0,a.c)(t.labelText,t.labelStyle,void 0,!0)),l=u.getBBox();if((0,o.q)((0,o.c)().flowchart.htmlLabels)){let e=u.children[0],t=(0,o.j)(u);l=e.getBoundingClientRect(),t.attr("width",l.width),t.attr("height",l.height)}l=u.getBBox();let c=0*t.padding,d=c/2,h=t.width<=l.width+t.padding?l.width+t.padding:t.width;t.width<=l.width+t.padding?t.diff=(l.width+0*t.padding-t.width)/2:t.diff=-t.padding/2,r.attr("class","outer").attr("x",t.x-h/2-d).attr("y",t.y-t.height/2-d).attr("width",h+c).attr("height",t.height+c),s.attr("class","inner").attr("x",t.x-h/2-d).attr("y",t.y-t.height/2-d+l.height-1).attr("width",h+c).attr("height",t.height+c-l.height-3),i.attr("transform","translate("+(t.x-l.width/2)+", "+(t.y-t.height/2-t.padding/3+((0,o.q)((0,o.c)().flowchart.htmlLabels)?5:3))+")");let f=r.node().getBBox();return t.height=f.height,t.intersect=function(e){return(0,a.i)(t,e)},n},noteGroup:(e,t)=>{let n=e.insert("g").attr("class","note-cluster").attr("id",t.id),r=n.insert("rect",":first-child"),i=0*t.padding,o=i/2;r.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-o).attr("y",t.y-t.height/2-o).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");let s=r.node().getBBox();return t.width=s.width,t.height=s.height,t.intersect=function(e){return(0,a.i)(t,e)},n},divider:(e,t)=>{let n=e.insert("g").attr("class",t.classes).attr("id",t.id),r=n.insert("rect",":first-child"),i=0*t.padding,o=i/2;r.attr("class","divider").attr("x",t.x-t.width/2-o).attr("y",t.y-t.height/2).attr("width",t.width+i).attr("height",t.height+i);let s=r.node().getBBox();return t.width=s.width,t.height=s.height,t.diff=-t.padding/2,t.intersect=function(e){return(0,a.i)(t,e)},n}},_={},A=(e,t)=>{(0,o.l).trace("Inserting cluster");let n=t.shape||"rect";_[t.id]=E[n](e,t)},S=()=>{_={}},C=async(e,t,n,r)=>{(0,o.l).info("Graph in recursive render: XXX",u(t),r);let s=t.graph().rankdir;(0,o.l).trace("Dir in recursive render - dir:",s);let c=e.insert("g").attr("class","root");t.nodes()?(0,o.l).info("Recursive render XXX",t.nodes()):(0,o.l).info("No nodes found for",t),t.edges().length>0&&(0,o.l).trace("Recursive edges",t.edge(t.edges()[0]));let d=c.insert("g").attr("class","clusters"),h=c.insert("g").attr("class","edgePaths"),f=c.insert("g").attr("class","edgeLabels"),p=c.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(e){let i=t.node(e);if(void 0!==r){let n=JSON.parse(JSON.stringify(r.clusterData));(0,o.l).info("Setting data for cluster XXX (",e,") ",n,r),t.setNode(r.id,n),t.parent(e)||((0,o.l).trace("Setting parent",e,r.id),t.setParent(e,r.id,n))}if((0,o.l).info("(Insert) Node XXX"+e+": "+JSON.stringify(t.node(e))),i&&i.clusterNode){(0,o.l).info("Cluster identified",e,i.width,t.node(e));let r=await C(p,i.graph,n,t.node(e)),s=r.elem;(0,a.u)(i,s),i.diff=r.diff||0,(0,o.l).info("Node bounds (abc123)",e,i,i.width,i.x,i.y),(0,a.s)(s,i),(0,o.l).warn("Recursive render complete ",s,i)}else t.children(e).length>0?((0,o.l).info("Cluster - the non recursive path XXX",e,i.id,i,t),(0,o.l).info(b(i.id,t)),l[i.id]={id:b(i.id,t),node:i}):((0,o.l).info("Node - the non recursive path",e,i.id,i),await (0,a.e)(p,t.node(e),s))})),t.edges().forEach(function(e){let n=t.edge(e.v,e.w,e.name);(0,o.l).info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),(0,o.l).info("Edge "+e.v+" -> "+e.w+": ",e," ",JSON.stringify(t.edge(e))),(0,o.l).info("Fix",l,"ids:",e.v,e.w,"Translateing: ",l[e.v],l[e.w]),(0,a.f)(f,n)}),t.edges().forEach(function(e){(0,o.l).info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e))}),(0,o.l).info("#############################################"),(0,o.l).info("###                Layout                 ###"),(0,o.l).info("#############################################"),(0,o.l).info(t),(0,i.l)(t),(0,o.l).info("Graph after layout:",u(t));let g=0;return w(t).forEach(function(e){let n=t.node(e);(0,o.l).info("Position "+e+": "+JSON.stringify(t.node(e))),(0,o.l).info("Position "+e+": ("+n.x,","+n.y,") width: ",n.width," height: ",n.height),n&&n.clusterNode?(0,a.p)(n):t.children(e).length>0?(A(d,n),l[n.id].node=n):(0,a.p)(n)}),t.edges().forEach(function(e){let r=t.edge(e);(0,o.l).info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(r),r);let i=(0,a.g)(h,e,r,l,n,t);(0,a.h)(r,i)}),t.nodes().forEach(function(e){let n=t.node(e);(0,o.l).info(e,n.type,n.diff),"group"===n.type&&(g=n.diff)}),{elem:c,diff:g}},T=async(e,t,n,r,i)=>{(0,a.a)(e,n,r,i),(0,a.b)(),(0,a.d)(),S(),h(),(0,o.l).warn("Graph at first:",u(t)),x(t),(0,o.l).warn("Graph after:",u(t)),await C(e,t,r)}}),t.register("hubSx",function(n,r){e(n.exports,"a",function(){return l}),e(n.exports,"c",function(){return c}),e(n.exports,"l",function(){return d}),e(n.exports,"u",function(){return h}),e(n.exports,"i",function(){return g}),e(n.exports,"e",function(){return P}),e(n.exports,"s",function(){return $}),e(n.exports,"b",function(){return z}),e(n.exports,"p",function(){return H}),e(n.exports,"d",function(){return G}),e(n.exports,"f",function(){return U}),e(n.exports,"h",function(){return Y}),e(n.exports,"g",function(){return J});var i=t("2O8Km"),a=t("6N8n7"),o=t("iFKul"),s=t("apqLh");let u={extension:(e,t,n)=>{(0,i.l).trace("Making markers for ",n),e.append("defs").append("marker").attr("id",t+"-extensionStart").attr("class","marker extension "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(e,t)=>{e.append("defs").append("marker").attr("id",t+"-compositionStart").attr("class","marker composition "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(e,t)=>{e.append("defs").append("marker").attr("id",t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(e,t)=>{e.append("defs").append("marker").attr("id",t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(e,t)=>{e.append("defs").append("marker").attr("id",t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(e,t)=>{e.append("marker").attr("id",t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(e,t)=>{e.append("marker").attr("id",t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(e,t)=>{e.append("marker").attr("id",t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(e,t)=>{e.append("defs").append("marker").attr("id",t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},l=(e,t,n,r)=>{t.forEach(t=>{u[t](e,n,r)})},c=(e,t,n,r)=>{let a=e||"";if("object"==typeof a&&(a=a[0]),(0,i.q)((0,i.c)().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),(0,i.l).info("vertexText"+a);let e={isNode:r,label:(0,i.aT)(a).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return function(e){var t;let n=(0,i.j)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=n.append("xhtml:div"),a=e.label,o=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+o+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+a+"</span>"),(t=e.labelStyle)&&r.attr("style",t),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),n.node()}(e)}{let e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",t.replace("color:","fill:"));for(let t of"string"==typeof a?a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?a:[]){let r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),r.setAttribute("dy","1em"),r.setAttribute("x","0"),n?r.setAttribute("class","title-row"):r.setAttribute("class","row"),r.textContent=t.trim(),e.appendChild(r)}return e}},d=async(e,t,n,r)=>{let o,s,u;let l=t.useHtmlLabels||(0,i.q)((0,i.c)().flowchart.htmlLabels);o=n||"node default";let d=e.insert("g").attr("class",o).attr("id",t.domId||t.id),h=d.insert("g").attr("class","label").attr("style",t.labelStyle);s=void 0===t.labelText?"":"string"==typeof t.labelText?t.labelText:t.labelText[0];let f=h.node(),p=(u="markdown"===t.labelType?(0,a.c)(h,(0,i.d)((0,i.aT)(s),(0,i.c)()),{useHtmlLabels:l,width:t.width||(0,i.c)().flowchart.wrappingWidth,classes:"markdown-node-label"}):f.appendChild(c((0,i.d)((0,i.aT)(s),(0,i.c)()),t.labelStyle,!1,r))).getBBox(),g=t.padding/2;if((0,i.q)((0,i.c)().flowchart.htmlLabels)){let e=u.children[0],t=(0,i.j)(u),n=e.getElementsByTagName("img");if(n){let e=""===s.replace(/<img[^>]*>/g,"").trim();await Promise.all([...n].map(t=>new Promise(n=>{function r(){if(t.style.display="flex",t.style.flexDirection="column",e){let e=(0,i.c)().fontSize?(0,i.c)().fontSize:window.getComputedStyle(document.body).fontSize;t.style.width=5*parseInt(e,10)+"px"}else t.style.width="100%";n(t)}setTimeout(()=>{t.complete&&r()}),t.addEventListener("error",r),t.addEventListener("load",r)})))}p=e.getBoundingClientRect(),t.attr("width",p.width),t.attr("height",p.height)}return l?h.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"):h.attr("transform","translate(0, "+-p.height/2+")"),t.centerLabel&&h.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.insert("rect",":first-child"),{shapeSvg:d,bbox:p,halfPadding:g,label:h}},h=(e,t)=>{let n=t.node().getBBox();e.width=n.width,e.height=n.height};function f(e,t,n,r){return e.insert("polygon",":first-child").attr("points",r.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}function p(e,t,n,r){var i=e.x,a=e.y,o=i-r.x,s=a-r.y,u=Math.sqrt(t*t*s*s+n*n*o*o),l=Math.abs(t*n*o/u);r.x<i&&(l=-l);var c=Math.abs(t*n*s/u);return r.y<a&&(c=-c),{x:i+l,y:a+c}}let g=(e,t)=>{var n,r,i=e.x,a=e.y,o=t.x-i,s=t.y-a,u=e.width/2,l=e.height/2;return Math.abs(s)*u>Math.abs(o)*l?(s<0&&(l=-l),n=0===s?0:l*o/s,r=l):(o<0&&(u=-u),n=u,r=0===o?0:u*s/o),{x:i+n,y:a+r}},y={node:function(e,t){return e.intersect(t)},circle:function(e,t,n){return p(e,t,t,n)},ellipse:p,polygon:function(e,t,n){var r=e.x,i=e.y,a=[],o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;"function"==typeof t.forEach?t.forEach(function(e){o=Math.min(o,e.x),s=Math.min(s,e.y)}):(o=Math.min(o,t.x),s=Math.min(s,t.y));for(var u=r-e.width/2-o,l=i-e.height/2-s,c=0;c<t.length;c++){var d=t[c],h=t[c<t.length-1?c+1:0],f=function(e,t,n,r){var i,a,o,s,u,l,c,d,h,f,p,g,y;if(i=t.y-e.y,o=e.x-t.x,u=t.x*e.y-e.x*t.y,h=i*n.x+o*n.y+u,f=i*r.x+o*r.y+u,!(0!==h&&0!==f&&h*f>0)&&(a=r.y-n.y,s=n.x-r.x,l=r.x*n.y-n.x*r.y,c=a*e.x+s*e.y+l,d=a*t.x+s*t.y+l,!(0!==c&&0!==d&&c*d>0)&&0!=(p=i*s-a*o)))return g=Math.abs(p/2),{x:(y=o*l-s*u)<0?(y-g)/p:(y+g)/p,y:(y=a*u-i*l)<0?(y-g)/p:(y+g)/p}}(e,n,{x:u+d.x,y:l+d.y},{x:u+h.x,y:l+h.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort(function(e,t){var r=e.x-n.x,i=e.y-n.y,a=Math.sqrt(r*r+i*i),o=t.x-n.x,s=t.y-n.y,u=Math.sqrt(o*o+s*s);return a<u?-1:a===u?0:1}),a[0]):e},rect:g},b=async(e,t)=>{t.useHtmlLabels||(0,i.c)().flowchart.htmlLabels||(t.centerLabel=!0);let{shapeSvg:n,bbox:r,halfPadding:a}=await d(e,t,"node "+t.classes,!0);(0,i.l).info("Classes = ",t.classes);let o=n.insert("rect",":first-child");return o.attr("rx",t.rx).attr("ry",t.ry).attr("x",-r.width/2-a).attr("y",-r.height/2-a).attr("width",r.width+t.padding).attr("height",r.height+t.padding),h(t,o),t.intersect=function(e){return y.rect(t,e)},n},m=e=>e?" "+e:"",x=(e,t)=>`${t||"node default"}${m(e.classes)} ${m(e.class)}`,v=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t,void 0),!0),a=r.width+t.padding,o=r.height+t.padding,s=a+o,u=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];(0,i.l).info("Question main (Circle)");let l=f(n,s,s,u);return l.attr("style",t.style),h(t,l),t.intersect=function(e){return(0,i.l).warn("Intersect called"),y.polygon(t,u,e)},n},k=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t,void 0),!0),i=r.height+t.padding,a=i/4,o=r.width+2*a+t.padding,s=[{x:a,y:0},{x:o-a,y:0},{x:o,y:-i/2},{x:o-a,y:-i},{x:a,y:-i},{x:0,y:-i/2}],u=f(n,o,i,s);return u.attr("style",t.style),h(t,u),t.intersect=function(e){return y.polygon(t,s,e)},n},w=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t,void 0),!0),i=r.width+t.padding,a=r.height+t.padding,o=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return f(n,i,a,o).attr("style",t.style),t.width=i+a,t.height=a,t.intersect=function(e){return y.polygon(t,o,e)},n},E=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t),!0),i=r.width+t.padding,a=r.height+t.padding,o=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],s=f(n,i,a,o);return s.attr("style",t.style),h(t,s),t.intersect=function(e){return y.polygon(t,o,e)},n},_=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t,void 0),!0),i=r.width+t.padding,a=r.height+t.padding,o=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],s=f(n,i,a,o);return s.attr("style",t.style),h(t,s),t.intersect=function(e){return y.polygon(t,o,e)},n},A=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t,void 0),!0),i=r.width+t.padding,a=r.height+t.padding,o=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],s=f(n,i,a,o);return s.attr("style",t.style),h(t,s),t.intersect=function(e){return y.polygon(t,o,e)},n},S=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t,void 0),!0),i=r.width+t.padding,a=r.height+t.padding,o=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],s=f(n,i,a,o);return s.attr("style",t.style),h(t,s),t.intersect=function(e){return y.polygon(t,o,e)},n},C=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t,void 0),!0),i=r.width+t.padding,a=r.height+t.padding,o=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],s=f(n,i,a,o);return s.attr("style",t.style),h(t,s),t.intersect=function(e){return y.polygon(t,o,e)},n},T=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t,void 0),!0),i=r.width+t.padding,a=i/2,o=a/(2.5+i/50),s=r.height+o+t.padding,u="M 0,"+o+" a "+a+","+o+" 0,0,0 "+i+" 0 a "+a+","+o+" 0,0,0 "+-i+" 0 l 0,"+s+" a "+a+","+o+" 0,0,0 "+i+" 0 l 0,"+-s,l=n.attr("label-offset-y",o).insert("path",":first-child").attr("style",t.style).attr("d",u).attr("transform","translate("+-i/2+","+-(s/2+o)+")");return h(t,l),t.intersect=function(e){let n=y.rect(t,e),r=n.x-t.x;if(0!=a&&(Math.abs(r)<t.width/2||Math.abs(r)==t.width/2&&Math.abs(n.y-t.y)>t.height/2-o)){let i=o*o*(1-r*r/(a*a));0!=i&&(i=Math.sqrt(i)),i=o-i,e.y-t.y>0&&(i=-i),n.y+=i}return n},n},F=async(e,t)=>{let{shapeSvg:n,bbox:r,halfPadding:a}=await d(e,t,"node "+t.classes+" "+t.class,!0),o=n.insert("rect",":first-child"),s=r.width+t.padding,u=r.height+t.padding;if(o.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",-r.width/2-a).attr("y",-r.height/2-a).attr("width",s).attr("height",u),t.props){let e=new Set(Object.keys(t.props));t.props.borders&&(B(o,t.props.borders,s,u),e.delete("borders")),e.forEach(e=>{(0,i.l).warn(`Unknown node property ${e}`)})}return h(t,o),t.intersect=function(e){return y.rect(t,e)},n},D=async(e,t)=>{let{shapeSvg:n}=await d(e,t,"label",!0);(0,i.l).trace("Classes = ",t.class);let r=n.insert("rect",":first-child");if(r.attr("width",0).attr("height",0),n.attr("class","label edgeLabel"),t.props){let e=new Set(Object.keys(t.props));t.props.borders&&(B(r,t.props.borders,0,0),e.delete("borders")),e.forEach(e=>{(0,i.l).warn(`Unknown node property ${e}`)})}return h(t,r),t.intersect=function(e){return y.rect(t,e)},n};function B(e,t,n,r){let a=[],o=e=>{a.push(e,0)},s=e=>{a.push(0,e)};t.includes("t")?((0,i.l).debug("add top border"),o(n)):s(n),t.includes("r")?((0,i.l).debug("add right border"),o(r)):s(r),t.includes("b")?((0,i.l).debug("add bottom border"),o(n)):s(n),t.includes("l")?((0,i.l).debug("add left border"),o(r)):s(r),e.attr("stroke-dasharray",a.join(" "))}let L=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t,void 0),!0),i=r.height+t.padding,a=r.width+i/4+t.padding,o=n.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return h(t,o),t.intersect=function(e){return y.rect(t,e)},n},I=async(e,t)=>{let{shapeSvg:n,bbox:r,halfPadding:a}=await d(e,t,x(t,void 0),!0),o=n.insert("circle",":first-child");return o.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",r.width/2+a).attr("width",r.width+t.padding).attr("height",r.height+t.padding),(0,i.l).info("Circle main"),h(t,o),t.intersect=function(e){return(0,i.l).info("Circle intersect",t,r.width/2+a,e),y.circle(t,r.width/2+a,e)},n},N=async(e,t)=>{let{shapeSvg:n,bbox:r,halfPadding:a}=await d(e,t,x(t,void 0),!0),o=n.insert("g",":first-child"),s=o.insert("circle"),u=o.insert("circle");return o.attr("class",t.class),s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",r.width/2+a+5).attr("width",r.width+t.padding+10).attr("height",r.height+t.padding+10),u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",r.width/2+a).attr("width",r.width+t.padding).attr("height",r.height+t.padding),(0,i.l).info("DoubleCircle main"),h(t,s),t.intersect=function(e){return(0,i.l).info("DoubleCircle intersect",t,r.width/2+a+5,e),y.circle(t,r.width/2+a+5,e)},n},O=async(e,t)=>{let{shapeSvg:n,bbox:r}=await d(e,t,x(t,void 0),!0),i=r.width+t.padding,a=r.height+t.padding,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],s=f(n,i,a,o);return s.attr("style",t.style),h(t,s),t.intersect=function(e){return y.polygon(t,o,e)},n},M=(e,t,n)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=70,a=10;"LR"===n&&(i=10,a=70);let o=r.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return h(t,o),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(e){return y.rect(t,e)},r},j={rhombus:v,question:v,rect:F,labelRect:D,rectWithTitle:(e,t)=>{let n;n=t.classes?"node "+t.classes:"node default";let r=e.insert("g").attr("class",n).attr("id",t.domId||t.id),a=r.insert("rect",":first-child"),o=r.insert("line"),s=r.insert("g").attr("class","label"),u=t.labelText.flat?t.labelText.flat():t.labelText,l="";l="object"==typeof u?u[0]:u,(0,i.l).info("Label text abc79",l,u,"object"==typeof u);let d=s.node().appendChild(c(l,t.labelStyle,!0,!0)),f={width:0,height:0};if((0,i.q)((0,i.c)().flowchart.htmlLabels)){let e=d.children[0],t=(0,i.j)(d);f=e.getBoundingClientRect(),t.attr("width",f.width),t.attr("height",f.height)}(0,i.l).info("Text 2",u);let p=u.slice(1,u.length),g=d.getBBox(),b=s.node().appendChild(c(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if((0,i.q)((0,i.c)().flowchart.htmlLabels)){let e=b.children[0],t=(0,i.j)(b);f=e.getBoundingClientRect(),t.attr("width",f.width),t.attr("height",f.height)}let m=t.padding/2;return(0,i.j)(b).attr("transform","translate( "+(f.width>g.width?0:(g.width-f.width)/2)+", "+(g.height+m+5)+")"),(0,i.j)(d).attr("transform","translate( "+(f.width<g.width?0:-(g.width-f.width)/2)+", 0)"),f=s.node().getBBox(),s.attr("transform","translate("+-f.width/2+", "+(-f.height/2-m+3)+")"),a.attr("class","outer title-state").attr("x",-f.width/2-m).attr("y",-f.height/2-m).attr("width",f.width+t.padding).attr("height",f.height+t.padding),o.attr("class","divider").attr("x1",-f.width/2-m).attr("x2",f.width/2+m).attr("y1",-f.height/2-m+g.height+m).attr("y2",-f.height/2-m+g.height+m),h(t,a),t.intersect=function(e){return y.rect(t,e)},r},choice:(e,t)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);return n.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map(function(e){return e.x+","+e.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(e){return y.circle(t,14,e)},n},circle:I,doublecircle:N,stadium:L,hexagon:k,rect_left_inv_arrow:w,lean_right:E,lean_left:_,trapezoid:A,inv_trapezoid:S,rect_right_inv_arrow:C,cylinder:T,start:(e,t)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),h(t,r),t.intersect=function(e){return y.circle(t,7,e)},n},end:(e,t)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),r=n.insert("circle",":first-child"),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),h(t,i),t.intersect=function(e){return y.circle(t,7,e)},n},note:b,subroutine:O,fork:M,join:M,class_box:(e,t)=>{let n;let r=t.padding/2;n=t.classes?"node "+t.classes:"node default";let a=e.insert("g").attr("class",n).attr("id",t.domId||t.id),s=a.insert("rect",":first-child"),u=a.insert("line"),l=a.insert("line"),d=0,f=4,p=a.insert("g").attr("class","label"),g=0,b=t.classData.annotations&&t.classData.annotations[0],m=t.classData.annotations[0]?"\xab"+t.classData.annotations[0]+"\xbb":"",x=p.node().appendChild(c(m,t.labelStyle,!0,!0)),v=x.getBBox();if((0,i.q)((0,i.c)().flowchart.htmlLabels)){let e=x.children[0],t=(0,i.j)(x);v=e.getBoundingClientRect(),t.attr("width",v.width),t.attr("height",v.height)}t.classData.annotations[0]&&(f+=v.height+4,d+=v.width);let k=t.classData.label;void 0!==t.classData.type&&""!==t.classData.type&&((0,i.c)().flowchart.htmlLabels?k+="&lt;"+t.classData.type+"&gt;":k+="<"+t.classData.type+">");let w=p.node().appendChild(c(k,t.labelStyle,!0,!0));(0,i.j)(w).attr("class","classTitle");let E=w.getBBox();if((0,i.q)((0,i.c)().flowchart.htmlLabels)){let e=w.children[0],t=(0,i.j)(w);E=e.getBoundingClientRect(),t.attr("width",E.width),t.attr("height",E.height)}f+=E.height+4,E.width>d&&(d=E.width);let _=[];t.classData.members.forEach(e=>{let n=(0,o.p)(e),r=n.displayText;(0,i.c)().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let a=p.node().appendChild(c(r,n.cssStyle?n.cssStyle:t.labelStyle,!0,!0)),s=a.getBBox();if((0,i.q)((0,i.c)().flowchart.htmlLabels)){let e=a.children[0],t=(0,i.j)(a);s=e.getBoundingClientRect(),t.attr("width",s.width),t.attr("height",s.height)}s.width>d&&(d=s.width),f+=s.height+4,_.push(a)}),f+=8;let A=[];if(t.classData.methods.forEach(e=>{let n=(0,o.p)(e),r=n.displayText;(0,i.c)().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let a=p.node().appendChild(c(r,n.cssStyle?n.cssStyle:t.labelStyle,!0,!0)),s=a.getBBox();if((0,i.q)((0,i.c)().flowchart.htmlLabels)){let e=a.children[0],t=(0,i.j)(a);s=e.getBoundingClientRect(),t.attr("width",s.width),t.attr("height",s.height)}s.width>d&&(d=s.width),f+=s.height+4,A.push(a)}),f+=8,b){let e=(d-v.width)/2;(0,i.j)(x).attr("transform","translate( "+(-1*d/2+e)+", "+-1*f/2+")"),g=v.height+4}let S=(d-E.width)/2;return(0,i.j)(w).attr("transform","translate( "+(-1*d/2+S)+", "+(-1*f/2+g)+")"),g+=E.height+4,u.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-f/2-r+8+g).attr("y2",-f/2-r+8+g),g+=8,_.forEach(e=>{var t;(0,i.j)(e).attr("transform","translate( "+-d/2+", "+(-1*f/2+g+4)+")");let n=null==e?void 0:e.getBBox();g+=(null!==(t=null==n?void 0:n.height)&&void 0!==t?t:0)+4}),g+=8,l.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-f/2-r+8+g).attr("y2",-f/2-r+8+g),g+=8,A.forEach(e=>{var t;(0,i.j)(e).attr("transform","translate( "+-d/2+", "+(-1*f/2+g)+")");let n=null==e?void 0:e.getBBox();g+=(null!==(t=null==n?void 0:n.height)&&void 0!==t?t:0)+4}),s.attr("class","outer title-state").attr("x",-d/2-r).attr("y",-(f/2)-r).attr("width",d+t.padding).attr("height",f+t.padding),h(t,s),t.intersect=function(e){return y.rect(t,e)},a}},R={},P=async(e,t,n)=>{let r,a;if(t.link){let o;"sandbox"===(0,i.c)().securityLevel?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),r=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o),a=await j[t.shape](r,t,n)}else r=a=await j[t.shape](e,t,n);return t.tooltip&&a.attr("title",t.tooltip),t.class&&a.attr("class","node default "+t.class),R[t.id]=r,t.haveCallback&&R[t.id].attr("class",R[t.id].attr("class")+" clickable"),r},$=(e,t)=>{R[t.id]=e},z=()=>{R={}},H=e=>{let t=R[e.id];(0,i.l).trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-8)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},V={},q={},G=()=>{V={},q={}},U=(e,t)=>{let n;let r=(0,i.q)((0,i.c)().flowchart.htmlLabels),o="markdown"===t.labelType?(0,a.c)(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0}):c(t.label,t.labelStyle);(0,i.l).info("abc82",t,t.labelType);let s=e.insert("g").attr("class","edgeLabel"),u=s.insert("g").attr("class","label");u.node().appendChild(o);let l=o.getBBox();if(r){let e=o.children[0],t=(0,i.j)(o);l=e.getBoundingClientRect(),t.attr("width",l.width),t.attr("height",l.height)}if(u.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),V[t.id]=s,t.width=l.width,t.height=l.height,t.startLabelLeft){let r=c(t.startLabelLeft,t.labelStyle),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");n=a.node().appendChild(r);let o=r.getBBox();a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),q[t.id]||(q[t.id]={}),q[t.id].startLeft=i,X(n,t.startLabelLeft)}if(t.startLabelRight){let r=c(t.startLabelRight,t.labelStyle),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");n=i.node().appendChild(r),a.node().appendChild(r);let o=r.getBBox();a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),q[t.id]||(q[t.id]={}),q[t.id].startRight=i,X(n,t.startLabelRight)}if(t.endLabelLeft){let r=c(t.endLabelLeft,t.labelStyle),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");n=a.node().appendChild(r);let o=r.getBBox();a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.node().appendChild(r),q[t.id]||(q[t.id]={}),q[t.id].endLeft=i,X(n,t.endLabelLeft)}if(t.endLabelRight){let r=c(t.endLabelRight,t.labelStyle),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");n=a.node().appendChild(r);let o=r.getBBox();a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.node().appendChild(r),q[t.id]||(q[t.id]={}),q[t.id].endRight=i,X(n,t.endLabelRight)}return o};function X(e,t){(0,i.c)().flowchart.htmlLabels&&e&&(e.style.width=9*t.length+"px",e.style.height="12px")}let Y=(e,t)=>{(0,i.l).info("Moving label abc78 ",e.id,e.label,V[e.id]);let n=t.updatedPath?t.updatedPath:t.originalPath;if(e.label){let r=V[e.id],a=e.x,o=e.y;if(n){let r=(0,i.A).calcLabelPosition(n);(0,i.l).info("Moving label "+e.label+" from (",a,",",o,") to (",r.x,",",r.y,") abc78"),t.updatedPath&&(a=r.x,o=r.y)}r.attr("transform","translate("+a+", "+o+")")}if(e.startLabelLeft){let t=q[e.id].startLeft,r=e.x,a=e.y;if(n){let t=(0,i.A).calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);r=t.x,a=t.y}t.attr("transform","translate("+r+", "+a+")")}if(e.startLabelRight){let t=q[e.id].startRight,r=e.x,a=e.y;if(n){let t=(0,i.A).calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);r=t.x,a=t.y}t.attr("transform","translate("+r+", "+a+")")}if(e.endLabelLeft){let t=q[e.id].endLeft,r=e.x,a=e.y;if(n){let t=(0,i.A).calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);r=t.x,a=t.y}t.attr("transform","translate("+r+", "+a+")")}if(e.endLabelRight){let t=q[e.id].endRight,r=e.x,a=e.y;if(n){let t=(0,i.A).calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);r=t.x,a=t.y}t.attr("transform","translate("+r+", "+a+")")}},W=(e,t)=>{let n=e.x,r=e.y,i=Math.abs(t.x-n),a=Math.abs(t.y-r),o=e.width/2,s=e.height/2;return i>=o||a>=s},K=(e,t,n)=>{(0,i.l).warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let r=e.x,a=e.y,o=Math.abs(r-n.x),s=e.width/2,u=n.x<t.x?s-o:s+o,l=e.height/2,c=Math.abs(t.y-n.y),d=Math.abs(t.x-n.x);if(Math.abs(a-t.y)*s>Math.abs(r-t.x)*l){let e=n.y<t.y?t.y-l-a:a-l-t.y;u=d*e/c;let r={x:n.x<t.x?n.x+u:n.x-d+u,y:n.y<t.y?n.y+c-e:n.y-c+e};return 0===u&&(r.x=t.x,r.y=t.y),0===d&&(r.x=t.x),0===c&&(r.y=t.y),(0,i.l).warn(`abc89 topp/bott calc, Q ${c}, q ${e}, R ${d}, r ${u}`,r),r}{let e=c*(u=n.x<t.x?t.x-s-r:r-s-t.x)/d,a=n.x<t.x?n.x+d-u:n.x-d+u,o=n.y<t.y?n.y+e:n.y-e;return(0,i.l).warn(`sides calc abc89, Q ${c}, q ${e}, R ${d}, r ${u}`,{_x:a,_y:o}),0===u&&(a=t.x,o=t.y),0===d&&(a=t.x),0===c&&(o=t.y),{x:a,y:o}}},Q=(e,t)=>{(0,i.l).warn("abc88 cutPathAtIntersect",e,t);let n=[],r=e[0],a=!1;return e.forEach(e=>{if((0,i.l).info("abc88 checking point",e,t),W(t,e)||a)(0,i.l).warn("abc88 outside",e,r),r=e,a||n.push(e);else{let o=K(t,r,e);(0,i.l).warn("abc88 inside",e,r,o),(0,i.l).warn("abc88 intersection",o);let s=!1;n.forEach(e=>{s=s||e.x===o.x&&e.y===o.y}),n.some(e=>e.x===o.x&&e.y===o.y)?(0,i.l).warn("abc88 no intersect",o,n):n.push(o),a=!0}}),(0,i.l).warn("abc88 returning points",n),n},J=function(e,t,n,r,a,o){let u,l,c=n.points,d=!1,h=o.node(t.v);var f=o.node(t.w);(0,i.l).info("abc88 InsertEdge: ",n),f.intersect&&h.intersect&&((c=c.slice(1,n.points.length-1)).unshift(h.intersect(c[0])),(0,i.l).info("Last point",c[c.length-1],f,f.intersect(c[c.length-1])),c.push(f.intersect(c[c.length-1]))),n.toCluster&&((0,i.l).info("to cluster abc88",r[n.toCluster]),c=Q(n.points,r[n.toCluster].node),d=!0),n.fromCluster&&((0,i.l).info("from cluster abc88",r[n.fromCluster]),c=Q(c.reverse(),r[n.fromCluster].node).reverse(),d=!0);let p=c.filter(e=>!Number.isNaN(e.y));u=("graph"===a||"flowchart"===a)&&n.curve||i.G;let g=(0,s.l)().x(function(e){return e.x}).y(function(e){return e.y}).curve(u);switch(n.thickness){case"normal":l="edge-thickness-normal";break;case"thick":case"invisible":l="edge-thickness-thick";break;default:l=""}switch(n.pattern){case"solid":l+=" edge-pattern-solid";break;case"dotted":l+=" edge-pattern-dotted";break;case"dashed":l+=" edge-pattern-dashed"}let y=e.append("path").attr("d",g(p)).attr("id",n.id).attr("class"," "+l+(n.classes?" "+n.classes:"")).attr("style",n.style),b="";switch(((0,i.c)().flowchart.arrowMarkerAbsolute||(0,i.c)().state.arrowMarkerAbsolute)&&(b=(b=(b=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),(0,i.l).info("arrowTypeStart",n.arrowTypeStart),(0,i.l).info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":y.attr("marker-start","url("+b+"#"+a+"-crossStart)");break;case"arrow_point":y.attr("marker-start","url("+b+"#"+a+"-pointStart)");break;case"arrow_barb":y.attr("marker-start","url("+b+"#"+a+"-barbStart)");break;case"arrow_circle":y.attr("marker-start","url("+b+"#"+a+"-circleStart)");break;case"aggregation":y.attr("marker-start","url("+b+"#"+a+"-aggregationStart)");break;case"extension":y.attr("marker-start","url("+b+"#"+a+"-extensionStart)");break;case"composition":y.attr("marker-start","url("+b+"#"+a+"-compositionStart)");break;case"dependency":y.attr("marker-start","url("+b+"#"+a+"-dependencyStart)");break;case"lollipop":y.attr("marker-start","url("+b+"#"+a+"-lollipopStart)")}switch(n.arrowTypeEnd){case"arrow_cross":y.attr("marker-end","url("+b+"#"+a+"-crossEnd)");break;case"arrow_point":y.attr("marker-end","url("+b+"#"+a+"-pointEnd)");break;case"arrow_barb":y.attr("marker-end","url("+b+"#"+a+"-barbEnd)");break;case"arrow_circle":y.attr("marker-end","url("+b+"#"+a+"-circleEnd)");break;case"aggregation":y.attr("marker-end","url("+b+"#"+a+"-aggregationEnd)");break;case"extension":y.attr("marker-end","url("+b+"#"+a+"-extensionEnd)");break;case"composition":y.attr("marker-end","url("+b+"#"+a+"-compositionEnd)");break;case"dependency":y.attr("marker-end","url("+b+"#"+a+"-dependencyEnd)");break;case"lollipop":y.attr("marker-end","url("+b+"#"+a+"-lollipopEnd)")}let m={};return d&&(m.updatedPath=c),m.originalPath=n.points,m}}),t.register("6N8n7",function(n,r){e(n.exports,"c",function(){return eL});var i=t("2O8Km");function a(e,t){return e&&"object"==typeof e&&(e.value||(t?e.alt:"")||"children"in e&&o(e.children,t)||Array.isArray(e)&&o(e,t))||""}function o(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=a(e[r],t);return n.join("")}function s(e,t,n,r){let i=e.length,a=0,o;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)(o=Array.from(r)).unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);a<r.length;)(o=r.slice(a,a+1e4)).unshift(t,0),[].splice.apply(e,o),a+=1e4,t+=1e4}function u(e,t){return e.length>0?(s(e,e.length,0,t),e):t}let l={}.hasOwnProperty,c=w(/[A-Za-z]/),d=w(/\d/),h=w(/[\dA-Fa-f]/),f=w(/[\dA-Za-z]/),p=w(/[!-/:-@[-`{-~]/),g=w(/[#-'*+\--9=?A-Z^-~]/);function y(e){return null!==e&&(e<32||127===e)}function b(e){return null!==e&&(e<0||32===e)}function m(e){return null!==e&&e<-2}function x(e){return -2===e||-1===e||32===e}let v=w(/\s/),k=w(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function w(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function E(e,t,n,r){let i=r?r-1:Number.POSITIVE_INFINITY,a=0;return function(r){return x(r)?(e.enter(n),function r(o){return x(o)&&a++<i?(e.consume(o),r):(e.exit(n),t(o))}(r)):t(r)}}let _={tokenize:function(e){let t;let n=e.attempt(this.parser.constructs.contentInitial,function(t){if(null===t){e.consume(t);return}return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),E(e,n,"linePrefix")},function(n){return e.enter("paragraph"),function n(r){let i=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=i),t=i,function t(r){if(null===r){e.exit("chunkText"),e.exit("paragraph"),e.consume(r);return}return m(r)?(e.consume(r),e.exit("chunkText"),n):(e.consume(r),t)}(r)}(n)});return n}},A={tokenize:function(e){let t=this,n=[],r=0,i,a,o;return u;function u(i){if(r<n.length){let a=n[r];return t.containerState=a[1],e.attempt(a[0].continuation,l,c)(i)}return c(i)}function l(e){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();let n=t.events.length,a=n,o;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){o=t.events[a][1].end;break}b(r);let u=n;for(;u<t.events.length;)t.events[u][1].end=Object.assign({},o),u++;return s(t.events,a+1,0,t.events.slice(n)),t.events.length=u,c(e)}return u(e)}function c(a){if(r===n.length){if(!i)return f(a);if(i.currentConstruct&&i.currentConstruct.concrete)return g(a);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(S,d,h)(a)}function d(e){return i&&x(),b(r),f(e)}function h(e){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(e)}function f(n){return t.containerState={},e.attempt(S,p,g)(n)}function p(e){return r++,n.push([t.currentConstruct,t.containerState]),f(e)}function g(n){if(null===n){i&&x(),b(0),e.consume(n);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),function n(i){if(null===i){y(e.exit("chunkFlow"),!0),b(0),e.consume(i);return}return m(i)?(e.consume(i),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(i),n)}(n)}function y(e,n){let u=t.sliceStream(e);if(n&&u.push(null),e.previous=a,a&&(a.next=e),a=e,i.defineSkip(e.start),i.write(u),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<o&&(!i.events[e][1].end||i.events[e][1].end.offset>o))return;let n=t.events.length,a=n,u,l;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){if(u){l=t.events[a][1].end;break}u=!0}for(b(r),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},l),e++;s(t.events,a+1,0,t.events.slice(n)),t.events.length=e}}function b(r){let i=n.length;for(;i-- >r;){let r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function x(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}},S={tokenize:function(e,t,n){return E(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function C(e){return null===e||b(e)||v(e)?1:k(e)?2:void 0}function T(e,t,n){let r=[],i=-1;for(;++i<e.length;){let a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}let F={name:"attention",tokenize:function(e,t){let n;let r=this.parser.constructs.attentionMarkers.null,i=this.previous,a=C(i);return function(o){return e.enter("attentionSequence"),n=o,function o(s){if(s===n)return e.consume(s),o;let u=e.exit("attentionSequence"),l=C(s),c=!l||2===l&&a||r.includes(s),d=!a||2===a&&l||r.includes(i);return u._open=!!(42===n?c:c&&(a||!d)),u._close=!!(42===n?d:d&&(l||!c)),t(s)}(o)}},resolveAll:function(e,t){let n=-1,r,i,a,o,l,c,d,h;for(;++n<e.length;)if("enter"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._close){for(r=n;r--;)if("exit"===e[r][0]&&"attentionSequence"===e[r][1].type&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;let f=Object.assign({},e[r][1].end),p=Object.assign({},e[n][1].start);D(f,-c),D(p,c),o={type:c>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},l={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:p},a={type:c>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:c>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},l.end),d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=u(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=u(d,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),d=u(d,T(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=u(d,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,d=u(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,s(e,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<e.length;)"attentionSequence"===e[n][1].type&&(e[n][1].type="data");return e}};function D(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}let B={tokenize:function(e,t,n){return E(e,function(e){return null===e||m(e)?t(e):n(e)},"linePrefix")},partial:!0},L={name:"blockQuote",tokenize:function(e,t,n){let r=this;return function(t){if(62===t){let n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return x(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){return E(e,e.attempt(L,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(e){e.exit("blockQuote")}},I={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return p(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}},N=document.createElement("i");function O(e){let t="&"+e+";";N.innerHTML=t;let n=N.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}let M={name:"characterReference",tokenize:function(e,t,n){let r=this,i=0,a,o;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=f,l(t))}function u(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=h,l):(e.enter("characterReferenceValue"),a=7,o=d,l(t))}function l(s){let u;return 59===s&&i?(u=e.exit("characterReferenceValue"),o!==f||O(r.sliceSerialize(u))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)):o(s)&&i++<a?(e.consume(s),l):n(s)}}},j={name:"codeFenced",tokenize:function(e,t,n){let r=this,i={tokenize:function(e,t,n){let r=0;return E(e,function(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),function t(a){return a===l?(e.consume(a),r++,t):r<u?n(a):(e.exit("codeFencedFenceSequence"),E(e,i,"whitespace")(a))}(t)},"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function i(r){return null===r||m(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0},a={tokenize:function(e,t,n){let r=this;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},o=this.events[this.events.length-1],s=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],!0).length:0,u=0,l;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=t,function t(r){return r===l?(e.consume(r),u++,t):(e.exit("codeFencedFenceSequence"),u<3?n(r):E(e,c,"whitespace")(r))}(t)};function c(t){return null===t||m(t)?h(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),function t(r){return null===r||b(r)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),E(e,d,"whitespace")(r)):96===r&&r===l?n(r):(e.consume(r),t)}(t))}function d(t){return null===t||m(t)?h(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),function t(r){return null===r||m(r)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(r)):96===r&&r===l?n(r):(e.consume(r),t)}(t))}function h(n){return e.exit("codeFencedFence"),r.interrupt?t(n):function t(n){return null===n?f(n):m(n)?e.attempt(a,e.attempt(i,f,s?E(e,t,"linePrefix",s+1):t),f)(n):(e.enter("codeFlowValue"),function n(r){return null===r||m(r)?(e.exit("codeFlowValue"),t(r)):(e.consume(r),n)}(n))}(n)}function f(n){return e.exit("codeFenced"),t(n)}},concrete:!0},R={name:"codeIndented",tokenize:function(e,t,n){let r=this;return function(t){return e.enter("codeIndented"),E(e,i,"linePrefix",5)(t)};function i(t){let i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?function t(n){return null===n?a(n):m(n)?e.attempt(P,t,a)(n):(e.enter("codeFlowValue"),function n(r){return null===r||m(r)?(e.exit("codeFlowValue"),t(r)):(e.consume(r),n)}(n))}(t):n(t)}function a(n){return e.exit("codeIndented"),t(n)}}},P={tokenize:function(e,t,n){let r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):m(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):E(e,a,"linePrefix",5)(t)}function a(e){let a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):m(e)?i(e):n(e)}},partial:!0};function $(e){let t={},n=-1,r,i,a,o,u,l,c;for(;++n<e.length;){for(;(n in t);)n=t[n];if(r=e[n],n&&"chunkFlow"===r[1].type&&"listItemPrefix"===e[n-1][1].type&&((a=0)<(l=r[1]._tokenizer.events).length&&"lineEndingBlank"===l[a][1].type&&(a+=2),a<l.length&&"content"===l[a][1].type))for(;++a<l.length&&"content"!==l[a][1].type;)"chunkText"===l[a][1].type&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if("enter"===r[0])r[1].contentType&&(Object.assign(t,function(e,t){let n=e[t][1],r=e[t][2],i=t-1,a=[],o=n._tokenizer||r.parser[n.contentType](n.start),u=o.events,l=[],c={},d,h,f=-1,p=n,g=0,y=0,b=[y];for(;p;){for(;e[++i][1]!==p;);a.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),h&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<u.length;)"exit"===u[f][0]&&"enter"===u[f-1][0]&&u[f][1].type===u[f-1][1].type&&u[f][1].start.line!==u[f][1].end.line&&(y=f+1,b.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),f=b.length;f--;){let t=u.slice(b[f],b[f+1]),n=a.pop();l.unshift([n,n+t.length-1]),s(e,n,2,t)}for(f=-1;++f<l.length;)c[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return c}(e,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&("lineEnding"===(o=e[a])[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),(u=e.slice(i,n)).unshift(r),s(e,i,n-i+1,u))}}return!c}let z={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):m(t)?e.check(H,a,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return $(e),e}},H={tokenize:function(e,t,n){let r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),E(e,i,"linePrefix")};function i(i){if(null===i||m(i))return n(i);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};function V(e,t,n,r,i,a,o,s,u){let l=u||Number.POSITIVE_INFINITY,c=0;return function(t){return 60===t?(e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),d):null===t||41===t||y(t)?n(t):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),p(t))};function d(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(s),d(t)):null===t||60===t||m(t)?n(t):(e.consume(t),92===t?f:h)}function f(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function p(i){return 40===i?++c>l?n(i):(e.consume(i),p):41===i?c--?(e.consume(i),p):(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(i)):null===i||b(i)?c?n(i):(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(i)):y(i)?n(i):(e.consume(i),92===i?g:p)}function g(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function q(e,t,n,r,i,a){let o=this,s=0,u;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),l};function l(d){return null===d||91===d||93===d&&!u||94===d&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs||s>999?n(d):93===d?(e.exit(a),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):m(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||m(t)||s++>999?(e.exit("chunkString"),l(t)):(e.consume(t),u=u||!x(t),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),s++,c):c(t)}}function G(e,t,n,r,i,a){let o;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),o=40===t?41:t,s};function s(n){return n===o?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),u(n))}function u(t){return t===o?(e.exit(a),s(o)):null===t?n(t):m(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),E(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(t))}function l(t){return t===o||null===t||m(t)?(e.exit("chunkString"),u(t)):(e.consume(t),92===t?c:l)}function c(t){return t===o||92===t?(e.consume(t),l):l(t)}}function U(e,t){let n;return function r(i){return m(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):x(i)?E(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function X(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let Y={tokenize:function(e,t,n){return function(t){return b(t)?U(e,r)(t):n(t)};function r(t){return 34===t||39===t||40===t?G(e,E(e,i,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):n(t)}function i(e){return null===e||m(e)?t(e):n(e)}},partial:!0},W=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],K=["pre","script","style","textarea"],Q={tokenize:function(e,t,n){return function(r){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),e.attempt(B,t,n)}},partial:!0},J={name:"labelEnd",tokenize:function(e,t,n){let r=this,i=r.events.length,a,o;for(;i--;)if(("labelImage"===r.events[i][1].type||"labelLink"===r.events[i][1].type)&&!r.events[i][1]._balanced){a=r.events[i][1];break}return function(t){return a?a._inactive?u(t):(o=r.parser.defined.includes(X(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s):n(t)};function s(n){return 40===n?e.attempt(Z,t,o?t:u)(n):91===n?e.attempt(ee,t,o?e.attempt(et,t,u):u)(n):o?t(n):u(n)}function u(e){return a._balanced=!0,n(e)}},resolveTo:function(e,t){let n=e.length,r=0,i,a,o,l;for(;n--;)if(i=e[n][1],a){if("link"===i.type||"labelLink"===i.type&&i._inactive)break;"enter"===e[n][0]&&"labelLink"===i.type&&(i._inactive=!0)}else if(o){if("enter"===e[n][0]&&("labelImage"===i.type||"labelLink"===i.type)&&!i._balanced&&(a=n,"labelLink"!==i.type)){r=2;break}}else"labelEnd"===i.type&&(o=n);let c={type:"labelLink"===e[a][1].type?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[o][1].end)},h={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return l=u(l=[["enter",c,t],["enter",d,t]],e.slice(a+1,a+r+3)),l=u(l,[["enter",h,t]]),l=u(l,T(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),l=u(l,[["exit",h,t],e[o-2],e[o-1],["exit",d,t]]),l=u(l,e.slice(o+1)),l=u(l,[["exit",c,t]]),s(e,a,e.length,l),e},resolveAll:function(e){let t=-1,n;for(;++t<e.length;)("labelImage"===(n=e[t][1]).type||"labelLink"===n.type||"labelEnd"===n.type)&&(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++);return e}},Z={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),U(e,r)};function r(t){return 41===t?o(t):V(e,i,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return b(t)?U(e,a)(t):o(t)}function a(t){return 34===t||39===t||40===t?G(e,U(e,o),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):o(t)}function o(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},ee={tokenize:function(e,t,n){let r=this;return function(t){return q.call(r,e,i,n,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(X(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}}},et={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}},en={name:"labelStartImage",tokenize:function(e,t,n){let r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:J.resolveAll},er={name:"labelStartLink",tokenize:function(e,t,n){let r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:J.resolveAll},ei={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),E(e,t,"linePrefix")}}},ea={name:"thematicBreak",tokenize:function(e,t,n){let r=0,i;return function(a){return e.enter("thematicBreak"),i=a,function a(o){return o===i?(e.enter("thematicBreakSequence"),function t(n){return n===i?(e.consume(n),r++,t):(e.exit("thematicBreakSequence"),a(n))}(o)):x(o)?E(e,a,"whitespace")(o):r<3||null!==o&&!m(o)?n(o):(e.exit("thematicBreak"),t(o))}(a)}}},eo={name:"list",tokenize:function(e,t,n){let r=this,i=r.events[r.events.length-1],a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,o=0;return function(t){let i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:d(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(ea,n,s)(t):s(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),function t(i){return d(i)&&++o<10?(e.consume(i),t):(!r.interrupt||o<2)&&(r.containerState.marker?i===r.containerState.marker:41===i||46===i)?(e.exit("listItemValue"),s(i)):n(i)}(t)}return n(t)};function s(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(B,r.interrupt?n:u,e.attempt(es,c,l))}function u(e){return r.containerState.initialBlankLine=!0,a++,c(e)}function l(t){return x(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),c):n(t)}function c(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){let r=this;return r.containerState._closeFlow=void 0,e.check(B,function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,E(e,t,"listItemIndent",r.containerState.size+1)(n)},function(n){return r.containerState.furtherBlankLines||!x(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(eu,t,i)(n))});function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,E(e,e.attempt(eo,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},es={tokenize:function(e,t,n){let r=this;return E(e,function(e){let i=r.events[r.events.length-1];return!x(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},eu={tokenize:function(e,t,n){let r=this;return E(e,function(e){let i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)},partial:!0},el={name:"setextUnderline",tokenize:function(e,t,n){let r=this,i=r.events.length,a,o;for(;i--;)if("lineEnding"!==r.events[i][1].type&&"linePrefix"!==r.events[i][1].type&&"content"!==r.events[i][1].type){o="paragraph"===r.events[i][1].type;break}return function(t){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),a=t,function t(n){return n===a?(e.consume(n),t):(e.exit("setextHeadingLineSequence"),E(e,s,"lineSuffix")(n))}(t)):n(t)};function s(r){return null===r||m(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n=e.length,r,i,a;for(;n--;)if("enter"===e[n][0]){if("content"===e[n][1].type){r=n;break}"paragraph"===e[n][1].type&&(i=n)}else"content"===e[n][1].type&&e.splice(n,1),a||"definition"!==e[n][1].type||(a=n);let o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}},ec={tokenize:function(e){let t=this,n=e.attempt(B,function(r){if(null===r){e.consume(r);return}return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,E(e,e.attempt(this.parser.constructs.flow,r,e.attempt(z,r)),"linePrefix")));return n;function r(r){if(null===r){e.consume(r);return}return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n}}},ed={resolveAll:eg()},eh=ep("string"),ef=ep("text");function ep(e){return{tokenize:function(t){let n=this,r=this.parser.constructs[e],i=t.attempt(r,a,o);return a;function a(e){return u(e)?i(e):o(e)}function o(e){if(null===e){t.consume(e);return}return t.enter("data"),t.consume(e),s}function s(e){return u(e)?(t.exit("data"),i(e)):(t.consume(e),s)}function u(e){if(null===e)return!0;let t=r[e],i=-1;if(t)for(;++i<t.length;){let e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:eg("text"===e?ey:void 0)}}function eg(e){return function(t,n){let r=-1,i;for(;++r<=t.length;)void 0===i?t[r]&&"data"===t[r][1].type&&(i=r,r++):t[r]&&"data"===t[r][1].type||(r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),r=i+2),i=void 0);return e?e(t,n):t}}function ey(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){let r=e[n-1][1],i=t.sliceStream(r),a=i.length,o=-1,s=0,u;for(;a--;){let e=i[a];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)s++,o--;if(o)break;o=-1}else if(-2===e)u=!0,s++;else if(-1!==e){a++;break}}if(s){let i={type:n===e.length||u||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},i.start),r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}let eb=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:{91:{name:"definition",tokenize:function(e,t,n){let r;let i=this;return function(t){return e.enter("definition"),q.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function a(t){return r=X(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),U(e,V(e,e.attempt(Y,E(e,o,"whitespace"),E(e,o,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(t)}function o(a){return null===a||m(a)?(e.exit("definition"),i.parser.defined.includes(r)||i.parser.defined.push(r),t(a)):n(a)}}}},disable:{null:[]},document:{42:eo,43:eo,45:eo,48:eo,49:eo,50:eo,51:eo,52:eo,53:eo,54:eo,55:eo,56:eo,57:eo,62:L},flow:{35:{name:"headingAtx",tokenize:function(e,t,n){let r=this,i=0;return function(a){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),function a(o){return 35===o&&i++<6?(e.consume(o),a):null===o||b(o)?(e.exit("atxHeadingSequence"),r.interrupt?t(o):function n(r){return 35===r?(e.enter("atxHeadingSequence"),function t(r){return 35===r?(e.consume(r),t):(e.exit("atxHeadingSequence"),n(r))}(r)):null===r||m(r)?(e.exit("atxHeading"),t(r)):x(r)?E(e,n,"whitespace")(r):(e.enter("atxHeadingText"),function t(r){return null===r||35===r||b(r)?(e.exit("atxHeadingText"),n(r)):(e.consume(r),t)}(r))}(o)):n(o)}(a)}},resolve:function(e,t){let n=e.length-2,r=3,i,a;return"whitespace"===e[3][1].type&&(r+=2),n-2>r&&"whitespace"===e[n][1].type&&(n-=2),"atxHeadingSequence"===e[n][1].type&&(r===n-1||n-4>r&&"whitespace"===e[n-2][1].type)&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},s(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}},42:ea,45:[el,ea],60:{name:"htmlFlow",tokenize:function(e,t,n){let r,i,a,o,s;let u=this;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),l};function l(o){return 33===o?(e.consume(o),d):47===o?(e.consume(o),g):63===o?(e.consume(o),r=3,u.interrupt?t:M):c(o)?(e.consume(o),a=String.fromCharCode(o),i=!0,y):n(o)}function d(i){return 45===i?(e.consume(i),r=2,h):91===i?(e.consume(i),r=5,a="CDATA[",o=0,p):c(i)?(e.consume(i),r=4,u.interrupt?t:M):n(i)}function h(r){return 45===r?(e.consume(r),u.interrupt?t:M):n(r)}function p(r){return r===a.charCodeAt(o++)?(e.consume(r),o===a.length?u.interrupt?t:F:p):n(r)}function g(t){return c(t)?(e.consume(t),a=String.fromCharCode(t),y):n(t)}function y(o){return null===o||47===o||62===o||b(o)?47!==o&&i&&K.includes(a.toLowerCase())?(r=1,u.interrupt?t(o):F(o)):W.includes(a.toLowerCase())?(r=6,47===o?(e.consume(o),v):u.interrupt?t(o):F(o)):(r=7,u.interrupt&&!u.parser.lazy[u.now().line]?n(o):i?k(o):function t(n){return x(n)?(e.consume(n),t):C(n)}(o)):45===o||f(o)?(e.consume(o),a+=String.fromCharCode(o),y):n(o)}function v(r){return 62===r?(e.consume(r),u.interrupt?t:F):n(r)}function k(t){return 47===t?(e.consume(t),C):58===t||95===t||c(t)?(e.consume(t),w):x(t)?(e.consume(t),k):C(t)}function w(t){return 45===t||46===t||58===t||95===t||f(t)?(e.consume(t),w):E(t)}function E(t){return 61===t?(e.consume(t),_):x(t)?(e.consume(t),E):k(t)}function _(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,A):x(t)?(e.consume(t),_):(s=null,function t(n){return null===n||34===n||39===n||60===n||61===n||62===n||96===n||b(n)?E(n):(e.consume(n),t)}(t))}function A(t){return null===t||m(t)?n(t):t===s?(e.consume(t),S):(e.consume(t),A)}function S(e){return 47===e||62===e||x(e)?k(e):n(e)}function C(t){return 62===t?(e.consume(t),T):n(t)}function T(t){return x(t)?(e.consume(t),T):null===t||m(t)?F(t):n(t)}function F(t){return 45===t&&2===r?(e.consume(t),L):60===t&&1===r?(e.consume(t),I):62===t&&4===r?(e.consume(t),j):63===t&&3===r?(e.consume(t),M):93===t&&5===r?(e.consume(t),O):m(t)&&(6===r||7===r)?e.check(Q,j,D)(t):null===t||m(t)?D(t):(e.consume(t),F)}function D(t){return e.exit("htmlFlowData"),function t(n){return null===n?R(n):m(n)?e.attempt({tokenize:B,partial:!0},t,R)(n):(e.enter("htmlFlowData"),F(n))}(t)}function B(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return u.parser.lazy[u.now().line]?n(e):t(e)}}function L(t){return 45===t?(e.consume(t),M):F(t)}function I(t){return 47===t?(e.consume(t),a="",N):F(t)}function N(t){return 62===t&&K.includes(a.toLowerCase())?(e.consume(t),j):c(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),N):F(t)}function O(t){return 93===t?(e.consume(t),M):F(t)}function M(t){return 62===t?(e.consume(t),j):45===t&&2===r?(e.consume(t),M):F(t)}function j(t){return null===t||m(t)?(e.exit("htmlFlowData"),R(t)):(e.consume(t),j)}function R(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&!("enter"===e[t][0]&&"htmlFlow"===e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},concrete:!0},61:el,95:ea,96:j,126:j},flowInitial:{[-2]:R,[-1]:R,32:R},insideSpan:{null:[F,ed]},string:{38:M,92:I},text:{[-5]:ei,[-4]:ei,[-3]:ei,33:en,38:M,42:F,60:[{name:"autolink",tokenize:function(e,t,n){let r=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return c(t)?(e.consume(t),a):g(t)?s(t):n(t)}function a(t){return 43===t||45===t||46===t||f(t)?function t(n){return 58===n?(e.consume(n),o):(43===n||45===n||46===n||f(n))&&r++<32?(e.consume(n),t):s(n)}(t):s(t)}function o(t){return 62===t?(e.exit("autolinkProtocol"),l(t)):null===t||32===t||60===t||y(t)?n(t):(e.consume(t),o)}function s(t){return 64===t?(e.consume(t),r=0,u):g(t)?(e.consume(t),s):n(t)}function u(t){return f(t)?function t(i){return 46===i?(e.consume(i),r=0,u):62===i?(e.exit("autolinkProtocol").type="autolinkEmail",l(i)):function i(a){return(45===a||f(a))&&r++<63?(e.consume(a),45===a?i:t):n(a)}(i)}(t):n(t)}function l(n){return e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t}}},{name:"htmlText",tokenize:function(e,t,n){let r,i,a,o;let s=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),u};function u(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),T):63===t?(e.consume(t),S):c(t)?(e.consume(t),D):n(t)}function l(t){return 45===t?(e.consume(t),d):91===t?(e.consume(t),i="CDATA[",a=0,v):c(t)?(e.consume(t),A):n(t)}function d(t){return 45===t?(e.consume(t),h):n(t)}function h(t){return null===t||62===t?n(t):45===t?(e.consume(t),p):g(t)}function p(e){return null===e||62===e?n(e):g(e)}function g(t){return null===t?n(t):45===t?(e.consume(t),y):m(t)?(o=g,j(t)):(e.consume(t),g)}function y(t){return 45===t?(e.consume(t),P):g(t)}function v(t){return t===i.charCodeAt(a++)?(e.consume(t),a===i.length?k:v):n(t)}function k(t){return null===t?n(t):93===t?(e.consume(t),w):m(t)?(o=k,j(t)):(e.consume(t),k)}function w(t){return 93===t?(e.consume(t),_):k(t)}function _(t){return 62===t?P(t):93===t?(e.consume(t),_):k(t)}function A(t){return null===t||62===t?P(t):m(t)?(o=A,j(t)):(e.consume(t),A)}function S(t){return null===t?n(t):63===t?(e.consume(t),C):m(t)?(o=S,j(t)):(e.consume(t),S)}function C(e){return 62===e?P(e):S(e)}function T(t){return c(t)?(e.consume(t),F):n(t)}function F(t){return 45===t||f(t)?(e.consume(t),F):function t(n){return m(n)?(o=t,j(n)):x(n)?(e.consume(n),t):P(n)}(t)}function D(t){return 45===t||f(t)?(e.consume(t),D):47===t||62===t||b(t)?B(t):n(t)}function B(t){return 47===t?(e.consume(t),P):58===t||95===t||c(t)?(e.consume(t),L):m(t)?(o=B,j(t)):x(t)?(e.consume(t),B):P(t)}function L(t){return 45===t||46===t||58===t||95===t||f(t)?(e.consume(t),L):function t(n){return 61===n?(e.consume(n),I):m(n)?(o=t,j(n)):x(n)?(e.consume(n),t):B(n)}(t)}function I(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,N):m(t)?(o=I,j(t)):x(t)?(e.consume(t),I):(e.consume(t),r=void 0,M)}function N(t){return t===r?(e.consume(t),O):null===t?n(t):m(t)?(o=N,j(t)):(e.consume(t),N)}function O(e){return 62===e||47===e||b(e)?B(e):n(e)}function M(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):62===t||b(t)?B(t):(e.consume(t),M)}function j(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),E(e,R,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function R(t){return e.enter("htmlTextData"),o(t)}function P(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}}}],91:er,92:[{name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),r};function r(r){return m(r)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(r)):n(r)}}},I],93:J,95:F,96:{name:"codeText",tokenize:function(e,t,n){let r=0,i,a;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),function t(n){return 96===n?(e.consume(n),r++,t):(e.exit("codeTextSequence"),o(n))}(t)};function o(u){return null===u?n(u):96===u?(a=e.enter("codeTextSequence"),i=0,function n(o){return 96===o?(e.consume(o),i++,n):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(o)):(a.type="codeTextData",s(o))}(u)):32===u?(e.enter("space"),e.consume(u),e.exit("space"),o):m(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):(e.enter("codeTextData"),s(u))}function s(t){return null===t||32===t||96===t||m(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),s)}},resolve:function(e){let t=e.length-4,n=3,r,i;if(("lineEnding"===e[3][1].type||"space"===e[n][1].type)&&("lineEnding"===e[t][1].type||"space"===e[t][1].type)){for(r=n;++r<t;)if("codeTextData"===e[r][1].type){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)void 0===i?r!==t&&"lineEnding"!==e[r][1].type&&(i=r):(r===t||"lineEnding"===e[r][1].type)&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}}}},Symbol.toStringTag,{value:"Module"})),em=/[\0\t\n\r]/g;function ex(e,t){let n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(65535&n)==65535||(65535&n)==65534||n>1114111?"":String.fromCharCode(n)}let ev=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ek(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){let e=n.charCodeAt(1),t=120===e||88===e;return ex(n.slice(t?2:1),t?16:10)}return O(n)||e}function ew(e){return e&&"object"==typeof e?"position"in e||"type"in e?e_(e.position):"start"in e||"end"in e?e_(e):"line"in e||"column"in e?eE(e):"":""}function eE(e){return eA(e&&e.line)+":"+eA(e&&e.column)}function e_(e){return eE(e&&e.start)+"-"+eE(e&&e.end)}function eA(e){return e&&"number"==typeof e?e:1}let eS={}.hasOwnProperty,eC=function(e,t,n){let r,i,o,c;return"string"!=typeof t&&(n=t,t=void 0),(function(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(v),autolinkProtocol:h,autolinkEmail:h,atxHeading:o(b),blockQuote:o(function(){return{type:"blockquote",children:[]}}),characterEscape:h,characterReference:h,codeFenced:o(y),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(y,s),codeText:o(function(){return{type:"inlineCode",value:""}},s),codeTextData:h,data:h,codeFlowValue:h,definition:o(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:o(m),hardBreakTrailing:o(m),htmlFlow:o(x,s),htmlFlowData:h,htmlText:o(x,s),htmlTextData:h,image:o(function(){return{type:"image",title:null,url:"",alt:null}}),label:s,link:o(v),listItem:o(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){if(n.expectingFirstListItemValue){let t=this.stack[this.stack.length-2];t.start=Number.parseInt(this.sliceSerialize(e),10),n.expectingFirstListItemValue=void 0}},listOrdered:o(k,function(){n.expectingFirstListItemValue=!0}),listUnordered:o(k),paragraph:o(function(){return{type:"paragraph",children:[]}}),reference:function(){n.referenceType="collapsed"},referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(b),strong:o(function(){return{type:"strong",children:[]}}),thematicBreak:o(function(){return{type:"thematicBreak"}})},exit:{atxHeading:l(),atxHeadingSequence:function(e){let t=this.stack[this.stack.length-1];if(!t.depth){let n=this.sliceSerialize(e).length;t.depth=n}},autolink:l(),autolinkEmail:function(e){f.call(this,e);let t=this.stack[this.stack.length-1];t.url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){f.call(this,e);let t=this.stack[this.stack.length-1];t.url=this.sliceSerialize(e)},blockQuote:l(),characterEscapeValue:f,characterReferenceMarkerHexadecimal:g,characterReferenceMarkerNumeric:g,characterReferenceValue:function(e){let t;let r=this.sliceSerialize(e),i=n.characterReferenceType;i?(t=ex(r,"characterReferenceMarkerNumeric"===i?10:16),n.characterReferenceType=void 0):t=O(r);let a=this.stack.pop();a.value+=t,a.position.end=eT(e.end)},codeFenced:l(function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),n.flowCodeInside=void 0}),codeFencedFence:function(){n.flowCodeInside||(this.buffer(),n.flowCodeInside=!0)},codeFencedFenceInfo:function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.lang=e},codeFencedFenceMeta:function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.meta=e},codeFlowValue:f,codeIndented:l(function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/(\r?\n|\r)$/g,"")}),codeText:l(function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}),codeTextData:f,data:f,definition:l(),definitionDestinationString:function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.url=e},definitionLabelString:function(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=X(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.title=e},emphasis:l(),hardBreakEscape:l(p),hardBreakTrailing:l(p),htmlFlow:l(function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}),htmlFlowData:f,htmlText:l(function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}),htmlTextData:f,image:l(function(){let e=this.stack[this.stack.length-1];if(n.inReference){let t=n.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;n.referenceType=void 0}),label:function(){let e=this.stack[this.stack.length-1],t=this.resume(),r=this.stack[this.stack.length-1];if(n.inReference=!0,"link"===r.type){let t=e.children;r.children=t}else r.alt=t},labelText:function(e){let t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=t.replace(ev,ek),n.identifier=X(t).toLowerCase()},lineEnding:function(e){let r=this.stack[this.stack.length-1];if(n.atHardBreak){let t=r.children[r.children.length-1];t.position.end=eT(e.end),n.atHardBreak=void 0;return}!n.setextHeadingSlurpLineEnding&&t.canContainEols.includes(r.type)&&(h.call(this,e),f.call(this,e))},link:l(function(){let e=this.stack[this.stack.length-1];if(n.inReference){let t=n.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;n.referenceType=void 0}),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:function(e){let t=this.resume(),r=this.stack[this.stack.length-1];r.label=t,r.identifier=X(this.sliceSerialize(e)).toLowerCase(),n.referenceType="full"},resourceDestinationString:function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.url=e},resourceTitleString:function(){let e=this.resume(),t=this.stack[this.stack.length-1];t.title=e},resource:function(){n.inReference=void 0},setextHeading:l(function(){n.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(e){let t=this.stack[this.stack.length-1];t.depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2},setextHeadingText:function(){n.setextHeadingSlurpLineEnding=!0},strong:l(),thematicBreak:l()}};(function e(t,n){let r=-1;for(;++r<n.length;){let i=n[r];Array.isArray(i)?e(t,i):function(e,t){let n;for(n in t)if(eS.call(t,n)){if("canContainEols"===n){let r=t[n];r&&e[n].push(...r)}else if("transforms"===n){let r=t[n];r&&e[n].push(...r)}else if("enter"===n||"exit"===n){let r=t[n];r&&Object.assign(e[n],r)}}}(t,i)}})(t,(e||{}).mdastExtensions||[]);let n={};return function(e){let n={type:"root",children:[]},a={stack:[n],tokenStack:[],config:t,enter:u,exit:c,buffer:s,resume:d,setData:r,getData:i},o=[],l=-1;for(;++l<e.length;)if("listOrdered"===e[l][1].type||"listUnordered"===e[l][1].type){if("enter"===e[l][0])o.push(l);else{let t=o.pop();l=function(e,t,n){let r=t-1,i=-1,a=!1,o,s,u,l;for(;++r<=n;){let t=e[r];if("listUnordered"===t[1].type||"listOrdered"===t[1].type||"blockQuote"===t[1].type?("enter"===t[0]?i++:i--,l=void 0):"lineEndingBlank"===t[1].type?"enter"===t[0]&&(!o||l||i||u||(u=r),l=void 0):"linePrefix"===t[1].type||"listItemValue"===t[1].type||"listItemMarker"===t[1].type||"listItemPrefix"===t[1].type||"listItemPrefixWhitespace"===t[1].type||(l=void 0),!i&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===i&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(o){let i=r;for(s=void 0;i--;){let t=e[i];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;s&&(e[s][1].type="lineEndingBlank",a=!0),t[1].type="lineEnding",s=i}else if(!("linePrefix"===t[1].type||"blockQuotePrefix"===t[1].type||"blockQuotePrefixWhitespace"===t[1].type||"blockQuoteMarker"===t[1].type||"listItemIndent"===t[1].type))break}u&&(!s||u<s)&&(o._spread=!0),o.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||r,0,["exit",o,t[2]]),r++,n++}"listItemPrefix"===t[1].type&&(o={type:"listItem",_spread:!1,start:Object.assign({},t[1].start)},e.splice(r,0,["enter",o,t[2]]),r++,n++,u=void 0,l=!0)}}return e[t][1]._spread=a,n}(e,t,l)}}for(l=-1;++l<e.length;){let n=t[e[l][0]];eS.call(n,e[l][1].type)&&n[e[l][1].type].call(Object.assign({sliceSerialize:e[l][2].sliceSerialize},a),e[l][1])}if(a.tokenStack.length>0){let e=a.tokenStack[a.tokenStack.length-1];(e[1]||eF).call(a,void 0,e[0])}for(n.position={start:eT(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:eT(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},l=-1;++l<t.transforms.length;)n=t.transforms[l](n)||n;return n};function r(e,t){n[e]=t}function i(e){return n[e]}function o(e,t){return function(n){u.call(this,e(n),n),t&&t.call(this,n)}}function s(){this.stack.push({type:"fragment",children:[]})}function u(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:eT(t.start)},e}function l(e){return function(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){let n=this.stack.pop(),r=this.tokenStack.pop();if(r)r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||eF).call(this,e,r[0]));else throw Error("Cannot close `"+e.type+"` ("+ew({start:e.start,end:e.end})+"): its not open");return n.position.end=eT(e.end),n}function d(){return function(e,t){var{includeImageAlt:n=!0}={};return a(e,n)}(this.stack.pop())}function h(e){let t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type||((n={type:"text",value:""}).position={start:eT(e.start)},t.children.push(n)),this.stack.push(n)}function f(e){let t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=eT(e.end)}function p(){n.atHardBreak=!0}function g(e){var t;t=e.type,n.characterReferenceType=t}function y(){return{type:"code",lang:null,meta:null,value:""}}function b(){return{type:"heading",depth:void 0,children:[]}}function m(){return{type:"break"}}function x(){return{type:"html",value:""}}function v(){return{type:"link",title:null,url:"",children:[]}}function k(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}})(n)(function(e){for(;!$(e););return e}((function(e={}){let t=function(e){let t={},n=-1;for(;++n<e.length;)(function(e,t){let n;for(n in t){let r;let i=(l.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];for(r in a){l.call(i,r)||(i[r]=[]);let e=a[r];(function(e,t){let n=-1,r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);s(e,0,0,r)})(i[r],Array.isArray(e)?e:e?[e]:[])}}})(t,e[n]);return t}([eb].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(_),document:r(A),flow:r(ec),string:r(eh),text:r(ef)};return n;function r(e){return function(t){return function(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},a=[],o=[],l=[],c={consume:function(e){m(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,x()):-1!==e&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=e},enter:function(e,t){let n=t||{};return n.type=e,n.start=p(),d.events.push(["enter",n,d]),l.push(n),n},exit:function(e){let t=l.pop();return t.end=p(),d.events.push(["exit",t,d]),t},attempt:y(function(e,t){b(e,t.from)}),check:y(g),interrupt:y(g,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:function(e,t){return function(e,t){let n,r=-1,i=[];for(;++r<e.length;){let a;let o=e[r];if("string"==typeof o)a=o;else switch(o){case -5:a="\r";break;case -4:a=`
`;break;case -3:a=`\r
`;break;case -2:a=t?" ":"	";break;case -1:if(!t&&n)continue;a=" ";break;default:a=String.fromCharCode(o)}n=-2===o,i.push(a)}return i.join("")}(f(e),t)},now:p,defineSkip:function(e){i[e.line]=e.column,x()},write:function(e){return o=u(o,e),function(){let e;for(;r._index<o.length;){var t;let n=o[r._index];if("string"==typeof n)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<n.length;)t=n.charCodeAt(r._bufferIndex),h=h(t);else h=h(n)}}(),null!==o[o.length-1]?[]:(b(t,0),d.events=T(a,d.events,d),d.events)}},h=t.tokenize.call(d,c);return t.resolveAll&&a.push(t),d;function f(e){return function(e,t){let n;let r=t.start._index,i=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;return r===a?n=[e[r].slice(i,o)]:(n=e.slice(r,a),i>-1&&(n[0]=n[0].slice(i)),o>0&&n.push(e[a].slice(0,o))),n}(o,e)}function p(){return Object.assign({},r)}function g(e,t){t.restore()}function y(e,t){return function(n,i,a){let o,s,u,h;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){let t=null!==e&&n[e],r=null!==e&&n.null,i=[...Array.isArray(t)?t:t?[t]:[],...Array.isArray(r)?r:r?[r]:[]];return f(i)(e)};function f(e){return o=e,s=0,0===e.length?a:g(e[s])}function g(e){return function(n){return h=function(){let e=p(),t=d.previous,n=d.currentConstruct,i=d.events.length,a=Array.from(l);return{restore:function(){r=e,d.previous=t,d.currentConstruct=n,d.events.length=i,l=a,x()},from:i}}(),u=e,e.partial||(d.currentConstruct=e),e.name&&d.parser.constructs.disable.null.includes(e.name)?b():e.tokenize.call(t?Object.assign(Object.create(d),t):d,c,y,b)(n)}}function y(t){return e(u,h),i}function b(e){return h.restore(),++s<o.length?g(o[s]):a}}}function b(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&s(d.events,t,d.events.length-t,e.resolve(d.events.slice(t),d)),e.resolveTo&&(d.events=e.resolveTo(d.events,d))}function x(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}(n,e,t)}}})(n).document().write((r=1,i="",o=!0,function(e,t,n){let a,s,u,l,d;let h=[];for(e=i+e.toString(t),u=0,i="",o&&(65279===e.charCodeAt(0)&&u++,o=void 0);u<e.length;){if(em.lastIndex=u,l=(a=em.exec(e))&&void 0!==a.index?a.index:e.length,d=e.charCodeAt(l),!a){i=e.slice(u);break}if(10===d&&u===l&&c)h.push(-3),c=void 0;else switch(c&&(h.push(-5),c=void 0),u<l&&(h.push(e.slice(u,l)),r+=l-u),d){case 0:h.push(65533),r++;break;case 9:for(s=4*Math.ceil(r/4),h.push(-2);r++<s;)h.push(-1);break;case 10:h.push(-4),r=1;break;default:c=!0,r=1}u=l+1}return n&&(c&&h.push(-5),i&&h.push(i),h.push(null)),h})(e,t,!0))))};function eT(e){return{line:e.line,column:e.column,offset:e.offset}}function eF(e,t){throw e?Error("Cannot close `"+e.type+"` ("+ew({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ew({start:t.start,end:t.end})+") is open"):Error("Cannot close document, a token (`"+t.type+"`, "+ew({start:t.start,end:t.end})+") is still open")}function eD(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}function eB(e,t){e.text(""),t.forEach((t,n)=>{let r=e.append("tspan").attr("font-style","emphasis"===t.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===t.type?"bold":"normal");0===n?r.text(t.content):r.text(" "+t.content)})}let eL=(e,t="",{style:n="",isTitle:r=!1,classes:a="",useHtmlLabels:o=!0,isNode:s=!0,width:u=200,addSvgBackground:l=!1}={})=>{if((0,i.l).info("createText",t,n,r,a,o,s,l),o){let r=function(e){let{children:t}=eC(e);return t.map(function e(t){return"text"===t.type?t.value.replace(/\n/g,"<br/>"):"strong"===t.type?`<strong>${t.children.map(e).join("")}</strong>`:"emphasis"===t.type?`<em>${t.children.map(e).join("")}</em>`:"paragraph"===t.type?`<p>${t.children.map(e).join("")}</p>`:`Unsupported markdown: ${t.type}`}).join("")}(t),o={isNode:s,label:(0,i.aT)(r).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:n.replace("fill:","color:")};return function(e,t,n,r,i=!1){var a;let o=e.append("foreignObject"),s=o.append("xhtml:div"),u=t.label,l=t.isNode?"nodeLabel":"edgeLabel";s.html(`
    <span class="${l} ${r}" `+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+u+"</span>"),(a=t.labelStyle)&&s.attr("style",a),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("max-width",n+"px"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let c=s.node().getBoundingClientRect();return c.width===n&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",n+"px"),c=s.node().getBoundingClientRect()),o.style("width",c.width),o.style("height",c.height),o.node()}(e,o,u,a,l)}{let n=function(e){let t=function(e){let t=e.replace(/\n{2,}/g,`
`);return(0,i.b8)(t)}(e),{children:n}=eC(t),r=[[]],a=0;return n.forEach(e=>{"paragraph"===e.type&&e.children.forEach(e=>{(function e(t,n="normal"){"text"===t.type?t.value.split(`
`).forEach((e,t)=>{0!==t&&(a++,r.push([])),e.split(" ").forEach(e=>{e&&r[a].push({content:e,type:n})})}):("strong"===t.type||"emphasis"===t.type)&&t.children.forEach(n=>{e(n,t.type)})})(e)})}),r}(t);return function(e,t,n,r=!1){let i=t.append("g"),a=i.insert("rect").attr("class","background"),o=i.append("text").attr("y","-10.1"),s=0;for(let t of n){let n=t=>(function(e,t,n){let r=e.append("text"),i=eD(r,1,1.1);eB(i,n);let a=i.node().getComputedTextLength();return r.remove(),a})(i,0,t)<=e,r=n(t)?[t]:function(e,t){if(e.some(({content:e})=>e.includes(`
`)))throw Error("splitLineToFitWidth does not support newlines in the line");return function e(t,n,r=[],i=[]){var a;if(0===t.length)return i.length>0&&r.push(i),r.length>0?r:[];let o="";" "===t[0].content&&(o=" ",t.shift());let s=null!==(a=t.shift())&&void 0!==a?a:{content:" ",type:"normal"},u=[...i];if(""!==o&&u.push({content:o,type:"normal"}),u.push(s),n(u))return e(t,n,r,u);if(i.length>0)r.push(i),t.unshift(s);else if(s.content){let[e,i]=function(e,t){var n;let r=(n=t.content,Intl.Segmenter?[...new Intl.Segmenter().segment(n)].map(e=>e.segment):[...n]);return function e(t,n,r,i){if(0===r.length)return[{content:n.join(""),type:i},{content:"",type:i}];let[a,...o]=r,s=[...n,a];return t([{content:s.join(""),type:i}])?e(t,s,o,i):(0===n.length&&a&&(n.push(a),r.shift()),[{content:n.join(""),type:i},{content:r.join(""),type:i}])}(e,[],r,t.type)}(n,s);r.push([e]),i.content&&t.unshift(i)}return e(t,n,r)}(e,t)}(t,n);for(let e of r){let t=eD(o,s,1.1);eB(t,e),s++}}if(!r)return o.node();{let e=o.node().getBBox();return a.attr("x",-2).attr("y",-2).attr("width",e.width+4).attr("height",e.height+4),i.node()}}(u,e,n,l)}}}),t.register("iFKul",function(n,r){e(n.exports,"p",function(){return u}),e(n.exports,"s",function(){return d});var i=t("2O8Km"),a=t("apqLh");let o=0,s=function(e){let t=e.id;return e.type&&(t+="<"+e.type+">"),t},u=function(e){let t="",n="",r="",a="",o=e.substring(0,1),s=e.substring(e.length-1,e.length);o.match(/[#+~-]/)&&(a=o);let u=/[\s\w)~]/;s.match(u)||(n=c(s));let l=""===a?0:1,d=""===n?e.length:e.length-1;e=e.substring(l,d);let h=e.indexOf("("),f=e.indexOf(")");if(h>1&&f>h&&f<=e.length){let o=e.substring(0,h).trim(),s=e.substring(h+1,f);if(t=a+o+"("+(0,i.H)(s.trim())+")",f<e.length){let a=e.substring(f+1,f+2);""!==n||a.match(u)?r=e.substring(f+1).trim():(n=c(a),r=e.substring(f+2).trim()),""!==r&&(":"===r.charAt(0)&&(r=r.substring(1).trim()),t+=r=" : "+(0,i.H)(r))}}else t=a+(0,i.H)(e);return{displayText:t,cssStyle:n}},l=function(e,t,n,r){let i=u(t),a=e.append("tspan").attr("x",r.padding).text(i.displayText);""!==i.cssStyle&&a.attr("style",i.cssStyle),n||a.attr("dy",r.textHeight)},c=function(e){switch(e){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},d={getClassTitleString:s,drawClass:function(e,t,n,r){let a;(0,i.l).debug("Rendering class ",t,n);let o=t.id,u={id:o,label:t.id,width:0,height:0},c=e.append("g").attr("id",r.db.lookUpDomId(o)).attr("class","classGroup");a=t.link?c.append("svg:a").attr("xlink:href",t.link).attr("target",t.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):c.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let d=!0;t.annotations.forEach(function(e){let t=a.append("tspan").text("\xab"+e+"\xbb");d||t.attr("dy",n.textHeight),d=!1});let h=s(t),f=a.append("tspan").text(h).attr("class","title");d||f.attr("dy",n.textHeight);let p=a.node().getBBox().height,g=c.append("line").attr("x1",0).attr("y1",n.padding+p+n.dividerMargin/2).attr("y2",n.padding+p+n.dividerMargin/2),y=c.append("text").attr("x",n.padding).attr("y",p+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");d=!0,t.members.forEach(function(e){l(y,e,d,n),d=!1});let b=y.node().getBBox(),m=c.append("line").attr("x1",0).attr("y1",n.padding+p+n.dividerMargin+b.height).attr("y2",n.padding+p+n.dividerMargin+b.height),x=c.append("text").attr("x",n.padding).attr("y",p+2*n.dividerMargin+b.height+n.textHeight).attr("fill","white").attr("class","classText");d=!0,t.methods.forEach(function(e){l(x,e,d,n),d=!1});let v=c.node().getBBox();var k=" ";t.cssClasses.length>0&&(k+=t.cssClasses.join(" "));let w=c.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",v.width+2*n.padding).attr("height",v.height+n.padding+.5*n.dividerMargin).attr("class",k).node().getBBox().width;return a.node().childNodes.forEach(function(e){e.setAttribute("x",(w-e.getBBox().width)/2)}),t.tooltip&&a.insert("title").text(t.tooltip),g.attr("x2",w),m.attr("x2",w),u.width=w,u.height=v.height+n.padding+.5*n.dividerMargin,u},drawEdge:function(e,t,n,r,s){let u,l,c,d,h,f;let p=function(e){switch(e){case s.db.relationType.AGGREGATION:return"aggregation";case s.db.relationType.EXTENSION:return"extension";case s.db.relationType.COMPOSITION:return"composition";case s.db.relationType.DEPENDENCY:return"dependency";case s.db.relationType.LOLLIPOP:return"lollipop"}};t.points=t.points.filter(e=>!Number.isNaN(e.y));let g=t.points,y=(0,a.l)().x(function(e){return e.x}).y(function(e){return e.y}).curve(i.G),b=e.append("path").attr("d",y(g)).attr("id","edge"+o).attr("class","relation"),m="";r.arrowMarkerAbsolute&&(m=(m=(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==n.relation.lineType&&b.attr("class","relation dashed-line"),10==n.relation.lineType&&b.attr("class","relation dotted-line"),"none"!==n.relation.type1&&b.attr("marker-start","url("+m+"#"+p(n.relation.type1)+"Start)"),"none"!==n.relation.type2&&b.attr("marker-end","url("+m+"#"+p(n.relation.type2)+"End)");let x=t.points.length,v=(0,i.A).calcLabelPosition(t.points);if(u=v.x,l=v.y,x%2!=0&&x>1){let e=(0,i.A).calcCardinalityPosition("none"!==n.relation.type1,t.points,t.points[0]),r=(0,i.A).calcCardinalityPosition("none"!==n.relation.type2,t.points,t.points[x-1]);(0,i.l).debug("cardinality_1_point "+JSON.stringify(e)),(0,i.l).debug("cardinality_2_point "+JSON.stringify(r)),c=e.x,d=e.y,h=r.x,f=r.y}if(void 0!==n.title){let t=e.append("g").attr("class","classLabel"),i=t.append("text").attr("class","label").attr("x",u).attr("y",l).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=i;let a=i.node().getBBox();t.insert("rect",":first-child").attr("class","box").attr("x",a.x-r.padding/2).attr("y",a.y-r.padding/2).attr("width",a.width+r.padding).attr("height",a.height+r.padding)}(0,i.l).info("Rendering relation "+JSON.stringify(n)),void 0!==n.relationTitle1&&"none"!==n.relationTitle1&&e.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",c).attr("y",d).attr("fill","black").attr("font-size","6").text(n.relationTitle1),void 0!==n.relationTitle2&&"none"!==n.relationTitle2&&e.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",h).attr("y",f).attr("fill","black").attr("font-size","6").text(n.relationTitle2),o++},drawNote:function(e,t,n,r){(0,i.l).debug("Rendering note ",t,n);let a=t.id,o={id:a,text:t.text,width:0,height:0},s=e.append("g").attr("id",a).attr("class","classGroup"),u=s.append("text").attr("y",n.textHeight+n.padding).attr("x",0),l=JSON.parse(`"${t.text}"`).split(`
`);l.forEach(function(e){(0,i.l).debug(`Adding line: ${e}`),u.append("tspan").text(e).attr("class","title").attr("dy",n.textHeight)});let c=s.node().getBBox(),d=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",c.width+2*n.padding).attr("height",c.height+l.length*n.textHeight+n.padding+.5*n.dividerMargin).node().getBBox().width;return u.node().childNodes.forEach(function(e){e.setAttribute("x",(d-e.getBBox().width)/2)}),o.width=d,o.height=c.height+l.length*n.textHeight+n.padding+.5*n.dividerMargin,o},parseMember:u}}),t.register("apqLh",function(n,r){e(n.exports,"l",function(){return l});var i=t("kCXse"),a=t("lpALS"),o=t("2O8Km");function s(e){return e[0]}function u(e){return e[1]}function l(e,t){var n=(0,a.c)(!0),r=null,l=o.o,c=null;function d(o){var s,u,d,h=(o=(0,i.a)(o)).length,f=!1;for(null==r&&(c=l(d=(0,a.p)())),s=0;s<=h;++s)!(s<h&&n(u=o[s],s,o))===f&&((f=!f)?c.lineStart():c.lineEnd()),f&&c.point(+e(u,s,o),+t(u,s,o));if(d)return c=null,d+""||null}return e="function"==typeof e?e:void 0===e?s:(0,a.c)(e),t="function"==typeof t?t:void 0===t?u:(0,a.c)(t),d.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,a.c)(+t),d):e},d.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,a.c)(+e),d):t},d.defined=function(e){return arguments.length?(n="function"==typeof e?e:(0,a.c)(!!e),d):n},d.curve=function(e){return arguments.length?(l=e,null!=r&&(c=l(r)),d):l},d.context=function(e){return arguments.length?(null==e?r=c=null:c=l(r=e),d):r},d}}),t.register("kCXse",function(t,n){e(t.exports,"a",function(){return r});function r(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}}),t.register("lpALS",function(t,n){e(t.exports,"p",function(){return s}),e(t.exports,"c",function(){return u});let r=Math.PI,i=2*r,a=i-1e-6;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new o}function u(e){return function(){return e}}o.prototype=s.prototype={constructor:o,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,i,a){e=+e,t=+t,n=+n,i=+i,a=+a;var o=this._x1,s=this._y1,u=n-e,l=i-t,c=o-e,d=s-t,h=c*c+d*d;if(a<0)throw Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6){if(Math.abs(d*u-l*c)>1e-6&&a){var f=n-o,p=i-s,g=u*u+l*l,y=Math.sqrt(g),b=Math.sqrt(h),m=a*Math.tan((r-Math.acos((g+h-(f*f+p*p))/(2*y*b)))/2),x=m/b,v=m/y;Math.abs(x-1)>1e-6&&(this._+="L"+(e+x*c)+","+(t+x*d)),this._+="A"+a+","+a+",0,0,"+ +(d*f>c*p)+","+(this._x1=e+v*u)+","+(this._y1=t+v*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)}},arc:function(e,t,n,o,s,u){e=+e,t=+t,n=+n,u=!!u;var l=n*Math.cos(o),c=n*Math.sin(o),d=e+l,h=t+c,f=1^u,p=u?o-s:s-o;if(n<0)throw Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+h:(Math.abs(this._x1-d)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+d+","+h),n&&(p<0&&(p=p%i+i),p>a?this._+="A"+n+","+n+",0,1,"+f+","+(e-l)+","+(t-c)+"A"+n+","+n+",0,1,"+f+","+(this._x1=d)+","+(this._y1=h):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=r)+","+f+","+(this._x1=e+n*Math.cos(s))+","+(this._y1=t+n*Math.sin(s))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}}})}();